// For license information, see `https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/launch-bc2c66d5dd0b.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2021-06-17T14:24:19Z",environment:"production",turbineBuildDate:"2021-04-26T16:54:28Z",turbineVersion:"27.1.3"},dataElements:{pr_att_mmdr:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer");if(0==e.product.length)return"";var t=e.product.length-1;return e.product[t].attributes.mmdr}catch(a){}}}},isAdobeAnalyticsAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,a=_satellite.getVar("consentMap").AdobeAnalytics;return t.isTrackingAllowed(a).toString()}catch(e){var s={from:"AA",type:"DE",name:"isAdobeAnalyticsAllowed"};_satellite.logger.error(e,s)}}}},ev_cat_subCategory01:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].category.subCategory01}catch(a){}}}},ev_eve_eventAction:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.eventAction||""}catch(a){}}}},"TPT-PII_keywords":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["firstname","lastname","email","vin","name","loginid","password","registrationpassword","confirmationpassword","confirmregistrationpassword","registrationid","passwordconfirmation","username","enname","token","phone","telephone"]}}},"AA-Exclusionlist":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["eVar0","eVar4","eVar5","eVar7","eVar8","eVar12","eVar36","eVar6","eVar9","eVar10","eVar11","eVar13","eVar14","eVar17","eVar37","eVar38","eVar48","eVar59","eVar61","eVar62","eVar63","eVar64","eVar71","eVar120","eVar122","eVar125","eVar132","eVar142","eVar171","eVar172","prop17"]}}},topLevelDomain:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.location.hostname,a=t.split(".").reverse(),s=a[1]+"."+a[0];return(-1<t.indexOf(".co.")||-1<t.indexOf(".com.")&&2<a.length)&&(s=a[2]+"."+s),s}catch(e){var r={from:"AA",type:"DE",name:"topLevelDomain"};_satellite.logger.error(e,r)}}}},pa_cat_subCategory01:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.category.subCategory01}catch(e){}}}},usabilla_randomizer:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",a=_satellite.getVar("topLevelDomain").split("."),s=a[a.length-1].toUpperCase();"UK"==s&&(s="GB"),"COM"==s&&-1<window.location.href.indexOf("bmw.com/en-au/")&&(s="AU");var r,n=["DE","GB","JP","IT","FR","ES","RU","KR","AU","NL","AT","CN","ZA","CA","MX","TR","PL"],o={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:5,Psyma:25,Other:58}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:25,CES:10,Psyma:46,Other:19}},JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:13,CES:5,Psyma:0,Other:82}},IT:{buttonCode:{DESKTOP:"88ab5d53da60",MOBILE:"8e1a4fcc286b"},NPS:{DESKTOP:"c4a8ccbec600",MOBILE:"73fa346d403b"},CES:{DESKTOP:"0aae4c00330a",MOBILE:"ace839b972fd"},random:{NPS:10,CES:10,Psyma:46,Other:34}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:80,CES:5,Psyma:0,Other:15}},ES:{buttonCode:{DESKTOP:"8445c5a2cf12",MOBILE:"3008841f7269"},NPS:{DESKTOP:"7e88e6163a4c",MOBILE:"cd793f80bda6"},CES:{DESKTOP:"879b46cf88f5",MOBILE:"4ac2bb513106"},random:{NPS:26,CES:5,Psyma:0,Other:69}},RU:{buttonCode:{DESKTOP:"92772dbeabd8",MOBILE:"dbbd8c96c68a"},NPS:{DESKTOP:"3cda55b4e6d0",MOBILE:"a0870a2972f6"},CES:{DESKTOP:"1db9cb311c93",MOBILE:"a003194dfdc8"},random:{NPS:15,CES:10,Psyma:0,Other:75}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:10,Psyma:0,Other:65}},AU:{buttonCode:{DESKTOP:"c8476b2d62dd",MOBILE:"d4b7a77bec58"},NPS:{DESKTOP:"e77a23160463",MOBILE:"882cd879928f"},CES:{DESKTOP:"343b84a4e928",MOBILE:"fd25e25af4f3"},random:{NPS:20,CES:10,Psyma:0,Other:70}},NL:{buttonCode:{DESKTOP:"44b55d42df13",MOBILE:"08982312381f"},NPS:{DESKTOP:"2979a4502fba",MOBILE:"363c153bc496"},CES:{DESKTOP:"d29bcee79e5e",MOBILE:"fa3ac53564d7"},random:{NPS:75,CES:10,Psyma:0,Other:15}},AT:{buttonCode:{DESKTOP:"fd1b75fa05a4",MOBILE:"3d1326b2e2da"},NPS:{DESKTOP:"63dc33967e95",MOBILE:"d9969ae1bed5"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:30,CES:0,Psyma:0,Other:70}},CN:{buttonCode:{DESKTOP:"cd813f067481",MOBILE:"19b6fbe6d646"},NPS:{DESKTOP:"ac90b5319d03",MOBILE:"28642a3ff0e4"},CES:{DESKTOP:"71255a3f180f",MOBILE:"b67d3528c7ad"},random:{NPS:85,CES:15,Psyma:0,Other:0}},ZA:{buttonCode:{DESKTOP:"e76b03c4d193",MOBILE:"25da3549cea1"},NPS:{DESKTOP:"82d8573d931c",MOBILE:"e9ae4da2cac2"},CES:{DESKTOP:"c68833e0a2d2",MOBILE:"7c9b7e333fe0"},random:{NPS:50,CES:10,Psyma:0,Other:40}},CA:{buttonCode:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},NPS:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},MX:{buttonCode:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},NPS:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},TR:{buttonCode:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},NPS:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},PL:{buttonCode:{DESKTOP:"d3bfaa402165",MOBILE:"bf451d583c95"},NPS:{DESKTOP:"",MOBILE:""},CES:{DESKTOP:"",MOBILE:""},random:{NPS:0,CES:0,Psyma:0,Other:100}}},i=((b=_satellite.cookie.get("bmwdtm_hq_vs"))==undefined&&(b=Math.floor(Date.now()/1e3),-1<n.indexOf(s)&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&_satellite.cookie.set("bmwdtm_hq_vs",b,{domain:_satellite.getVar("topLevelDomain")})),void 0!==_satellite.cookie.get("bmwdtm_hq_vs")&&null!=_satellite.cookie.get("bmwdtm_hq_vs")&&(m=_satellite.cookie.get("bmwdtm_hq_vs").slice(-2)),m=+m);if(("NPS"==(r=o[s]?function(e,t,a,s,r){if(t+a+s+r==100)return 0<=e&&e<t?"NPS":t<=e&&e<t+a?"CES":t+a<=e&&e<t+a+s?"PSYMA":t+a+s<=e&&e<t+a+s+r?"NO-SURVEY":void 0}(i,o[s].random.NPS,o[s].random.CES,o[s].random.Psyma,o[s].random.Other):"NO-SURVEY")||"CES"==r)&&-1<n.indexOf(s)){var c,l,d=null!=localStorage.getItem("usbl."+o[s].buttonCode[t]+".c."+o[s].NPS[t]),u=null!=localStorage.getItem("usbl."+o[s].buttonCode[t]+".c."+o[s].CES[t]);return c=!d||"T"!=localStorage.getItem("usbl."+o[s].buttonCode[t]+".c."+o[s].NPS[t]).split("/")[0],l=!u||"T"!=localStorage.getItem("usbl."+o[s].buttonCode[t]+".c."+o[s].CES[t]).split("/")[0],c&&l&&-1<n.indexOf(s)&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")?r:"NO-SURVEY"}return r}catch(e){_satellite.logger.error(e)}var m,b}}},URLNoParam:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return location.host+location.pathname}catch(e){}}}},"AA-reportSuite":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").cache;if(t.get("AA-reportSuite"))return t.get("AA-reportSuite");var a="bmwgroup.group.global.test",s="bmwgroup.group.global.all",r={"bmw.co.za":"bmwgroup.bmw.za.market","bmw.tj":"bmwgroup.bmw.tj.market","bmw.com.ar":"bmwgroup.bmw.ar.market","bmw.at":"bmwgroup.bmw.at.market","bmw.com.au":"bmwgroup.bmw.au.market","bmw.be":"bmwgroup.bmw.be.market","bmw.bg":"bmwgroup.bmw.bg.market","bmw.com.br":"bmwgroup.bmw.br.market","bmw.ca":"bmwgroup.bmw.ca.market","bmw.ch":"bmwgroup.bmw.ch.market","bmw.com.cn":"bmwgroup.bmw.cn.market","bmw.cz":"bmwgroup.bmw.cz.market","bmw.de":"bmwgroup.bmw.de.market","bmw.dk":"bmwgroup.bmw.dk.market","bmw.es":"bmwgroup.bmw.es.market","bmw.fi":"bmwgroup.bmw.fi.market","bmw.fr":"bmwgroup.bmw.fr.market","bmw.co.uk":"bmwgroup.bmw.uk.market","bmw.gr":"bmwgroup.bmw.gr.market","bmw.hu":"bmwgroup.bmw.hu.market","bmw.co.id":"bmwgroup.bmw.id.market","bmw.ie":"bmwgroup.bmw.ie.market","bmw.in":"bmwgroup.bmw.in.market","bmw.is":"bmwgroup.bmw.is.market","bmw.it":"bmwgroup.bmw.ita.market","bmw.co.jp":"bmwgroup.bmw.jp.market","bmw.co.kr":"bmwgroup.bmw.kr.market","bmw.lu":"bmwgroup.bmw.lu.market","bmw.com.mx":"bmwgroup.bmw.mx.market","bmw.com.my":"bmwgroup.bmw.my.market","bmw.nl":"bmwgroup.bmw.nl.market","bmw.no":"bmwgroup.bmw.no.market","bmw.co.nz":"bmwgroup.bmw.nz.market","bmw.pl":"bmwgroup.bmw.pl.market","bmw.pt":"bmwgroup.bmw.pt.market","bmw.ro":"bmwgroup.bmw.ro.market","bmw.ru":"bmwgroup.bmw.ru.market","bmw.se":"bmwgroup.bmw.se.market","bmw.si":"bmwgroup.bmw.si.market","bmw.sk":"bmwgroup.bmw.sk.market","bmw.co.th":"bmwgroup.bmw.th.market","bmw.com.sg":"bmwgroup.bmw.sg.market","bmw.com/en-au":"bmwgroup.bmw.au.market","mini.de":"bmwgroup.mini.de.market","mini.fr":"bmwgroup.mini.fr.market","mini.it":"bmwgroup.mini.it.market","mini.ch":"bmwgroup.mini.ch.market","mini.at":"bmwgroup.mini.at.market"},n=r[_satellite.getVar("topLevelDomain")]||r[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()],o=(c=new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname),l="staging"===_satellite.buildInfo.environment||"development"===_satellite.buildInfo.environment,c||l?a:s+","+n);return-1<o.indexOf("undefined")&&(o=a),t.set("AA-reportSuite",o),o}catch(e){var i={from:"AA",type:"DE",name:"AA-reportSuite"};_satellite.logger.error(e,i)}var c,l}}},server:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},"AA-localCampaignVariable":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}try{for(var a=["mz_ca","mz_sp"],s=(_satellite.getVar("topLevelDomain"),""),r=0,n=0;n<a.length;n++)t(a[n])?s+=t(a[n])+"|":(s+="no value|",r++);return s=2==r?"":s.slice(0,-1)}catch(e){var o={from:"AA",type:"DE",name:"AA-localCampaignVariable"};_satellite.logger.error(e,o)}}}},searchDefaultProduct:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"event851=0|event852=0|event853=0|event854=0|event855=0|event856=0|event857=0|event858=0;eVar10=datalayer field empty|eVar44=datalayer field missing|eVar45=datalayer field missing|eVar46=datalayer field missing|eVar47=datalayer field missing|eVar48=datalayer field missing|eVar49=datalayer field missing|eVar50=datalayer field missing|eVar51=datalayer field missing|eVar52=datalayer field missing|eVar53=datalayer field missing|eVar54=datalayer field missing|eVar55=datalayer field missing|eVar56=datalayer field missing|eVar57=datalayer field missing|eVar58=datalayer field missing|eVar65=datalayer field missing|eVar66=datalayer field missing|eVar121=datalayer field missing|eVar124=datalayer field missing|eVar126=datalayer field missing|"}}},jcrPathLevel3:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=_satellite.getVar("pa_pag_pageName"),a=_satellite.getVar("pa_cat_primaryCategory"),s=e.split("/"),r=6,n=3;n=n+r-1;var o=s.length;if(n<o)var i=s[n];else i="None";return"newvehicles"!==s[r]&&"all-models"!==s[r]||(i=n<o?s[n]+" "+s[n+1]:"None"),-1<e.indexOf("/configurator")&&(i="None"),"VCO"===a&&(i=t),i}catch(c){}}}},setProductString:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function A(e,t){for(var a=[],s=0;s<e.length;s++)-1===t.indexOf(e[s])&&a.push(e[s]);return a}function x(e){return-1<e.indexOf("gasoline")?-1<e.indexOf("hybrid")?"x":"o":-1<e.indexOf("diesel")?-1<e.indexOf("hybrid")?"y":"d":-1<e.indexOf("electric")?"e":-1<e.indexOf("petrol")?"b":e}return function(t){var a=["vehicle","service","search","accessory"];try{var s,r=_satellite.getVar("snapshotDL"),n="",o=(r.get("product"),{});for(var i in r.get("product"))isNaN(+i)||(o[r.get("product."+i+".productInfo.productID")]=i,"vehicle"==r.get("product."+i+".category.productType").toLowerCase()&&(s=i,r.get("product."+i+".productInfo.productID")));var c={product:{}};for(var i in r.get("product"))isNaN(+i)||(c.product[r.get("product."+i+".productInfo.productID")]={},c.product[r.get("product."+i+".productInfo.productID")]=r.get("product."+i));var l=Object.keys(c.product);for(var d in r.get("cart"),c.cart={},r.get("cart.item"))isNaN(+d)||"datalayer field missing"!=r.get("cart.item."+d+".productInfo.productID")&&"datalayer field empty"!=r.get("cart.item."+d+".productInfo.productID")&&(c.cart[r.get("cart.item."+d+".productInfo.productID")]={},c.cart[r.get("cart.item."+d+".productInfo.productID")]=r.get("cart.item."+d));var u=Object.keys(c.cart);for(var m in r.get("transaction"),c.transaction={},r.get("transaction.-1.item"))isNaN(+d)||"datalayer field missing"!=r.get("transaction.-1.item."+m+".productInfo.productID")&&"datalayer field empty"!=r.get("transaction.-1.item."+m+".productInfo.productID")&&(c.transaction[r.get("transaction.-1.item."+m+".productInfo.productID")]={},c.transaction[r.get("transaction.-1.item."+m+".productInfo.productID")]=r.get("transaction.-1.item."+m));var b=Object.keys(c.transaction);if(0<r.get("product").length)for(var p in r.get("product"))if(!isNaN(+p)){var g=_satellite.getVar("productBuilder"),f=r.get("product."+p+".category.productType"),v=r.get("product."+p+".productInfo.productID",r.get("product."+p+".attributes.mmdr"));g.id=v,-1<a.indexOf(f)?g.category=f:g.category="datalayer field missing","datalayer field missing"==r.get("product."+p+".attributes.mmdr")||"datalayer field empty"==r.get("product."+p+".attributes.mmdr")||"datalayer field missing"!=r.get("product."+p+".category.productType")&&"datalayer field empty"!=r.get("product."+p+".category.productType")||(f=g.category="vehicle");var h=+(((c.cart[v]||"").price||"").voucherDiscount||"0"),P=+(((c.cart[v]||"").price||"").priceWithTax||"0"),C=+r.get("transaction.-1.total.voucherDiscount","0"),j=+r.get("transaction.-1.total.priceWithTax","0"),y=r.get("product."+p+".attributes.mmdr",r.get("product."+p+".attributes.internalCode"));if("vehicle"==f){var R=x(r.get("product."+p+".attributes.fuelType"));g.merchEvars={eVar10:y,eVar44:r.get("product."+p+".attributes.productionYear"),eVar45:r.get("product."+p+".attributes.yearOfRegistration"),eVar46:r.get("product."+p+".attributes.vehicleStatus",r.get("product."+p+".attributes.vehicleSelection")),eVar47:r.get("product."+p+".productInfo.color"),eVar48:r.get("product."+p+".attributes.modelCode"),eVar49:r.get("product."+p+".attributes.gearing"),eVar50:r.get("product."+p+".attributes.series"),eVar51:r.get("product."+p+".attributes.bodyType"),eVar52:r.get("product."+p+".productInfo.productName",r.get("product."+p+".attributes.modelName")),eVar53:"model_navigation_hp"==r.get("event.-1.attributes.relatedComponent.componentInfo.componentName")?"new car":r.get("product."+p+".category.primaryCategory"),eVar54:r.get("product."+p+".category.subCategory1"),eVar55:r.get("product."+p+".category.subCategory2"),eVar56:R,eVar57:r.get("product."+p+".attributes.hybridVersion"),eVar58:r.get("product."+p+".attributes.motorization",r.get("product."+p+".attributes.engine")),eVar59:r.get("product."+p+".attributes.configID",r.get("product."+p+".attributes.configLink")),eVar60:r.get("product."+p+".productInfo.manufacturer",((c.cart[v]||"").productInfo||"").manufacturer||""),eVar65:r.get("product."+p+".attributes.modelName"),eVar66:r.get("product."+p+".attributes.trimLevel"),eVar121:((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode?((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode||"":r.get("transaction.-1.total.voucherCode",r.get("cart.price.voucherCode")),eVar124:((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate?((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate||"":r.get("cart.price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},g.category="vehicle";var w=["event801="+ +r.get("product."+p+".attributes.fin.downPayment","0"),"event802="+ +r.get("product."+p+".attributes.fin.downPayment","0"),"event803="+ +r.get("product."+p+".attributes.fin.monthlyPayment","0"),"event804="+ +r.get("product."+p+".attributes.fin.monthlyPayment","0"),"event805="+ +r.get("product."+p+".attributes.fin.term","0"),"event806="+ +r.get("product."+p+".attributes.fin.mileage","0"),"event807=0","event808=0","event851="+(((c.cart[v]||"").price||"").basePrice||"0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+ +(((c.cart[v]||"").price||"").taxRate||"0"),"event855="+(((c.cart[v]||"").price||"").taxRate||"0"),"event856="+(((c.cart[v]||"").price||"").priceWithTax||"0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+((c.cart[v]||"").quantity||"0")];g.events=w,g.quantity=(c.cart[v]||"").quantity||"0",g.price=((c.cart[v]||"").price||"").priceWithTax||"0",t.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858")}else"Related Service / Finance"==f||"service"==f?(R=x(r.get("product."+s+".attributes.fuelType",r.get("product."+p+".attributes.fuelType"))),g.merchEvars={eVar52:r.get("product."+p+".productInfo.productName"),eVar53:r.get("product."+p+".category.primaryCategory"),eVar54:r.get("product."+p+".category.subCategory1"),eVar55:r.get("product."+p+".category.subCategory2"),eVar84:r.get("product."+p+".attributes.fin.downPayment"),eVar85:r.get("product."+p+".attributes.fin.mileage"),eVar86:r.get("product."+p+".attributes.fin.monthlyPayment"),eVar87:r.get("product."+p+".attributes.fin.term"),eVar10:r.get("product."+s+".attributes.mmdr",r.get("product."+s+".attributes.internalCode",r.get("product."+p+".attributes.mmdr",r.get("product."+p+".attributes.internalCode")))),eVar44:r.get("product."+s+".attributes.productionYear",r.get("product."+p+".attributes.productionYear")),eVar45:r.get("product."+s+".attributes.yearOfRegistration",r.get("product."+p+".attributes.yearOfRegistration")),eVar46:r.get("product."+s+".attributes.vehicleStatus",r.get("product."+s+".attributes.vehicleSelection",r.get("product."+p+".attributes.vehicleStatus",r.get("product."+p+".attributes.vehicleSelection")))),eVar47:r.get("product."+s+".productInfo.color",r.get("product."+p+".productInfo.color")),eVar48:r.get("product."+s+".attributes.modelCode",r.get("product."+p+".attributes.modelCode")),eVar49:r.get("product."+s+".attributes.gearing",r.get("product."+p+".attributes.gearing")),eVar50:r.get("product."+s+".attributes.series",r.get("product."+p+".attributes.series")),eVar51:r.get("product."+s+".attributes.bodyType",r.get("product."+p+".attributes.bodyType")),eVar56:R,eVar57:r.get("product."+s+".attributes.hybridVersion",r.get("product."+p+".attributes.hybridVersion")),eVar58:r.get("product."+s+".attributes.motorization",r.get("product."+s+".attributes.engine",r.get("product."+p+".attributes.motorization",r.get("product."+p+".attributes.engine")))),eVar59:r.get("product."+s+".attributes.configID",r.get("product."+s+".attributes.configLink",r.get("product."+p+".attributes.configID",r.get("product."+p+".attributes.configLink")))),eVar60:r.get("product."+s+".productInfo.manufacturer",((c.cart[v]||"").productInfo||"").manufacturer||""),eVar65:r.get("product."+s+".attributes.modelName",r.get("product."+p+".attributes.modelName")),eVar66:r.get("product."+s+".attributes.trimLevel",r.get("product."+p+".attributes.trimLevel")),eVar121:((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode?((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode||"":r.get("transaction.-1.total.voucherCode",r.get("cart.price.voucherCode")),eVar124:((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate?((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate||"":r.get("cart.price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},g.category="service",w=["event801="+ +r.get("product."+p+".attributes.fin.downPayment","0"),"event802="+ +r.get("product."+p+".attributes.fin.downPayment","0"),"event803="+ +r.get("product."+p+".attributes.fin.monthlyPayment","0"),"event804="+ +r.get("product."+p+".attributes.fin.monthlyPayment","0"),"event805="+ +r.get("product."+p+".attributes.fin.term","0"),"event806="+ +r.get("product."+p+".attributes.fin.mileage","0"),"event807=0","event808=0","event851="+(((c.cart[v]||"").price||"").basePrice||"0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+ +(((c.cart[v]||"").price||"").taxRate||"0"),"event855="+(((c.cart[v]||"").price||"").taxRate||"0"),"event856="+(((c.cart[v]||"").price||"").priceWithTax||"0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+((c.cart[v]||"").quantity||"0")],g.events=w,g.quantity=(c.cart[v]||"").quantity||"0",g.price=((c.cart[v]||"").price||"").priceWithTax||"0",t.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858")):"Options & Accessory"!=f&&"accessory"!=f||(R=x(r.get("product."+s+".attributes.fuelType",r.get("product."+p+".attributes.fuelType"))),g.merchEvars={eVar52:r.get("product."+p+".productInfo.productName"),eVar53:r.get("product."+p+".category.primaryCategory"),eVar54:r.get("product."+p+".category.subCategory1"),eVar55:r.get("product."+p+".category.subCategory2"),eVar10:r.get("product."+s+".attributes.mmdr",r.get("product."+s+".attributes.internalCode",r.get("product."+p+".attributes.mmdr",r.get("product."+p+".attributes.internalCode")))),eVar44:r.get("product."+s+".attributes.productionYear",r.get("product."+p+".attributes.productionYear")),eVar45:r.get("product."+s+".attributes.yearOfRegistration",r.get("product."+p+".attributes.yearOfRegistration")),eVar46:r.get("product."+s+".attributes.vehicleStatus",r.get("product."+s+".attributes.vehicleSelection",r.get("product."+p+".attributes.vehicleStatus",r.get("product."+p+".attributes.vehicleSelection")))),eVar47:r.get("product."+s+".productInfo.color",r.get("product."+p+".productInfo.color")),eVar48:r.get("product."+s+".attributes.modelCode",r.get("product."+p+".attributes.modelCode")),eVar49:r.get("product."+s+".attributes.gearing",r.get("product."+p+".attributes.gearing")),eVar50:r.get("product."+s+".attributes.series",r.get("product."+p+".attributes.series")),eVar51:r.get("product."+s+".attributes.bodyType",r.get("product."+p+".attributes.bodyType")),eVar56:R,eVar57:r.get("product."+s+".attributes.hybridVersion",r.get("product."+p+".attributes.hybridVersion")),eVar58:r.get("product."+s+".attributes.motorization",r.get("product."+s+".attributes.engine",r.get("product."+p+".attributes.motorization",r.get("product."+p+".attributes.engine")))),eVar59:r.get("product."+s+".attributes.configID",r.get("product."+s+".attributes.configLink",r.get("product."+p+".attributes.configID",r.get("product."+p+".attributes.configLink")))),eVar60:r.get("product."+s+".productInfo.manufacturer",((c.cart[v]||"").productInfo||"").manufacturer||""),eVar65:r.get("product."+s+".attributes.modelName",r.get("product."+p+".attributes.modelName")),eVar66:r.get("product."+s+".attributes.trimLevel",r.get("product."+p+".attributes.trimLevel")),eVar121:((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode?((c.transaction[v]||"").price||"").voucherCode||((c.cart[v]||"").price||"").voucherCode||"":r.get("transaction.-1.total.voucherCode",r.get("cart.price.voucherCode")),eVar124:((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate?((c.transaction[v]||"").price||"").taxRate||((c.cart[v]||"").price||"").taxRate||"":r.get("cart.price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},g.category="accessory",w=["event801="+ +r.get("product."+p+".attributes.fin.downPayment","0"),"event802="+ +r.get("product."+p+".attributes.fin.downPayment","0"),"event803="+ +r.get("product."+p+".attributes.fin.monthlyPayment","0"),"event804="+ +r.get("product."+p+".attributes.fin.monthlyPayment","0"),"event805="+ +r.get("product."+p+".attributes.fin.term","0"),"event806="+ +r.get("product."+p+".attributes.fin.mileage","0"),"event807=0","event808=0","event851="+(((c.cart[v]||"").price||"").basePrice||"0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+ +(((c.cart[v]||"").price||"").taxRate||"0"),"event855="+(((c.cart[v]||"").price||"").taxRate||"0"),"event856="+(((c.cart[v]||"").price||"").priceWithTax||"0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+((c.cart[v]||"").quantity||"0")],g.events=w,g.quantity=(c.cart[v]||"").quantity||"0",g.price=((c.cart[v]||"").price||"").priceWithTax||"0",t.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event851,event852,event853,event854,event855,event856,event857,event858"));n+=g.toString()+","}var I=A(u,l);if(I&&0<I.length){var E={};for(var i in I)if(!isNaN(+i))for(var d in r.get("cart.item"))isNaN(+d)||I[i]==r.get("cart.item."+d+".productInfo.productID")&&(E[I[i]]=d);for(var p in I)isNaN(+p)||(g=_satellite.getVar("productBuilder"),f=r.get("cart.item."+E[I[p]]+".category.productType"),v=r.get("cart.item."+E[I[p]]+".productInfo.productID"),g.id=v,-1<a.indexOf(f)?g.category=f:g.category="datalayer field missing",h=+r.get("cart.item."+E[I[p]]+".price.voucherDiscount","0"),P=+r.get("cart.item."+E[I[p]]+".price.priceWithTax","0"),C=+r.get("transaction.-1.total.voucherDiscount","0"),j=+r.get("transaction.-1.total.priceWithTax","0"),"vehicle"==f?(R=x(r.get("product."+o[v]+".attributes.fuelType")),g.merchEvars={eVar52:r.get("cart.item."+E[I[p]]+".productInfo.productName"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:R,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar121:r.get("cart.item."+E[I[p]]+".price.voucherCode",r.get("cart.price.voucherCode")),eVar124:r.get("cart.item."+E[I[p]]+".price.taxRate",r.get("cart.price.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},g.category="vehicle",w=["event851="+r.get("cart.item."+E[I[p]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("cart.item."+E[I[p]]+".price.taxRate","0"),"event855="+r.get("cart.item."+E[I[p]]+".price.taxRate","0"),"event856="+r.get("cart.item."+E[I[p]]+".price.priceWithTax","0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+r.get("cart.item."+E[I[p]]+".quantity","0")],g.events=w,g.quantity=r.get("cart.item."+E[I[p]]+".quantity","0"),g.price=r.get("cart.item."+E[I[p]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")):"Related Service / Finance"==f||"service"==f?(R=x(r.get("product."+o[v]+".attributes.fuelType")),g.merchEvars={eVar52:r.get("cart.item."+E[I[p]]+".productInfo.productName"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:R,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar121:r.get("cart.item."+E[I[p]]+".price.voucherCode",r.get("cart.price.voucherCode")),eVar124:r.get("cart.item."+E[I[p]]+".price.taxRate",r.get("cart.price.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},g.category="service",w=["event851="+r.get("cart.item."+E[I[p]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("cart.item."+E[I[p]]+".price.taxRate","0"),"event855="+r.get("cart.item."+E[I[p]]+".price.taxRate","0"),"event856="+r.get("cart.item."+E[I[p]]+".price.priceWithTax","0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+r.get("cart.item."+E[I[p]]+".quantity","0")],g.events=w,g.quantity=r.get("cart.item."+E[I[p]]+".quantity","0"),g.price=r.get("cart.item."+E[I[p]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")):"Options & Accessory"!=f&&"accessory"!=f||(R=x(r.get("product."+o[v]+".attributes.fuelType")),g.merchEvars={eVar52:r.get("cart.item."+E[I[p]]+".productInfo.productName"),eVar53:r.get("cart.item."+E[I[p]]+".category.primaryCategory"),eVar54:r.get(
"cart.item."+E[I[p]]+".category.subCategory1"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:R,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar121:r.get("cart.item."+E[I[p]]+".price.voucherCode",r.get("cart.price.voucherCode")),eVar124:r.get("cart.item."+E[I[p]]+".price.taxRate",r.get("cart.price.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},g.category="accessory",w=["event851="+r.get("cart.item."+E[I[p]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("cart.item."+E[I[p]]+".price.taxRate","0"),"event855="+r.get("cart.item."+E[I[p]]+".price.taxRate","0"),"event856="+r.get("cart.item."+E[I[p]]+".price.priceWithTax","0"),"event857="+(((c.transaction[v]||"").price||"").shipping||"0"),"event858="+r.get("cart.item."+E[I[p]]+".quantity","0")],g.events=w,g.quantity=r.get("cart.item."+E[I[p]]+".quantity","0"),g.price=r.get("cart.item."+E[I[p]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")),n+=g.toString()+",")}var T=A(b,l);if(T&&0<T.length){var _={};for(var i in T)if(!isNaN(+i))for(var d in r.get("transaction.-1.item"))isNaN(+d)||T[i]==r.get("transaction.-1.item."+d+".productInfo.productID")&&(_[T[i]]=d);for(var p in T)isNaN(+p)||(g=_satellite.getVar("productBuilder"),f=r.get("transaction.-1.item."+_[T[p]]+".category.productType"),v=r.get("transaction.-1.item."+_[T[p]]+".productInfo.productID"),g.id=v,-1<a.indexOf(f)?g.category=f:g.category="datalayer field missing",h=+r.get("transaction.-1.item."+_[T[p]]+".price.voucherDiscount","0"),P=+r.get("transaction.-1.item."+_[T[p]]+".price.priceWithTax","0"),C=+r.get("transaction.-1.total.voucherDiscount","0"),j=+r.get("transaction.-1.total.priceWithTax","0"),"vehicle"==f?(R=x(r.get("product."+o[v]+".attributes.fuelType")),g.merchEvars={eVar52:r.get("transaction.-1.item."+_[T[p]]+".productInfo.productName"),eVar53:r.get("transaction.-1.item."+_[T[p]]+".category.primaryCategory"),eVar54:r.get("transaction.-1.item."+_[T[p]]+".category.subCategory1"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:R,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar121:r.get("transaction.-1.item."+_[T[p]]+".price.voucherCode",r.get("transaction.-1.total.voucherCode")),eVar124:r.get("transaction.-1.item."+_[T[p]]+".price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},g.category="vehicle",w=["event851="+r.get("transaction.-1.item."+_[T[p]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("transaction.-1.item."+_[T[p]]+".price.taxRate","0"),"event855="+r.get("transaction.-1.item."+_[T[p]]+".price.taxRate","0"),"event856="+r.get("transaction.-1.item."+_[T[p]]+".price.priceWithTax","0"),"event857="+r.get("transaction.-1.item."+_[T[p]]+".price.shipping","0"),"event858="+r.get("transaction.-1.item."+_[T[p]]+".quantity","0")],g.events=w,g.quantity=r.get("transaction.-1.item."+_[T[p]]+".quantity","0"),g.price=r.get("transaction.-1.item."+_[T[p]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")):"Related Service / Finance"==f||"service"==f?(R=x(r.get("product."+o[v]+".attributes.fuelType")),g.merchEvars={eVar52:r.get("transaction.-1.item."+_[T[p]]+".productInfo.productName"),eVar53:r.get("transaction.-1.item."+_[T[p]]+".category.primaryCategory"),eVar54:r.get("transaction.-1.item."+_[T[p]]+".category.subCategory1"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:R,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar121:r.get("transaction.-1.item."+_[T[p]]+".price.voucherCode",r.get("transaction.-1.total.voucherCode")),eVar124:r.get("transaction.-1.item."+_[T[p]]+".price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},g.category="service",w=["event851="+r.get("transaction.-1.item."+_[T[p]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("transaction.-1.item."+_[T[p]]+".price.taxRate","0"),"event855="+r.get("transaction.-1.item."+_[T[p]]+".price.taxRate","0"),"event856="+r.get("transaction.-1.item."+_[T[p]]+".price.priceWithTax","0"),"event857="+r.get("transaction.-1.item."+_[T[p]]+".price.shipping","0"),"event858="+r.get("transaction.-1.item."+_[T[p]]+".price.priceWithTax","0")],g.events=w,g.quantity=r.get("transaction.-1.item."+_[T[p]]+".quantity","0"),g.price=r.get("transaction.-1.item."+_[T[p]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")):"Options & Accessory"!=f&&"accessory"!=f||(R=x(r.get("product."+o[v]+".attributes.fuelType")),g.merchEvars={eVar52:r.get("transaction.-1.item."+_[T[p]]+".productInfo.productName"),eVar53:r.get("transaction.-1.item."+_[T[p]]+".category.primaryCategory"),eVar54:r.get("transaction.-1.item."+_[T[p]]+".category.subCategory1"),eVar10:r.get("product."+o[v]+".attributes.mmdr",r.get("product."+o[v]+".attributes.internalCode")),eVar44:r.get("product."+o[v]+".attributes.productionYear"),eVar45:r.get("product."+o[v]+".attributes.yearOfRegistration"),eVar46:r.get("product."+o[v]+".attributes.vehicleStatus",r.get("product."+o[v]+".attributes.vehicleSelection")),eVar47:r.get("product."+o[v]+".productInfo.color"),eVar48:r.get("product."+o[v]+".attributes.modelCode"),eVar49:r.get("product."+o[v]+".attributes.gearing"),eVar50:r.get("product."+o[v]+".attributes.series"),eVar51:r.get("product."+o[v]+".attributes.bodyType"),eVar56:R,eVar57:r.get("product."+o[v]+".attributes.hybridVersion"),eVar58:r.get("product."+o[v]+".attributes.motorization",r.get("product."+o[v]+".attributes.engine")),eVar59:r.get("product."+o[v]+".attributes.configID",r.get("product."+o[v]+".attributes.configLink")),eVar60:r.get("product."+o[v]+".productInfo.manufacturer"),eVar65:r.get("product."+o[v]+".attributes.modelName"),eVar66:r.get("product."+o[v]+".attributes.trimLevel"),eVar121:r.get("transaction.-1.item."+_[T[p]]+".price.voucherCode",r.get("transaction.-1.total.voucherCode")),eVar124:r.get("transaction.-1.item."+_[T[p]]+".price.taxRate",r.get("transaction.-1.total.taxRate")),eVar126:r.get("transaction.-1.total.shippingMethod")},g.category="accessory",w=["event851="+r.get("transaction.-1.item."+_[T[p]]+".price.basePrice","0"),"event852="+(h<0?+ +P*h/P:h),"event853="+(h<0?+P*h:h),"event854="+r.get("transaction.-1.item."+_[T[p]]+".price.taxRate","0"),"event855="+r.get("transaction.-1.item."+_[T[p]]+".price.taxRate","0"),"event856="+r.get("transaction.-1.item."+_[T[p]]+".price.priceWithTax","0"),"event857="+r.get("transaction.-1.item."+_[T[p]]+".price.shipping","0"),"event858="+r.get("transaction.-1.item."+_[T[p]]+".price.priceWithTax","0")],g.events=w,g.quantity=r.get("transaction.-1.item."+_[T[p]]+".quantity","0"),g.price=r.get("transaction.-1.item."+_[T[p]]+".price.priceWithTax","0"),t.linkTrackEvents.indexOf("event851,event852,event853,event854,event855,event856,event857,event858")<0&&(t.linkTrackEvents+=",event851,event852,event853,event854,event855,event856,event857,event858",t.events+=",event851,event852,event853,event854,event855,event856,event857,event858")),n+=g.toString()+",")}t.products!=undefined?t.products+=n.slice(0,-1):t.products=n.slice(0,-1),"undefined"!=t.products&&(t.linkTrackVars+="products,"),t.events=t.apl(t.events,"event861="+r.get("cart.price.basePrice",r.get("transaction.-1.total.basePrice","0")),",",1),"datalayer field empty"!=r.get("transaction.-1.total.taxRate")&&"datalayer field missing"!=r.get("transaction.-1.total.taxRate")?(t.events=t.apl(t.events,"event862="+((C<0?+ +j*C/j:C)||"0"),",",1),t.events=t.apl(t.events,"event863="+((C<0?+j*C:C)||"0"),",",1)):(t.events=t.apl(t.events,"event862="+((h<0?+ +P*h/P:h)||"0"),",",1),t.events=t.apl(t.events,"event863="+((h<0?+P*h:h)||"0"),",",1)),t.events=t.apl(t.events,"event864="+r.get("cart.price.taxRate",r.get("transaction.-1.total.taxRate","0")),",",1),t.events=t.apl(t.events,"event865="+r.get("cart.price.taxRate",r.get("transaction.-1.total.taxRate","0")),",",1),t.events=t.apl(t.events,"event866="+r.get("cart.price.priceWithTax",r.get("transaction.-1.total.priceWithTax","0")),",",1),t.events=t.apl(t.events,"event867="+r.get("cart.price.shipping",r.get("transaction.-1.total.shipping","0")),",",1),t.events=t.apl(t.events,"event868="+r.get("cart.price.cartTotal",r.get("transaction.-1.total.transactionTotal","0")),",",1),t.eVar120=r.get("cart.cartID"),t.eVar122=r.get("page.attributes.currencyCode",r.get("transaction.-1.total.currency",r.get("cart.price.currency"))),t.eVar123=r.get("transaction.-1.attributes.paymentMethod"),t.eVar125=r.get("transaction.-1.transactionID"),t.linkTrackVars+="eVar120,eVar122,eVar123,eVar125,"}catch(e){var k={from:"AA",type:"DE",name:"setProductString"};_satellite.logger.error(e,k)}}}}},ev_att_componentHeadline:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].attributes.relatedComponent.componentInfo.componentHeadline}catch(a){}}}},"AA-languageAndMarketWorkaround":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("topLevelDomain"),a={"bmw.com.al":"en-AL","bmw.ca":"en-CA","bmw.be":"nl-BE","bmw.dz":"fr-DZ","bmw.co.ao":"pt-AO","bmw.am":"en-AM","bmw.com.au":"en-AU","bmw.at":"de-AT","bmw.az":"ru-AZ","bmw.bs":"en-BS","bmw.bb":"en-BB","bmw.by":"ru-BY","bmw.bm":"en-BM","bmw.com.bo":"es-BO","bmw.ba":"hr-BA","bmw.com.br":"pt-BR","bmw.com.bn":"en-BN","bmw.bg":"bg-BG","bmw.com.ky":"en-KY","bmw.cl":"es-CL","bmw.com.cn":"zh-CN","bmw.com.co":"es-CO","bmw.co.cr":"es-CR","bmw.com.cy":"en-CY","bmw.cz":"cs-CZ","bmw.dk":"da-DK","bmw.com.do":"es-DO","bmw.com.ec":"es-EC","bmw-eg.com":"en-EG","bmw.com.sv":"es-SV","bmw.ee":"et-EE","bmw.fi":"fi-FI","bmw.fr":"fr-FR","bmw.com.ge":"en-GE","bmw.de":"de-DE","bmw-ghana.com":"en-GH","bmw.gr":"el-GR","bmw-antilles.fr":"fr-GP","bmw.com.gt":"es-GT","bmw.ht":"en-HT","bmw.hn":"es-HN","bmwhk.com":"en-HK","bmw.hu":"hu-HU","bmw.is":"en-IS","bmw.in":"en-IN","bmw.co.id":"en-ID","bmw-iraq.com":"en-IQ","bmw.ie":"en-IE","bmw.co.il":"iw-IL","bmw.it":"it-IT","bmwjamaica.com":"en-JM","bmw.co.jp":"ja-JP","bmw.kz":"ru-KZ","bmw.co.ke":"en-KE","bmw.co.kr":"ko-KR","bmw-lao.la":"en-LA","bmw.re":"fr-RE","bmw.lv":"lv-LV","bmw-lebanon.com":"en-LB","bmw.ly":"en-LY","bmw.lt":"lt-LT","bmw.lu":"de-LU","bmw.com.mo":"en-MO","bmw.com.mk":"mk-MK","bmw.com.my":"en-MY","bmw.com.mt":"en-MT","bmw.mu":"en-MU","bmw.com.mx":"es-MX","bmw.md":"ro-MD","bmw-voli.me":"sr-ME","bmw.ma":"fr-MA","bmwmyanmar.com":"en-MM","bmw.nl":"nl-NL","bmw.nc":"fr-NC","bmw.co.nz":"en-NZ","bmw.com.ni":"es-NI","bmw-nigeria.com":"en-NG","bmw.no":"no-NO","bmw-pakistan.com":"en-PK","bmw.com.pa":"es-PA","bmw.com.py":"es-PY","bmw.com.pe":"es-PE","bmw.com.ph":"en-PH","bmw.pl":"pl-PL","bmw.pt":"pt-PT","bmw.ro":"ro-RO","bmw.ru":"ru-RU","bmw.lc":"en-LC","bmw.rs":"sr-RS","bmw.com.sg":"en-SG","bmw.sk":"sk-SK","bmw.si":"sl-SI","bmw.co.za":"en-ZA","bmw.es":"es-ES","bmw.lk":"en-LK","bmw.sr":"en-SR","bmw.se":"sv-SE","bmw.ch":"de-CH","bmw-tahiti.com":"fr-PF","bmw.com.tw":"zh-TW","bmw.co.th":"th-TH","bmw.tt":"en-TT","bmw-tunisia.com":"fr-TN","bmw.com.tr":"tr-TR","bmw.ua":"uk-UA","bmw.co.uk":"en-GB","bmw.com.uy":"es-UY","bmw.vn":"vi-VN","bmw-m.com":"en-HQ","bmw.uz":"ru-UZ","bmw.com/en-au":"en-AU","mini.de":"de-DE","mini.it":"it-IT","mini.fr":"fr-FR","mini.ch":"de-CH","mini.at":"de-AT"};return-1<window.location.href.indexOf("bmw-bahrain.com/en/")?"en-BH":-1<window.location.href.indexOf("bmw-bahrain.com/ar/")?"ar-BH":-1<window.location.href.indexOf("bmw-dubai.com/en/")?"en-AE":-1<window.location.href.indexOf("bmw-dubai.com/ar/")?"ar-AE":-1<window.location.href.indexOf("bmw-jordan.com/en/")?"en-JO":-1<window.location.href.indexOf("bmw-jordan.com/ar/")?"ar-JO":-1<window.location.href.indexOf("bmw-kuwait.com/en/")?"en-KW":-1<window.location.href.indexOf("bmw-kuwait.com/ar/")?"ar-KW":-1<window.location.href.indexOf("bmw-me.com/en/")?"en-MP":-1<window.location.href.indexOf("bmw-me.com/ar/")?"ar-MP":-1<window.location.href.indexOf("bmw-oman.com/en/")?"en-OM":-1<window.location.href.indexOf("bmw-oman.com/ar/")?"ar-OM":-1<window.location.href.indexOf("bmw.ps/en/")?"en-PS":-1<window.location.href.indexOf("bmw.ps/ar/")?"ar-PS":-1<window.location.href.indexOf("bmw-qatar.com/en/")?"en-QA":-1<window.location.href.indexOf("bmw-qatar.com/ar/")?"ar-QA":-1<window.location.href.indexOf("bmw-saudiarabia.com/en/")?"en-SA":-1<window.location.href.indexOf("bmw-saudiarabia.com/ar/")?"ar-SA":-1<window.location.href.indexOf("bmw-yemen.com/en/")?"en-YE":-1<window.location.href.indexOf("bmw-yemen.com/ar/")?"ar-YE":a[t]||a[t+"/"+location.pathname.split("/")[1].toLowerCase()]}catch(e){_satellite.logger.log("Error:languageAndMarketWorkaround")}}}},perfTime_url:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.cookie.get("bmwdtm_hq_perf");return void 0!==t?(jdata=JSON.parse(t),jdata.path):""}catch(e){return _satellite.logger.error("Error in Data Element perfTime_url: "+e),"na"}}}},Usabilla_success_events:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=["Form Success","Online TDA Booking Finish"],a=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventName");return-1<t.indexOf(a)}catch(e){var s={from:"Usabilla",type:"DE",name:"Usabilla_success_events"};_satellite.logger.error(e,s)}}}},"AAM-partnerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("AAM-initConfig");return t&&t.partner||""}catch(e){var a={from:"AA",type:"DE",name:"AAM-partnerID"};_satellite.logger.error(e,a)}}}},pa_pag_referringUrl:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.referringUrl;return e=e.toLowerCase()}catch(t){}}}},"AAM-dilMarketList":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return["bmw.de"]}catch(e){var t={from:"AA",type:"DE",name:"AAM-dilMarketList"};_satellite.logger.error(e,t)}}}},"AT-TargetParamsManager":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var n=_satellite.getVar("KIT-helpers").cache,t=function(){var r="targetParamsCache",s=function(e){for(var t in e)null!==e[t]&&e[t]!==undefined&&""!==e[t]||delete e[t];return e};t.prototype.mergeParams=function(e,t){var a=n.get(r)||{};for(var s in e)a.hasOwnProperty(s)&&a[s]===e[s]||(a[s]={value:e[s],once:!!t,fired:!1});n.set(r,a)},t.prototype.getParams=function(){var e=n.get(r)||{},t={};for(var a in e)e[a].fired&&e[a].once||(e[a].fired=!0,t[a]=e[a].value);return t=s(t),_satellite.logger.log("DE:TargetParamsManager : Sending following mbox params-",t),t},t.prototype.hasFired=function(e,t){var a=n.get(r)||{};return!(!a[e]||!a[e].fired||a[e].value!==t)}};return new t}catch(e){var a={from:"AA",type:"DE",name:"AT-TargetParamsManager"};_satellite.logger.error(e,a)}}}},isTargetAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,a=_satellite.getVar("consentMap").Target;return t.isTrackingAllowed(a).toString()}catch(e){var s={from:"AA",type:"DE",name:"isTargetAllowed"};_satellite.logger.error(e,s)}}}},ev_att_componentName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].attributes.relatedComponent.componentInfo.componentName}catch(a){}}}},setDefaultVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(i){return function(t){try{var a=_satellite.getVar("snapshotDL"),s=a.get("page.pageInfo.destinationUrl",location.href),r=new Date,n=_satellite.getVar("smartPreviousValueManager");t.prop44=a.get("component.-1.componentInfo.componentID",a.get("event.-1.attributes.relatedComponentID")),t.eVar134="web",t.prop27=a.get("page.pageInstanceId",a.get("pageInstanceId")),t.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp",Math.round(r.getTime()))),t.prop13="bmw",t.prop15=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds(),t.prop14=r.getUTCHours()+":"+r.getUTCMinutes()+":"+r.getUTCSeconds(),t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.eVar7=a.get("page.pageInfo.language",_satellite.getVar("AA-languageAndMarketWorkaround")),t.eVar7=-1<t.eVar7.indexOf("-")?t.eVar7.split("-")[0]:t.eVar7,t.eVar8=_satellite.getVar("AA-languageWorkaround"),t.prop19=_satellite.getVar("AA-componentDefaultValues").componentName,t.prop42=_satellite.getVar("AA-componentDefaultValues").primaryCat,t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.eVar18=a.get("page.pageInfo.pageTitle",document.title),t.prop50="page title",t.campaign=t.eVar61=t.eVar62=_satellite.getVar("campaign"),t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),"bmw.com.cn"==_satellite.getVar("topLevelDomain")?t.eVar64=_satellite.getVar("AA-localCampaignVariable"):t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),t.eVar133="D=mid",t.server=location.host,t.prop74=_satellite.property.name+"|"+i.$rule.name,t.pageType="error"==a.get("page.category.pageType")?"errorPage":a.get("page.category.pageType"),-1<a.get("pageInstanceId").indexOf("error-pool/")&&(t.pageName="",t.pageType="errorPage"),255<(t.eVar4=s).length&&(t.eVar5=s.substring(255,s.length)),n.update("url",t.eVar4),t.eVar14=n.get("url"),t.eVar29=n.get("pathName"),t.prop31=n.get("pagePrimaryCategory"),_satellite.logger.log("khubruy prop31",t.prop31),t.prop32=n.get("pageSubCategory01"),t.prop33=n.get("pageName"),t.prop3=a.get("page.category.primaryCategory"),n.update("pagePrimaryCategory",t.prop19),t.prop4=a.get("page.category.subCategory01"),n.update("pageSubCategory01",t.prop4),n.update("jcrPath",a.get("pageInstanceId",window.location.pathname)),t.eVar28=n.get("componentSubcategory1"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.eVar11=location.hash,t.eVar12=location.protocol+"//"+location.host+location.pathname,t.eVar13=location.search.split("?")[1],t.eVar132=window.navigator.userAgent,t.eVar135=a.get("page.pageInfo.envWork",a.get("page.pageInfo.devEnv")),t.eVar6=document.referrer,n.update("pathName",t.eVar12),t.eVar120=a.get("cart.cartID"),t.eVar122=a.get("cart.item-1.price.currency",a.get("cart.price.currency",a.get("transaction.item-1.price.currency",a.get("transaction.total.currency.currency",a.get("product.-1.attributes.currency"))))),t.eVar123=a.get("transaction.attributes.paymentMethod"),t.eVar125=a.get("transaction.transactionID"),""!=t.linkTrackVars&&t.linkTrackVars!=undefined?t.linkTrackVars+=",prop44,eVar134,eVar64,eVar18,prop27,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,eVar133,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125,":t.linkTrackVars="prop44,eVar134,eVar64,prop27,eVar18,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,eVar133,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125,"}catch(e){var o={from:"AA",type:"DE",name:"setDefaultVariables"};_satellite.logger.error(e,o)}}}}},"AAM-hasheducid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.location.toString(),a=new URL(t).searchParams.get("hucid");if(null!=a)return a}catch(e){_satellite.logger.error("EmailID error ",e)}}}},clearCookies:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(){var e=window.location.hostname,t=e.split(".").reverse(),a=t[1]+"."+t[0];return-1<e.indexOf("www.bmw-int4.com")?a=".bmw-int4.com":(-1<e.indexOf(".co.")||-1<e.indexOf(".com.")&&2<t.length)&&(a=t[2]+"."+a),a}function a(){for(_satellite.logger.log("Clearing cookies from inside clearCookies data element.."),o=0;o<r.length;o++)_satellite.cookie.remove(r[o]),_satellite.cookie.remove(r[o],{domain:i})}try{for(var s,r=["s_vnum","s_cc","s_getNewRepeat","s_invisit","s_lv","s_lv_s","s_fid","s_sq","s_ptc","s_ppv","at_check","bmwdtm_hq_previouspage_meta","bmwdtm_hq_sid","bmwdtm_hq_cc","bmwdtm_hq_pp","bmwdtm_hq_pcg","bmwdtm_hq_vs","bmwdtm_hq_nav","bmwdtm_hq_epv","bmwdtm_hq_perf","bmwdtm_hq_csevent","bmwdtm_ru_campaign","bmwdtm_MO","AMCV_B52D1CFE5330949C0A490D45%40AdobeOrg","AMCVS_B52D1CFE5330949C0A490D45%40AdobeOrg","c5b3573c15461c7fb62c3c6af53d7ce46d446a36","bmwdtm_za_channel","bmwdtm_za_model","bmwdtm_za_date","bmwdtm_cs_utm","bmwdtm_cs_utm_req","bmwdtm_tr_mayfestProgrammatic","bmwdtm_tr_configuratorLandingTime","bmwdtm_ru_landingTime","bmwdtm_cn_campaigndata","bmwdtm_hq_userdata","bmwdtm_hq_SedanExperience","aam_uuid","mbox","mboxPC","mboxSession","tempNavigation","psyma_participation","daktela_chat_email","daktela_chat_session","daktela_chat_title","_em_t","_em_v","_em_vt","nmfirstparty","_mtruid","__lc.visitor_id","lc_window_state","__telemetric.v","__telemetric.s","bmnet","s3optout","s3timer","s3_AE","s3_AESess","s3_AR","s3_ARSess","s3noae","s3sess","evo5_popin_instance","tdid","cikneeto","cikneeto_uuid","tdid","campaign_complete","impressionsNo","LaSID","LaVisitorId","LaVisitorNew","LaRunningChat","LaUserDetails","LaEventId","gdt_flag","_ym_isad","_ym_uid","bmwdtm_hq_feedbackcomplete","mpt_vid","mpt_opted_out","visitorid","pageViewCount","time_spent","s_ppvl","aam_test","check","_gcl_au","_fbp","campaign_cookie","bmwdtm_HK","ces_status","_ga","IDE","mp_scr_","mp_scr_06","mp_scr_08","mp_scr_11","mp_scr_12","mp_scr_14","mp_scrActions","mp_scrPoints","ActivityInfo2","TargetInfo2","u2","cikneeto","cikneeto_uuid","_kuid_","anj","audience","AWSELB","bkdc","bkpa","bku","C","cid","CMID","CMPRO","CMPS","CMRUM3","CMST","data-rk","dsp_id","mako_uid","ONPLFTRH","pb","pxrc","r1","rlas3","sd-session-id","sec","sid","smd","tuuid","tuuid_lu","uid","um2","uuid2","visitor-id","zync-uuid","__qca","mc","n/a","dsp_id_1","evo5","evo5_BMW","evo5_BMW_popin","ione_MTA4MDYx","ionengagementscore","nmfp_evo5_BMW","nmfp_evo5_BMW_popin","_id","_ss","bs","cas","cdb0","cdb1","cdb2","cdb3","cdbp","d","dct_oba","evo5_CLIENT","evo5_CLIENT_popin","evo5_display","EVO5_MINI","evo5_MINI_popin","EVO5_OPT","evo5_popin_instance","f","iOne_","kanapr","nmfirstparty","nmfp_","nmfp_dsp_id","nmfp_evo5_MINI","nmfp_u","notrack","ss","t","ts","u","mt_misc","mt_mop","uuid","uuidc","TDCPM","TDID","beaconRetry","dtBW","dtcookie","dtLatC","dtPC","dtSa","dtsrE","dtsrTID","dtsrVID","ruxitagent","rxVisitId","rxVisitor","rxvt","MUID","MUIDB","__gads","_dc_gtm_UA-127190505-1","_gaexp","_gat","_gat_gtag_UA_","_gat_UA-","_gid","1P_JAR","eud","euds","glc","NID","rud","ruds","_ga1","_dc_gtm_UA-","1143061:session-data","cmd","eng_mt","rc::a","rc::b","rc::c","Cookie_B","lu","xs","c_user","m_user","pl","dblc","aks","aksb","sfau","ick","s","datr","sb","fr","oo","ddid","_fbc","dpr","gu","lh","L\xe4ndereinstellung","shopping_cart","wd","js_ver","rc","campaign_click_url","Checkpoint","lp","hckd","noscript","m_pixel_ratio","act","sfiu","m_ts","p","reg_ext_ref","ar","next","sW","reg_fb_gate","av","next_path","reg_fb_ref","dnonce","presence","a11y","reg_uniqid","rdir","i_user","x-referer","x-src","i_key","i_id","AA003","ATN","lang","bcookie","bscookie","UserMatchHistory","lidc","personalitation_id","personalization_id","psyma_participation","pageViewCount","usabilla_","time_spent","usbl.","_cs_c","_cs_s","_cs_id","GAD","Gdyn","bmw_chatbot_nlhyperchat_session","UserID1","_pk_uid","TCSess","_s3_cvar.","TCID","_s3_id.","_s3_id.19.","s3optout","_s3_ses.19.","_s3_ref.","_s3_ses.","xdt_143","_s3_ses.97.72cd","_s3_id.97.72cd","bmwdtm_perf","time_spent_adhoc","FACEBOOKWITHOUTANAME","_cs_vars","_cs_ex","_cs_optout","YouTubePlayer","dotaki.id","dotaki.idt","dotaki.time","dotaki.segment","_s3_cvar","_s3_id","_s3_ref","_s3_ses","criteo_cookie_perm","criteo_localstorage_check","criteo_write_test","cto_bundle","cto_clc","cto_idcpy","cto_idfs","cto_lwid","cto_optout","cto_sid","cto_sid_ack","cto_tld_test","eid","opt","optout","r.ack","zdi","unvisited","_em_lt","_em_dmp","_em_ft","_em_c3","_em_pc","_em_scf","_em_gc","_em_vi","_em_mb","baqend-speedkit-ab-test-info"],n=document.cookie.split(";"),o=0;o<n.length;o++)-1<(s=n[o].split("=")[0].substr(1)).indexOf("_s3")&&(r[r.length]=s),-1<s.indexOf("nmfp")&&(r[r.length]=s),-1<s.indexOf("_ym_viso")&&(r[r.length]=s),-1<s.indexOf("_sdsat")&&(r[r.length]=s);var i=t();a()}catch(e){var c={from:"AA",type:"DE",name:"clearCookies"};_satellite.logger.error(c,e)}}}},"Trigger-AnalyticsConsentChangeEvent":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){try{var t,a="re-trigger";"function"==typeof Event?t=new Event(a):(t=document.createEvent("Event")).initEvent(a,!0,!0),document.body.dispatchEvent(t)}catch(e){var s={from:"AA",type:"DE",name:"Trigger-AnalyticsConsentChangeEvent"};_satellite.logger.error(e,s)}}}}},pageInstanceId:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").pageInstanceId,t=e;return"-prod"==e.substr(e.length-5)&&(t=e.substr(0,e.length-5)),"-dev"==e.substr(e.length-4)&&(t=e.substr(0,e.length-4)),"-int"==e.substr(e.length-4)&&(t=e.substr(0,e.length-4)),6===t.split("/").length&&(t+="/index"),t}catch(a){}}}},smartPreviousValueManager:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(){var s=_satellite.getVar("KIT-helpers").cache;this.init=function(e){var t=s.get(r);if(!t){for(var a in t={},e)e.hasOwnProperty(a)&&(t[a]={value:e[a],valueAfterVirtualPageLoad:undefined});s.set(r,t)}},this.update=function(e,t){var a=s.get(r);a[e]=a[e]||{value:undefined},a[e].valueAfterVirtualPageLoad&&(a[e].value=a[e].valueAfterVirtualPageLoad),a[e].valueAfterVirtualPageLoad=t,s.set(r,a)},this.get=function(e){var t=s.get(r);return"object"==typeof t[e]?t[e].value:undefined},this.saveDeferredObject=function(e){s.set(r+"_deferred",e)},this.getDeferredObject=function(){return s.get(r+"_deferred")||{}}}function a(){var s=_satellite.cookie;this.get=function(t){var a={};try{a=JSON.parse(window.decodeURIComponent(_satellite.cookie.get(r)||"{}"))}catch(e){}return t?a[t]:a},this.update=function(e,t){var a=this.get();if(a[e]=t,!1===s.set(r,window.encodeURIComponent(JSON.stringify(a)),{domain:_satellite.getVar("topLevelDomain"),expires:18e5/864e5})||"false"===_satellite.getVar("isAdobeAnalyticsAllowed"))return!1},this.saveDeferredObject=function(e){for(var t in e)e.hasOwnProperty(t)&&this.update(t,e[t])}}function s(r,n){n.init(r.get()),this.update=function(e,t,a){if(a&&n.update(e,t),!1===r.update(e,t)){var s=n.getDeferredObject();s[e]=t,n.saveDeferredObject(s)}},this.get=function(e){return n.get(e)},this.saveDeferredObject=function(){r.saveDeferredObject(n.getDeferredObject())}}try{var r="bmwdtm_hq_previouspage_meta";return new s(new a,new t)}catch(e){var n={from:"AA",type:"DE",name:"smartPreviousValueManager"};_satellite.logger.error(e,n)}}}},removePII:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function n(e){var t=[];if("string"==typeof e){var a=e.toLowerCase();i.forEach(function(e){-1!=a.indexOf(e)&&t.push(e)})}return t}function t(a){var s=[],r=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi");return c.forEach(function(t){Object.keys(a).forEach(function(e){0===e.indexOf(t)&&a[e]&&(n(a[e]).length||"string"==typeof a[e]&&a[e].match(r))&&s.push(e)})}),s}function s(e){var t=e,a=n(e);if(a.length)a.forEach(function(e){t=r(e,t)});else{var s=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi");if(e.match(s))return r("withoutVin",e)}return t}function r(e,t){var a,s,r=t.split("?")[0],n=-1!==t.indexOf("?")?t.split("?")[1]:"",o="?";if(n||(r=t.split("#")[0],o="#",n=-1!==t.indexOf("#")?t.split("#")[1]:""),""!==n){for(var i=(s=n.split("&")).length-1;0<=i;i--)s[i].split("=")[0].toLowerCase()===e&&s.splice(i,1);r=r+o+s.join("&")}if(-1!=r.toLowerCase().indexOf(e
)&&(a=new RegExp("[a-z]"+e+"[a-z]","gi"),result=r.match(a),result||"email"===e&&1<document.location.pathname.split(e).length&&(1==document.location.href.split(o).length||document.location.href.split(o)[1]&&-1==document.location.href.split(o)[1].indexOf(e))||(r=r.toLowerCase().split(e)[0])),a=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi"),result=r.match(a),result)for(var c=0;c<result.length;c++)r=r.replace(result[c].slice(1),"potential_pii_removed");return r}function a(a){return t(a).forEach(function(e){var t=a[e];a[e]=s(t)}),a}function o(e){switch(typeof e){case"object":return a(e);case"string":return s(e);default:return Error("Not a valid parameter")}}try{var i=["firstname","lastname","email","vin","name","loginid","password","registrationpassword","confirmationpassword","confirmregistrationpassword","registrationid","passwordconfirmation","username","enname","token","phone","telephone"],c=["eVar","prop","referrer","pageURL","pageName","channel","hier1"];return o}catch(e){var l={from:"AA",type:"DE",name:"removePII"};_satellite.logger.error(e,l)}}}},"AAM-hashedemail":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.location.toString(),a=new URL(t).searchParams.get("hemaid");if(null!=a)return a}catch(e){_satellite.logger.error("EmailID error ",e)}}}},campaign:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"tl",caseInsensitive:!0}},snapshotDL:{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js",settings:{dataLayerSnapshot:null}},finalDataLayer:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api;if(void 0!==t){var a=t.getCurrentPageIndex();if(1==_satellite.getVar("useVCOPage"))for(var s=a;0<s;s--)if("object"==typeof t.getPageObject(s).page&&"VCO"==t.getPageObject(s).page.category.primaryCategory){a=s;break}var r=t.getPageObject(a);if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId&&-1==r.pageInstanceId.indexOf("need-analyzer"))return r;if("undefined"!=typeof r.component&&r&&r.component[0]&&r.component[0].category&&"stock locator"==r.component[0].category.subCategory01)return r;if("undefined"!=typeof r.component&&r&&r.component[0]&&r.component[0].componentInfo&&"digital checkout solution"==r.component[0].componentInfo.componentName)return r;if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId&&0<r.product.length)return r;if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId)return r=t.getPageObject(0)}return window.digitalData&&window.digitalData.pages&&window.digitalData.activePageIndex?window.digitalData.pages[window.digitalData.activePageIndex]:undefined}catch(e){var n={from:"AA",type:"DE",name:"finalDataLayer"};_satellite.logger.error(e,n)}}}},setDefaultProductVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(e){return-1<e.indexOf("gasoline")?-1<e.indexOf("hybrid")?"x":"o":-1<e.indexOf("diesel")?-1<e.indexOf("hybrid")?"y":"d":-1<e.indexOf("electric")?"e":-1<e.indexOf("petrol")?"b":e}try{var a=_satellite.getVar("snapshotDL"),r=_satellite.getVar("productBuilder"),n=(window.location.href,a.get("product.-1.productInfo.productID")),o=a.get("product.-1.attributes.bodyType"),i=a.get("product.-1.attributes.fuelType"),c=a.get("product.-1.attributes.hybridVersion"),l=a.get("product.0.category.primaryCategory"),d=(a.get("product.-1.productInfo.manufacturer"),a.get("product.-1.attributes.mmdr")),u=(a.get("product.-1.attributes.modelName"),a.get("product.-1.attributes.modelCode")),m=a.get("product.-1.productInfo.productName"),b=a.get("product.-1.attributes.series"),p=["vehicle","service","search","accessory"],g=d,f=a.get("product.-1.attributes.motorization",a.get("product.-1.attributes.engine"));if(f){var v=/[0-9]{3}[a-z]{1}/i,h=/xdrive[0-9]{2}[a-z]{1}/i,P=/sdrive[0-9]{2}[a-z]{1}/i,C=f.match(v)||f.match(h)||f.match(P);-1<f.indexOf("i3 (120 ah)")||-1<f.indexOf("i3 (120ah)")||-1<f.indexOf("i3 120ah")?f="i3 (120 ah)":-1<f.indexOf("i3s (120 ah)")||-1<f.indexOf("i3s (120ah)")||-1<f.indexOf("i3s 120ah")?f="i3s (120 ah)":C&&C.length&&(f=C[0].toUpperCase())}var j=a.get("product.-1.attributes.gearing");"automatic"==(j=j.toLowerCase())||"manual"==j||(-1<j.indexOf("autom")||-1<j.indexOf("steptronic")?j="automatic":(-1<j.indexOf("manu")||-1<j.indexOf("schaltgetriebe"))&&(j="manual")),"CA"==(o=a.get("product.-1.attributes.bodyType"))?o="CAB":"HB"==o?o="CLU":"KO"==o?o="COM":"CO"==o||"CP"==o?o="COU":"GF"==o?o="GFZ":"HB"==o||"SH"==o?o="SHA":"LI"==o?o="LIM":"MP"==o?o="MPV":"RO"==o?o="ROA":"SC"==o?o="SAC":"ST"==o?o="SAT":"GF"==o?o="SAV":"HC"==o?o="SHA":"TO"==o&&(o="TOU"),r.id=n,a.get("product.-1.attributes.sellingPriceTotal","0"),"new car"==l||"used car"==l||"New Car"==l||"New car"==l?(r.category="vehicle",basePriceVehicle=a.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=a.get("product.-1.attributes.sellingPriceVehicle","0")):"accessories"==l?(r.category="accessory",basePriceVehicle=a.get("product.-1.attributes.basePriceOptions","0"),sellingPriceVehicle=a.get("product.-1.attributes.sellingPriceOptions","0")):"forms"==l?(r.category="vehicle",r.id=u,basePriceVehicle=a.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=a.get("product.-1.attributes.sellingPriceVehicle","0")):-1<p.indexOf(l)?(r.category=l,basePriceVehicle=a.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=a.get("product.-1.attributes.sellingPriceVehicle","0")):r.category="datalayer field missing";var y={eVar10:g,eVar44:a.get("product.-1.attributes.productionYear"),eVar45:a.get("product.-1.attributes.yearOfRegistration"),eVar46:a.get("product.-1.attributes.vehicleSelection",a.get("product.-1.attributes.vehicleStatus")),eVar47:a.get("product.-1.productInfo.color"),eVar48:u,eVar49:a.get("product.-1.attributes.gearing"),eVar50:b,eVar51:o,eVar52:m,eVar53:a.get("product.-1.category.primaryCategory"),eVar54:a.get("product.-1.category.subCategory01",a.get("product.-1.category.subCategory1")),eVar55:a.get("product.-1.category.subCategory02",a.get("product.-1.category.subCategory2")),eVar56:t(i),eVar57:c,eVar58:f,eVar65:a.get("product.-1.attributes.modelName"),eVar66:a.get("product.-1.attributes.trimLevel"),eVar121:a.get("cart.price.voucherCode",a.get("transaction.total.voucherCode")),eVar124:a.get("cart.price.taxRate",a.get("transaction.total.taxRate")),eVar126:a.get("cart.price.shippingMethod",a.get("transaction.total.shippingMethod"))};r.merchEvars=y;var R=[];return R.push("event851=0"),R.push("event852=0"),R.push("event853=0"),R.push("event854=0"),R.push("event855=0"),R.push("event856=0"),R.push("event857=0"),R.push("event858=0"),r.events=R,s.events=s.apl(s.events,"event851,event852,event853,event854,event855,event856,event857,event858"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event851,event852,event853,event854,event855,event856,event857,event858"),s.prop59=a.get("product.-1.attributes.configID"),s.linkTrackVars=s.apl(s.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar121,eVar124,eVar126"),r}catch(e){var w={from:"AA",type:"Data Element",name:"setDefaultProductVariables"};_satellite.logger.error(e,w)}}}},"AA-setFallbackValues":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var t=["eVar4","eVar5","eVar9","eVar11","eVar12","eVar13","eVar71","server","eVar7","eVar8","prop13","eVar36","eVar37","eVar38","pageType","prop1","prop2","prop3","prop4","prop5","prop12","prop14","prop15","prop27","prop28","prop29","prop19","prop41","prop42","prop43","prop44","prop45","prop60","prop61","prop63","prop64","prop71","prop74"],a=0;a<t.length;a++)s[t[a]]||(s[t[a]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(t[a]+",")&&(s.linkTrackVars+=","+t[a]);var r=["eVar6","eVar14","eVar28","eVar29","prop31","prop32","prop33"];for(a=0;a<r.length;a++)s[r[a]]||(s[r[a]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(r[a]+",")&&(s.linkTrackVars+=","+r[a]);var n=["eVar120","eVar122","eVar123","eVar125"];for(a=0;a<n.length;a++)s[n[a]]||(s[n[a]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(n[a]+",")&&(s.linkTrackVars+=","+n[a]);var o=["prop6","prop7","prop8","prop9","prop10","prop11","prop17","prop18","prop20","prop21","prop22","prop23","prop40","prop51","prop52","prop53","prop54","prop55","prop56","prop57","prop59","prop69","eVar34","eVar59"];for(a=0;a<=o.length;a++)s[o[a]]||(s[o[a]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(o[a]+",")&&(s.linkTrackVars+=","+o[a]);var i=["prop24","prop34","prop35","prop36","prop37","prop38","prop39","prop46","prop47","prop48","prop49","prop50","prop65","prop66","prop67","prop72","prop73","eVar18","eVar22","eVar136","eVar137","eVar138","eVar151","eVar152","eVar153","eVar154","eVar155","eVar156","eVar157","eVar158","eVar159","eVar160"];for(a=0;a<=i.length;a++)s[i[a]]||(s[i[a]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(i[a]+",")&&(s.linkTrackVars+=","+i[a]);var c=["eVar35","eVar39","eVar40","eVar41","eVar42","eVar43","eVar76","eVar77","eVar78","eVar79","eVar132","eVar134","eVar135","eVar142","eVar175","eVar199","campaign","eVar61","eVar63","eVar64","eVar171","eVar172","eVar15","eVar16","eVar17","eVar19","eVar20","eVar21","eVar22","eVar23","eVar24","eVar25","eVar26","eVar27","eVar131","eVar133","eVar191","eVar192","eVar193","eVar194","eVar197","eVar199","eVar200","prop75"];for(a=0;a<=c.length;a++)!s[c[a]]||"datalayer field missing"!=s[c[a]]&&"datalayer field empty"!=s[c[a]]||delete s[c[a]]}catch(e){var l={from:"AA",type:"DE",name:"AA-mapAllDimensions"};_satellite.logger.error(e,l)}}}},splitConsentEnabled:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=["bmw.de","bmw-int5.com","bmw-int4.com","bmw.it","bmw.bg","bmw.hr","bmw.com.cy","bmw.cz","bmw.com.mt","bmw.gr","bmw.hu","bmw.ro","bmw.sk","bmw.si","bmw.be","bmw.lu","bmw.at","bmw.es","bmw.pl","bmw-int6.com","bmw.nl","bmw.fr","bmw.ch","bmw.ie","bmw.lv","bmw.ee","bmw.gp","bmw.mu","bmw.mq","bmw.co.uk","bmw.pt","bmw.re","bmw.is","bmw.lt","bmw.dk","bmw.fi","bmw.se","bmw.no","bmw.com.br","bmwbkk.de","bmw.in","adobemc.com","mini.de","mini.it","mini.fr","mini.at","mini.ch","mini-int7.com"],a=_satellite.getVar("topLevelDomain");return-1<t.indexOf(a)?"true":"false"}catch(e){var s={from:"AA",type:"DE",name:"splitConsentEnabled"};_satellite.logger.error(e,s)}}}},pa_pag_language:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.language,t=_satellite.getVar("topLevelDomain");return"bmw-m.com"!=t&&"bmw.com"!=t&&"bmw-yachtsport.com"!=t&&"bmw-motorsport.com"!=t&&"bmw-golfsport.com"!=t&&"bmw-special-sales.com"!=t&&"bmwbkk.de"!=t||(e=e.split("-")[0]+"-HQ"),e}catch(a){}}}},URL:{defaultValue:"URL",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.href.substring(0,255);return e=e.toLowerCase()}catch(t){}}}},cookieDomainPeriods:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("topLevelDomain").split(".").length}catch(e){var t={from:"AA",type:"DE",name:"cookieDomainPeriods"};_satellite.logger.error(e,t)}}}},pa_cat_primaryCategory:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.category.primaryCategory}catch(e){}}}},"AA-contextData":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(){var e=new Date,t=e.getUTCFullYear().toString(),a=(e.getUTCMonth()+1).toString(),s=e.getUTCDate().toString(),r=document.location.hostname.split(".").pop().toUpperCase();return base_context=t+"_"+a+"_"+s+"_"+r,base_context+"_A,"+base_context+"_W,"+base_context+"_I,"+base_context+"_E"}}catch(e){var t={from:"AA",type:"DE",name:"AA-contextData"};_satellite.logger.error(e,t)}}}},"AAM-emailid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=document.querySelector("#email").value;if(1==/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t))return t}catch(e){_satellite.logger.error("EmailID error ",e)}}}},"Trigger-pageLoadTPT":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(e){var t,a="re-trigger-third-party";_satellite.logger.log('An attempt to trigger the page load TPTs is made from - "'+e+'"'),_satellite.getVar("haveTPTsTriggered")?_satellite.logger.log("Page load TPTs have already been triggered, hence will not be re-trigerred"):("function"==typeof Event?t=new Event(a):(t=document.createEvent("Event")).initEvent(a,!0,!0),t.detail={processing:_satellite.getVar("consentMap").Others},_satellite.logger.log("Triggering the page load TPTs successfully"),document.body.dispatchEvent(t),_satellite.setVar("haveTPTsTriggered",!0))}}catch(e){var t={from:"AA",type:"DE",name:"Trigger-pageLoadTPT"};_satellite.logger.error(e,t)}}}},"KIT-helpers":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js",settings:{helperTools:null}},ev_cat_subCategory02:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1,a=e.event[t].category.subCategory02,s=_satellite.getVar("ev_cat_subCategory04"),r=_satellite.getVar("topLevelDomain");return a!=undefined&&""!=a||(a="Generic"),"bmw.com.tr"!=r&&"bmw.co.jp"!=r&&"bmw-antilles.fr"!=r||s!=undefined&&""!=s&&"not set"!=s&&(a="Campaign"),a}catch(n){}}}},"AA-eventType":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.eventInfo.type"}}},consentMap:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return"true"===_satellite.getVar("splitConsentEnabled")?{AdobeAnalytics:"AdobeAnalytics",Target:"AdobeTargetAnalytics",TargetPersonalization:"AdobeTargetPersonalization",AAM:"AdobeAudienceManager_DMP",campaignCookieTracking:"campaignCookieTracking"}:{AdobeAnalytics:"analytics",Target:"analytics",TargetPersonalization:"functional",AAM:"advertising",Others:"advertising",campaignCookieTracking:"campaignCookieTracking"}}catch(e){var t={from:"AA",type:"DE",name:"consentMap"};_satellite.logger.error(e,t)}}}},"AT-property":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").cache;if(t.get("AT-property"))return t.get("AT-property");var a={"bmw.co.za":"08d747c0-6d3b-df18-bfb9-b24468cafd0d","bmw.de":"08ab7353-eddd-5a23-5029-8db5a0795efa","bmw.it":"14a7eacb-d9ed-139b-3740-1715a4324a87","bmw.nl":"a32b2cb6-0d0b-bd0d-b61b-117ae1c93e2a","bmw.fr":"c63e9226-164f-68ce-6a77-04714d861534","bmw.es":"5f6624f7-b481-68c5-89ec-2f7c6df01e47","bmw.co.kr":"265709a7-eeba-c737-64b2-0bf051f21cb7","bmw.co.jp":"3ff9d062-6800-4a61-0e57-9d03be4a750d","bmw.ru":"932155db-25c4-5f53-1e6a-420ea418566a","bmw.com.cn":"ed0ef1ce-ea2a-0bc5-23cf-807e84e8fc28","bmw.se":"5fec81b0-d53d-f0c2-76ab-2563557abf59","bmw.com.tr":"71b3a365-8c33-0b8c-f7ef-5d307dde0ea4","bmw.at":"0cf18719-6a28-12fe-562a-a61a9a1d2c3c","bmw.com.mx":"3ecca491-698c-851a-9b1f-0cc5efe31d99","bmw.pl":"ca83460d-3364-fbeb-443a-808a2d6d290f","bmw.ca":"240a98d1-97d2-4caf-069b-db1ed515c04e","bmw.be":"a2e280c3-8caf-d7e3-7dd2-7f9097e49c22","bmw.co.uk":"0c9cfadf-3753-7304-c045-49d4d0616e83","bmw.com/en-au":"2f19833f-d79a-16ee-0e8c-c3ed9240bada","bmw.com.au":"2f19833f-d79a-16ee-0e8c-c3ed9240bada"},s=a[_satellite.getVar("topLevelDomain")]||a[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()]||"";return t.set("AT-property",s),s}catch(e){var r={from:"AA",type:"DE",name:"AT-property"};_satellite.logger.error(e,r)}}}},"AA-marketCodes":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["ZA","AR","AT","AU","BE","BG","BR","CA","CH","CN","CZ","DE","DK","ES","FI","FR","GB","GR","HU","ID","IE","IN","IS","IT","JP","KR","LU","MX","MY","NL","NO","NZ","PL","PT","RO","RU","SE","SI","SK","TH","SG","SL"]}}},userConsent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,a="~",r={GIVEN:"accepted",REVOKED:"rejected",UNKNOWN:"not-provided",NOT_APPLICABLE:"N/A"},n="true"===_satellite.getVar("splitConsentEnabled"),s={setter:function(e,t){this[t]=e},getter:function(e){var t=n?r.UNKNOWN:"gl"===e?r.UNKNOWN:r.NOT_APPLICABLE;return"uc_"+e+":"+(this[e]||t)},set analytics(e){this.setter(e,"an")},set advertising(e){this.setter(e,"ad")},set functional(e){this.setter(e,"fu")},set global(e){this.setter(e,"gl")},get analytics(){return this.getter("an")},get advertising(){return this.getter("ad")},get functional(){return this.getter("fu")},get global(){return this.getter("gl")},get value(){return this.analytics+a+this.advertising+a+this.functional+a+this.global}},o=function(){var e;if(n){var t=i("analytics"),a=i("advertising"),s=i("functional");t&&a&&s?e=!0:t||a||s||(e=!1)}else e=i();return void 0===e?r.UNKNOWN:e?r.GIVEN:r.REVOKED},i=function(e){return!0===t.isTrackingAllowed(e)?r.GIVEN:r.REVOKED};return!1===t.isCookieDrawerShown()&&(n&&(s.analytics=i("analytics"),s.advertising=i("advertising"),s.functional=i("functional")),s.global=o("global")),s.value}catch(e){var c={from:"AA",type:"DE",name:"userConsent"};return _satellite.logger.error(e,c),"analytics:error"+a+"advertising:error"+a+"functional:error"+a+"global:error"}}}},"AA-consentMetaData":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(t){try{if("undefined"==typeof window.processingWrapper||"function"!=typeof window.processingWrapper._getProcessingInfo)return"datalayer field missing";var a=window.processingWrapper._getProcessingInfo("BaseTracking",{type:window.processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,format:window.processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2});return t?a[t]:a}catch(e){var s={from:"AA",type:"DE",name:"consentMetaData"};_satellite.logger.error(e,s)}}}}},productBuilder:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=function(){this.id=undefined,this.category=undefined,this.merchEvars={},this.events=[],this.quantity=undefined,this.price=undefined,this.load=[]};return t.prototype.toString=function(){try{var t="";for(var a in this.merchEvars)Object.prototype.hasOwnProperty.call(this.merchEvars,a)&&(-1!=_satellite.getVar("AA-Exclusionlist").indexOf(a)?t+=a+"="+(this.merchEvars[a]||"")+"|":t+=a+"="+(this.merchEvars[a].toString()||"").toLowerCase()+"|");t.length&&(t=t.substring(0,t.length-1));var s=this.category||"";s+=";"+(this.id||""),s+=";"+(this.quantity||""),s+=";"+(this.price||""),s+=";"+(this.events?Array.isArray(this.events)?this.events.join("|"):this.events:""),s+=";"+(t||"");for(var r="",n=0;n<this.load.length;n++)r+=","+this.load[n].toString();return s+=r}catch(e){var o={from:"AA",type:"DE",name:"productBuilder->toString"};_satellite.logger.error(e,o)}},t.prototype.append=function(e){if(Array.isArray(e))this.load=this.load.concat(e);else{if("object"!=typeof e)throw new Error("Product Builder append function expects an instance of ProductBuilder as parameter, OR and array of ProductBuilder instances");this.load.push(e)}},new t}catch(e){var a={from:"AA",type:"DE",name:"productBuilder"};_satellite.logger.error(e,a)}}}},"AA-componentDefaultValues":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("snapshotDL").get("pageInstanceId").split("/"),a={primaryCat:"nsc website",subCat:t[6]||"content",componentName:t[7]};switch(a.subCat.toLowerCase()){case"index-prod":a.subCat="content",a.componentName="homepage";break;case"all-models":a.subCat="showroom";break;case"all-models-prod":a.subCat="content",a.componentName="all-models-prod";break;case"topics":a.subCat="topics";break;case"ssl":"requests"===t[7]?(a.subCat="forms",a.componentName="Target: Visitor Reco"===_satellite.getVar("snapshotDL").get("event.-1.attributes.relatedComponent.componentInfo.componentName")?"Target: Visitor Reco":t[8]):a.subCat="content";break;case"stocklocator-prod":a.primaryCat="stock locator",a.componentName="new car stock locator";break;case"usedcar-prod":a.componentName="used car";break;case"rakenna-oma-bmw-prod":case"bygg-din-bmw-prod":a.componentName="configurator all models";break;default:if(RegExp("^[c|k]onf.*prod$").test(a.subCat.toLowerCase()))a.componentName="configurator all models";else{var s=_satellite.getVar("snapshotDL");a.componentName=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName",a.componentName)}}return a}catch(e){var r={from:"AA",type:"DE",name:"consentMetaData"};_satellite.logger.error(e,r)}}}},"AAM-initConfig":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t={"bmw.co.za":{containerNSID:4},"bmw.it":{containerNSID:6},"bmw.de":{containerNSID:1},"bmw.co.uk":{containerNSID:19},"bmw.fr":{containerNSID:21},"mini.de":{containerNSID:3},"mini.it":{containerNSID:8},"mini.fr":{containerNSID:22}};return s=_satellite.getVar("topLevelDomain"),r={partner:"bmwag",containerNSID:0,uuidCookie:{name:"aam_uuid",days:30,domain:_satellite.getVar("topLevelDomain")},visitorService:{namespace:"B52D1CFE5330949C0A490D45@AdobeOrg"},disableIDSyncs:!0,disableDestinationPublishingIframe:!0},(n=t[s])&&(n.partner=n.partner||r.partner,n.containerNSID=n.containerNSID||r.containerNSID,n.uuidCookie=n.uuidCookie||r.uuidCookie,n.visitorService=n.visitorService||r.visitorService,n.disableIDSyncs=n.disableIDSyncs||r.disableIDSyncs,n.disableDestinationPublishingIframe=n.disableDestinationPublishingIframe||r.disableDestinationPublishingIframe),n}catch(e){var a={from:"AA",type:"DE",name:"AAM-initConfig"};_satellite.logger.error(e,a)}var s,r,n}}},"AA-currencyCode":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").cache;if(t.get("currencyCode"))return t.get("currencyCode");var a={"bmw.co.za":"ZAR","bmw.com.ar":"ARS","bmw.at":"EUR","bmw.com.au":"AUD","bmw.be":"EUR","bmw.bg":"BGN","bmw.com.br":"BRL","bmw.ca":"CAD","bmw.ch":"CHF","bmw.com.cn":"CNY","bmw.cz":"CZK","bmw.de":"EUR","bmw.dk":"DKK","bmw.es":"EUR","bmw.fi":"EUR","bmw.fr":"EUR","bmw.co.uk":"GBP","bmw.gr":"EUR","bmw.hu":"HUF","bmw.co.id":"IDR","bmw.ie":"EUR","bmw.in":"INR","bmw.is":"ISK","bmw.it":"EUR","bmw.co.jp":"JPY","bmw.co.kr":"KRW","bmw.lu":"EUR","bmw.com.mx":"MXN","bmw.com.my":"MYR","bmw.nl":"EUR","bmw.no":"NOK","bmw.co.nz":"NZD","bmw.pl":"PLN","bmw.pt":"EUR","bmw.ro":"RON","bmw.ru":"RUB","bmw.se":"SEK","bmw.si":"EUR","bmw.sk":"EUR\t","bmw.co.th":"THB","bmw.com.sg":"SGD","bmw.com/en-au":"AUD","mini.de":"EUR","mini.fr":"EUR","mini.it":"EUR","mini.ch":"CHF","mini.at":"EUR"},s=a[_satellite.getVar("topLevelDomain")]||a[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()]||"EUR";return t.set("currencyCode",s),s}catch(e){var r={from:"AA",type:"DE",name:"AA-currencycode"};_satellite.logger.error(e,r)}}}},pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=(_satellite.getVar("pa_pag_pageName"),_satellite.getVar("pa_cat_primaryCategory")),a=[_satellite.getVar("jcrPathLevel1"),_satellite.getVar("jcrPathLevel2"),_satellite.getVar("jcrPathLevel3")],s=e.split("/"),r=6,n=s.length,o="";for(c=r;c<n;c++)o+=s[c]+" > ";if(o=o.substring(0,o.length-3),"VCO"===t){for(var i="",c=0;c<3;c++)i+=a[c]+" > ";o=i=i.substring(0,i.length-3)}return o=o.replace(/-prod/g,"")}catch(l){}}}},isTargetPersonalizationAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,a=_satellite.getVar("consentMap").TargetPersonalization;return t.isTrackingAllowed(a).toString()}catch(e){var s={from:"AA",type:"DE",name:"isTargetPersonalizationAllowed"};_satellite.logger.error(e,s)}}}},pr_att_modelName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.product.length-1,a=e.product[t].attributes.modelName;return""==a&&(a="not set"),a}catch(s){return"not set"}}}},"AAM-dummyPartnerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return undefined}}},pa_pag_pageTitle:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.pageInfo.pageTitle}catch(e){}}}},ev_eve_cause:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.cause}catch(a){}}}},Usabilla_vs_IgnitionOne:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.cookie.get("bmwdtm_hq_vs").slice(-2)<"20"?"Usabilla":"IgnitionOne"}catch(e){_satellite.logger.error("Error In: Usabilla_vs_IgnitionOne"+e)}}}},"AA-InternalcampaignParameter":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"icp",caseInsensitive:!0}},setUserTypeForReco:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("true"===_satellite.getVar("isAdobeAnalyticsAllowed")){var t,a=_satellite.cookie.get("s_lv_s"),s=_satellite.cookie.get("v_reco_data");t=a&&"First Visit"!==a?"returning":"new",(s=s?JSON.parse(s):{}).user=t,document.cookie="v_reco_data="+JSON.stringify(s)+";domain="+_satellite.getVar("topLevelDomain")+";path=/"}}catch(e){_satellite.logger.error(e)}}}},targetModelsExclusion:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=digitals2.tracking.api.getPageObject(digitals2.tracking.api.getCurrentPageIndex()).product[0].attributes.mmdr;return-1<["F87","G80","G82","F90","G11","G15","G14","G16","F92","F91","F93","F97","F98","F95","F96","G07","G08","i20","I20","G26","G23","G83","G26E"].indexOf(t)}catch(e){_satellite.logger.error("VisitorReco: Error in DE targetModelsExclusion"+e)}}}},lastTwoDigitsOfMID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(){return Visitor.getInstance("B52D1CFE5330949C0A490D45@AdobeOrg").getMarketingCloudVisitorID().slice(-2).toString()}}catch(e){var t={from:"AA",type:"DE",name:"lastTwoDigitsOfMID"};_satellite.logger.error(e,t)}}}},"AA-languageWorkaround":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("topLevelDomain"),a={"bmw.co.za":"ZA","bmw.com.ar":"AR","bmw.at":"AT","bmw.com.au":"AU","bmw.be":"BE","bmw.bg":"BG","bmw.com.br":"BR","bmw.ca":"CA","bmw.ch":"CH","bmw.com.cn":"CN","bmw.cz":"CZ","bmw.de":"DE","bmw.dk":"DK","bmw.es":"ES","bmw.fi":"FI","bmw.fr":"FR","bmw.co.uk":"GB","bmw.gr":"GR","bmw.hu":"HU","bmw.co.id":"ID","bmw.ie":"IE","bmw.in":"IN","bmw.is":"IS","bmw.it":"IT","bmw.co.jp":"JP","bmw.co.kr":"KR","bmw.lu":"LU","bmw.com.mx":"MX","bmw.com.my":"MY","bmw.nl":"NL","bmw.no":"NO","bmw.co.nz":"NZ","bmw.pl":"PL","bmw.pt":"PT","bmw.ro":"RO","bmw.ru":"RU","bmw.se":"SE","bmw.si":"SI","bmw.sk":"SK","bmw.co.th":"TH","bmw.com.sg":"SG","bmw.com/en-au":"AU","mini.de":"DE","mini.fr":"FR","mini.it":"IT","mini.at":"AT","mini.ch":"CH"};return a[t]||a[t+"/"+location.pathname.split("/")[1].toLowerCase()]}catch(e){_satellite.logger.log("Error:languageAndMarketWorkaround")}}}},isOfferApplicable:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){try{var t,s=+_satellite.getVar("final_score")||0,a=window.location.href,r=-1<a.indexOf("bmw.de/de/neufahrzeuge")||-1<a.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/neufahrzeuge")||-1<a.indexOf("bmw.de/de/all-models/")||-1<a.indexOf("bmw.de/de/index")||-1<a.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de_DE/index")||-1<a.indexOf("bmw.de/de/home")||-1<a.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/home"),n=25,o=JSON.parse(sessionStorage.getItem("Personalization_VisitorReco"))||{},i=o.isOfferShown,c=o.isFormSubmitted;t="boolean"==typeof o.isOfferShown?Object.keys(o).length-1:Object.keys(o),_satellite.logger.log("VisitorReco: final Score is:",s),_satellite.logger.log("VisitorReco: Count of models present:",t),_satellite.logger.log("VisitorReco: offer shown flag value:",i),n<=s&&r&&0==i&&0<t&&"true"!=_satellite.getVar("isSetTimeOut")&&!c&&(_satellite.setVar("isSetTimeOut","true"),_satellite.logger.log("VisitorReco: SetTimeOut function is set"),setTimeout(function(){0==JSON.parse(sessionStorage.getItem("Personalization_VisitorReco")).isOfferShown&&(_satellite.logger.log("VisitorReco: get and apply offer method called"),document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED,function a(e){if(void 0!==e&&"undefined"!=typeof e.detail&&"undefined"!=typeof e.detail.responseTokens&&0<e.detail.responseTokens.length)for(var t=0;t<e.detail.responseTokens.length;t++)"undefined"!=typeof e.detail.responseTokens[t]&&"undefined"!=typeof e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"]&&_satellite.setVar("AT-catHist_CarModel_HIST",JSON.parse(e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"]))}),adobe.target.getOffer({mbox:"visitor-reco-mbox",params:{vs_score:s},success:function(e){adobe.target.applyOffer({mbox:"visitor-reco-mbox",offer:e})},error:function(e,t){_satellite.logger.error("VisitorReco: Error in applying offer: ",e,t)}}))},5e3))}catch(d){var l={from:"AA",type:"DE",name:"isOfferApplicable"};_satellite.logger.error(e,l)}}}}},"AAM-hashedid_cookie":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=["hashedid"],a=decodeURI(document.cookie).split(";"),s="";return a.forEach(function(e){for(console.log(e),i=0;i<t.length;i++)if(-1!=e.split("=")[0].indexOf(t[i])){s=e.split("=")[1];break}}),hashedid_cookie_clean=decodeURIComponent(s),hashedid_cookie_clean}catch(e){_satellite.logger.error("hashedid cookie Error ",e)}}}},"AT-AffinityParams":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=function(e,t){for(var a=Object.keys(t),s=0;s<a.length;s++)if(new RegExp(a[s]).test(e))return!0;return!1},a=function(t,a){var s=function(){try{var t=window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages[0]||_satellite.getVar("finalDataLayer");return t&&t.product&&t.product.length&&t.product[0].attributes&&t.product[0].attributes.bodyType||undefined}catch(e){}},r=function(){try{var t=window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages[0]||_satellite.getVar("finalDataLayer");return t&&t.product&&t.product.length&&t.product[0].attributes&&t.product[0].attributes.mmdr||undefined}catch(e){}},n=function(e,t){var a=e.match(t);if(a)return a[6]?"Z":a[7]?"BMW i":(a[3]||a[5]||a[4]).toUpperCase()},o=function(e,t){if(e.match(t))return"M"},i=function(e,t){if(e.match(t))return"true"},c=function(e,t){for(var a=Object.keys(t),s=0;s<a.length;s++)if(new RegExp(a[s]).test(e))return t[a[s]]},l=a.listOfExceptions&&c(t,a.listOfExceptions)||{};return{"car-body-type":l["car-body-type"]||s(),"car-series":l["car-series"]||n(t,a.seriesRegex),"car-variant":l["car-variant"]||o(t,a.variantRegex),"is-electric":l["is-electric"]||i(t,a.electricRegex),"car-model":l["car-model"]||r()}},s={"bmw.co.uk":{seriesRegex:/all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d|X\d)|(z)|(i\d))/,variantRegex:/all-models\/(m).*/,electricRegex:/i\d|#phev|#plug-in|#bmw-X1-xDrive25e|#X2_hybrid|#plug-in-hybrid/,listOfExceptions:{}},"bmw.it":{seriesRegex:/gamma.*(\/|bmw-)(serie-(\d)|m(\d)|(x\d)|(z)|(i\d))/,variantRegex:/gamma\/(m).*/,electricRegex:/i\d|#phev|#f45_phev|#G30_hybrid|#G31_hybrid|#plug-in|#bmw-X1-xDrive25e|#plug-in-hybrid/,listOfExceptions:{"mondo-bmw/bmw-i/bmw-concept-i4.html":{"car-series":"BMW i","is-electric":"true"},"ix3/2020/highlight.html":{"car-series":"BMW i",
"is-electric":"true"},"x/X2/2020/tecnologia.html":{"car-series":"X2","is-electric":"true"},"m/bmw-z4-m40i/2019/bmw-m40i-highlight.html":{"car-series":"Z"},"x/X2/2020/highlight.html":{"car-series":"X2"}}},"bmw.fr":{seriesRegex:/tous-les-modeles.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i\d))/,variantRegex:/tous-les-modeles\/(m).*/,electricRegex:/i\d|phev|#G21_mildhybrid|#G30_hybrid|#X2_hybrid|#bmw-X1-xDrive25e/,listOfExceptions:{"x-series/X4/2018/apercu.html":{"car-series":"X4"},"/bmw-concept/bmw-concept-i4.html":{"car-series":"BMW i","is-electric":"true"},"x-series/iX3/2020/bmw-ix3-apercu.html":{"car-series":"iX3","is-electric":"true"}}},"bmw.ru":{seriesRegex:/all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i\d))/,variantRegex:/all-models\/(m).*/,electricRegex:/^$/,listOfExceptions:{}},"bmw.de":{seriesRegex:/neufahrzeuge.*(\/|bmw-)((\d)er|m(\d)|(x\d)|(z4)|(i\d))/,variantRegex:/neufahrzeuge\/m\//,electricRegex:/i\d|phev|#330e|#\/530e|#bmw-X1-xDrive25e|#x5-xdrive45e|elektromobilitaet/,listOfExceptions:{"/neufahrzeuge/m/m-240i-convertible/":{"car-series":"2","car-variant":"M"},"/topics/faszination-bmw/bmw-concept-cars/bmw-concept-i4-ueberblick.html":{"car-series":"BMW i"},"/topics/faszination-bmw(.*)elektromobilitaet/":{"is-electric":"true"}}}}[_satellite.getVar("topLevelDomain")],r=window.location.href,n=/neufahrzeuge|all-models|tous-les-modeles|gamma/.test(r)||s&&s.listOfExceptions&&t(r,s.listOfExceptions);return s&&n&&consentcontroller.api.isUsageAllowed("AdobeTargetPersonalization")?a(r,s):{}}catch(e){_satellite.logger.error("Error in Data element AT-AffinityParams-",e)}}}},ev_eve_eventName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.eventName}catch(a){}}}},pa_pag_pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.pageName;return""==e&&(e="not set"),e}catch(t){return"not set"}}}},usabilla_restrict_keywords_url:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var t=["prueba","oferta","rfi","rfo","tda","my-bmw-start.html","dlo","rfc","my-bmw.html","panoramica","gamma","test-drive-now","bmw-cataloghi.html","offers-service","offres-et-services","toute-la-gamme","test-drive","forms/request.html","offers-and-services","tda-experience","contact","offerte","proefrit","berekenen","nieuwsbrief","online-afspraakplanner","aanvraag/contact","vakantieauto","brochure-prijslijst","my-bmw.html","accessoire-configurator","call-me-back.html","als-eerste-rijden"],a=0;a<t.length;a++)if(-1!==_satellite.getVar("URL").indexOf(t[a]))return!0;return!1}catch(e){var s={from:"Usabilla",type:"DE",name:"usabilla_restrict_keywords"};_satellite.logger.error(e,s)}}}},flatMapping:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(t){try{var a=_satellite.getVar("snapshotDL");t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",new Date,a.get(location.href,"page.pageInfo.destinationUrl");var s="stock > ";if("search"==a.get("event.-1.eventInfo.eventName")||"sl > search filter"==a.get("event.-1.eventInfo.eventName")){_satellite.logger.log("inside search filter khubruy");var r=a.get("event.-1.attributes.search",{});if(t.products="",0<r.length)for(var n in r)"undefined"!=typeof r[n].label&&(t.products+="search;search;;;;eVar30="+(r[n].unit||"")+"|eVar31="+(r[n].state||"")+"|eVar32="+(r[n].label||"")+"|eVar33="+(r[n].term||"")+",")}_satellite.getVar("setProductString")(t),t.server=location.hostname,t.linkTrackVars+="server,",t.prop45=a.get("component.-1.attributes.componentVersion"),t.linkTrackVars+="prop45,",t.eVar134=a.get("component.-1.attributes.touchpoint","web"),t.linkTrackVars+="eVar134,",t.prop41=a.get("component.-1.category.componentType"),t.linkTrackVars+="prop41,",t.prop42=_satellite.getVar("AA-componentDefaultValues").primaryCat,t.linkTrackVars+="prop42,",t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.linkTrackVars+="prop43,",t.prop44=a.get("component.-1.componentInfo.componentID"),t.linkTrackVars+="prop44,",t.prop19=-1!=window.location.href.indexOf("similarity")?"similarity-search":_satellite.getVar("AA-componentDefaultValues").componentName,t.linkTrackVars+="prop19,","not set"!=a.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&(t.prop44=a.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")),t.prop27=a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",a.get("page.pageInfo.pageID",a.get("event.-1.attributes.linkedPage.pageInfo.pageID"))),t.linkTrackVars+="prop27,",t.eVar43=a.get("dealer.-1.attributes.selectionState"),t.linkTrackVars+="eVar43,",t.eVar41=a.get("dealer.-1.dealerInfo.dealerGroupName",a.get("dealer.-1.dealerInfo.dealerGroup")),t.linkTrackVars+="eVar41,",t.eVar42=a.get("dealer.-1.dealerInfo.dealerID",a.get("dealer.-1.dealerInfo.dealerGroupID")),t.linkTrackVars+="eVar42,",t.eVar39=a.get("dealer.-1.dealerInfo.dealerOutletName",a.get("dealer.-1.dealerInfo.dealerName")),t.linkTrackVars+="eVar39,",t.eVar40=a.get("dealer.-1.dealerInfo.outletID",a.get("dealer.-1.dealerInfo.dealerOutletID")),t.linkTrackVars+="eVar40,",t.prop17=a.get("event.-1.attributes.form.rfxID"),t.linkTrackVars+="prop17,","not set"!=a.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&"datalayer field missing"!=a.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&"datalayer field empty"!=a.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&(t.prop44=a.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")),t.eVar71=a.get("event.-1.attributes.requestedURL"),t.linkTrackVars+="eVar71,",t.prop54=a.get("event.-1.category.primaryCategory",a.get("event.-1.category.primaryCatergory")),t.linkTrackVars+="prop54,",t.prop50=a.get("event.-1.attributes.element"),t.linkTrackVars+="prop50,","form"==a.get("event.-1.eventInfo.eventName")&&(t.prop11=a.get("event.-1.category.primaryCategory"),t.linkTrackVars+="prop11,",t.prop7=a.get("event.-1.category.subCategory1"),t.linkTrackVars+="prop7,",t.prop8=a.get("event.-1.eventInfo.effect"),t.linkTrackVars+="prop8,",t.prop6=a.get("event.-1.eventInfo.type"),t.linkTrackVars+="prop6,"),t.prop55=a.get("event.-1.category.subCategory1",a.get("event.-1.attributes.errorCode",a.get("event.-1.solutionSpecific.slfavItemsNum",a.get("event.-1.attributes.searchResults",a.get("event.-1.category.subCategory01"))))),t.linkTrackVars+="prop55,",t.prop51=a.get("event.-1.category.subCategory2"),t.linkTrackVars+="prop51,","search"==a.get("event.-1.eventInfo.eventName")&&(t.prop24=a.get("event.-1.category.subCategory1",a.get("event.-1.category.subCategory01")),t.linkTrackVars+="prop24,",t.prop21=a.get("event.-1.eventInfo.type"),t.linkTrackVars+="prop21,"),t.prop52=a.get("event.-1.eventInfo.cause"),t.linkTrackVars+="prop52,",t.eVar34=a.get("event.-1.eventInfo.effect"),t.eVar34.indexOf(s)<0&&(t.eVar34=s+t.eVar34),t.linkTrackVars+="eVar34,",t.prop57=a.get("event.-1.eventInfo.eventAction"),t.linkTrackVars+="prop57,",t.prop56=a.get("event.-1.eventInfo.eventName"),t.linkTrackVars+="prop56,",a.get("event.-1.eventInfo.eventPoints")&&parseInt(a.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(a.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(a.get("event.-1.eventInfo.eventPoints"))?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(a.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+a.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):(t.prop58=a.get("event.-1.eventInfo.eventPoints"),t.linkTrackVars+="prop58,"),t.prop12=a.get("event.-1.eventInfo.timeStamp",a.get("event.-1.eventInfo.timestamp")),t.linkTrackVars+="prop12,",t.prop53=a.get("event.-1.eventInfo.type"),t.linkTrackVars+="prop53,",t.eVar23=a.get("event.-1.attributes.form.preferredComChannel",a.get("event.-1.attributes.form.preferredComChannel")),t.linkTrackVars+="eVar23,",t.eVar24=a.get("event.-1.attributes.searchResults"),t.linkTrackVars+="eVar24,",t.prop13=a.get("page.attributes.brand"),t.linkTrackVars+="prop13,",t.prop2=a.get("page.category.pageType"),t.linkTrackVars+="prop2,","form"==a.get("page.category.pageType")?(t.prop11=a.get("page.category.primaryCategory"),t.linkTrackVars+="prop11,",t.prop9=a.get("page.category.subCategory1"),t.linkTrackVars+="prop9,",t.prop10=a.get("page.category.subCategory2"),t.linkTrackVars+="prop10,"):"search"==a.get("page.category.pageType")&&(t.prop21=a.get("page.category.subCategory1"),t.linkTrackVars+="prop21,"),t.prop4=a.get("page.category.subCategory1"),t.linkTrackVars+="prop4,",t.prop5=a.get("page.category.subCategory2"),t.linkTrackVars+="prop5,",t.prop46=a.get("page.pageInfo.author"),t.linkTrackVars+="prop46,",t.eVar7=a.get("page.pageInfo.language",_satellite.getVar("AA-languageAndMarketWorkaround")),t.eVar7=-1<t.eVar7.indexOf("-")?t.eVar7.split("-")[0]:t.eVar7,t.linkTrackVars+="eVar7,",t.eVar8=_satellite.getVar("AA-languageWorkaround"),t.linkTrackVars+="eVar8,",t.prop1=a.get("page.pageInfo.pageName"),t.prop1.indexOf(s)<0&&(t.prop1=s+t.prop1),t.pageName=t.prop1,t.linkTrackVars+="pageName,prop1,",t.eVar135=a.get("page.pageInfo.sysEnv"),t.linkTrackVars+="eVar135,",t.prop28=a.get("page.pageInfo.variant"),t.linkTrackVars+="prop28,",t.prop29=a.get("page.pageInfo.version"),t.linkTrackVars+="prop29,",t.prop59=a.get("product.-1.attributes.configID"),t.linkTrackVars+="prop59,",t.eVar19=a.get("user.-1.profile.-1.address.stateProvince"),t.linkTrackVars+="eVar19,",t.eVar20=a.get("user.-1.profile.-1.address.country"),t.linkTrackVars+="eVar20,",t.prop40=a.get("user.-1.profile.-1.attributes.loggedInStatus"),t.linkTrackVars+="prop40,",t.eVar21=a.get("user.-1.profile.-1.profileInfo.language"),t.linkTrackVars+="eVar21,",t.eVar17=a.get("user.-1.profile.-1.profileInfo.profileID"),t.linkTrackVars+="eVar17,",t.eVar15=a.get("user.-1.profile.-1.profileInfo.type"),t.linkTrackVars+="eVar15,",t.eVar16=a.get("user.-1.segment"),t.eVar16=t.eVar16&&"object"==typeof t.eVar16?"datalayer field empty":t.eVar16,t.linkTrackVars+="eVar16,",t.eVar136=a.get("version.version",t.version),t.linkTrackVars+="eVar136,",t.eVar122=a.get("page.attributes.currencyCode"),t.linkTrackVars+="eVar122,",t.eVar120=a.get("cart.cartID"),t.linkTrackVars+="eVar120,",t.eVar125=a.get("transaction.-1.transactionID"),t.linkTrackVars+="eVar125,"}catch(e){var o={from:"AA",type:"DE",name:"flatMapping"};_satellite.logger.error(e,o)}}}}},"ECID-previousPermissions":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.adobe.OptInCategories,a={};return a[t.ECID]="true"==_satellite.getVar("isAdobeAnalyticsAllowed"),a[t.ANALYTICS]="true"==_satellite.getVar("isAdobeAnalyticsAllowed"),a[t.TARGET]="true"==_satellite.getVar("isTargetAllowed"),a[t.AAM]="true"==_satellite.getVar("isAAMAllowed"),a}catch(e){var s={from:"AA",type:"DE",name:"ECID-previousPermissions"};_satellite.logger.error(e,s)}}}},campaignParameter:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}try{var t={"bmw.ca":["tl"],"bmw-int2i.com":["tl"],"bmw.pt":["tl"],"bmw.co.id":["tl"],"bmw.com.mx":["tl"],"pml-bmw.com.sg":["tl"],"munichauto.com.sg":["tl"],"bmw.co.kr":["tl"],"bmw.ie":["tl"],"bmw.com.br":["tl"],"bmw.com.pa":["tl"],"bmw.com.py":["tl"],"bmw.com.co":["tl"],"bmw.com.pe":["tl"],"bmw.com.uy":["tl"],"bmw.com.gt":["tl"],"bmw.cl":["tl"],"bmw.co.cr":["tl"],"bmw.com.bo":["tl"],"bmw.com.ec":["tl"],"bmw.com.sv":["tl"],"bmw.com.ni":["tl"],"bmw.com.do":["tl"],"bmw.hn":["tl"],"bmw.com.ve":["tl"],"bmw.cw":["tl"],"bmw.bs":["tl"],"bmw.bb":["tl"],"bmw.com.ky":["tl"],"bmwjamaica.com":["tl"],"bmw.lc":["tl"],"bmw.tt":["tl"],"bmw.ht":["tl"],"bmw.com.ar":["tl"],"bmwlat.com":["tl"],"bmw.co.za":["tl"],"bmw.in":["tl"],"bmw.bg":["tl"],"bmw.gr":["tl"],"bmw.pl":["tl"],"bmw.hu":["tl"],"bmw.sk":["tl"],"bmw.si":["tl"],"bmw.ro":["tl"],"bmw.cz":["tl"],"bmw.co.jp":["tl"],"bmw.com.tr":["tl"],"bmw.com.au":["tl"],"bmw.fi":["tl"],"bmw.no":["tl"],"bmwhk.com":["tl"],"bmw.dk":["tl"],"bmw.se":["tl"],"bmw.ru":["tl"],"bmw.com.tw":["tl"],"bmw.lv":["tl"],"bmw.ee":["tl"],"next100.bmw":["tl"],"trgovec.bmw":["tl"],"testnavoznja.bmw":["tl"],"bmw.co.nz":["tl"],"bmw-asia.com":["tl"],"bmw.com.my":["tl"],"bmw.co.th":["tl"],"bmw.lk":["tl"],"bmw.com.ph":["tl"],"bmw-eg.com":["tl"],"bmw.am":["tl"],"bmw.vn":["tl"],"bmw.mu":["tl"],"bmw.com.al":["tl"],"bmw.ly":["tl"],"bmw.ua":["tl"],"bmw.com.bd":["tl"],"bmw.com.bn":["tl"],"bmw.com.ge":["tl"],"bmw.is":["tl"],"bmwmyanmar.com":["tl"],"bmw.co.il":["tl"],"bmw.cc":["tl"],"bmw-me.com":["tl"],"bmw.it":["tl"],"bmw-kuwait.com":["tl"],"bmw.com.cy":["tl"],"bmw.bm":["tl"],"bmw.com.mt":["tl"],"bmw-abudhabi.com":["tl"],"bmw-dubai.com":["tl"],"bmw.az":["tl"],"bmw.ba":["tl"],"bmw.be":["tl"],"bmw.dz":["tl"],"bmw.fr":["tl"],"bmw.hr":["tl"],"bmw-iraq.com":["tl"],"bmw.com.kz":["tl"],"bmw-lebanon.com":["tl"],"bmw.lu":["tl"],"bmw.md":["tl"],"bmw.nl":["tl"],"bmw-oman.com":["tl"],"bmw-pakistan.com":["tl"],"bmw-qatar.com":["tl"],"bmw.re":["tl"],"bmw-saudiarabia.com":["tl"],"bmw-tunisia.com":["tl"],"bmw.de":["tl"],"bmw.at":["tl"],"bmw.ch":["tl"],"bmw.es":["tl"],"bmw-lao.la":["tl"],"bmw-jordan.com":["tl"],"bmw-bahrain.com":["tl"],"bmw.ps":["tl"],"bmw-yemen.com":["tl"],"bmw-tahiti.com":["tl"],"bmw-antilles.fr":["tl"],"bmw.mq":["tl"],"bmw.com.cn":["tl"],"bmw.nc":["tl"],"bmw.rs":["tl"],"bmw-voli.me":["tl"],"bmw.com.mk":["tl"],"bmw-yachtsport.com":["tl"],"bmw-golfsport.com":["tl"],"bmw-motorsport.com":["tl"],"bmw-m.com":["tl"],"bmw.com":["tl"],"bmw.co.ke":["tl"],"bmw-ghana.com":["tl"],"bmw-nigeria.com":["tl"],"bmw.co.ao":["tl"],"bmw.sr":["tl"],"bmw.com.mo":["tl"],"bmw-special-sales.com":["tl"],"bmw-pma.com.sg":["tl"],"bmw.co.uk":["tl"],"bmwbkk.de":["tl"],"bmw.com.sg":["tl"]},a=_satellite.getVar("topLevelDomain");if("undefined"!=typeof t[a])var s=t[a];else s=["tl"];for(var r="",n=0;n<s.length&&!(r=e(s[n]));n++);return r}catch(o){"true"==localStorage.getItem("sdsat_debug")&&_satellite.logger.error("SATELLITE: Campaign not tracked")}}}},"AA-SearchAds360Parameter":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}try{var a={"bmw.de":["gclid"],"bmw.at":["gclid"]},s=_satellite.getVar("topLevelDomain");if("undefined"!=typeof a[s])var r=a[s];var n="";if("bmw.de"==s||"bmw.at"==s)for(var o=0;o<r.length&&!(n=t(r[o]));o++);return n}catch(e){var i={from:"AA",type:"DE",name:"SearchAds360Parameter"};_satellite.logger.error(e,i)}}}},pr_att_sellingPriceTotal:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.product.length-1,a=e.product[t].attributes.sellingPriceTotal;return""==a&&(a="not set"),a}catch(s){return"not set"}}}},"AAM-containerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("AAM-initConfig");return t&&t.containerNSID||""}catch(e){var a={from:"AA",type:"DE",name:"AAM-containerID"};_satellite.logger.error(e,a)}}}},jcrPathLevel1:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=e.split("/"),a=1;if((a=a+6-1)<t.length)var s=t[a];else s="None";return-1<e.indexOf("/configurator")&&(s="Configurator"),s}catch(r){}}}},geoRegion:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL");if("undefined"!=typeof e.page)return e.page.pageInfo.geoRegion;var t=location.hostname.split("."),a=t[t.length-1];return a=a.toUpperCase()}catch(s){}}}},perfTime_hash:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.cookie.get("bmwdtm_hq_perf");return void 0!==t?(jdata=JSON.parse(t),jdata.hash):"na"}catch(e){return _satellite.logger.error("Error in Data Element perfTime_hash : "+e),"na"}}}},"AA-subCategory01":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.category.subCategory01"}}},webDL:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api;if(void 0!==t){var a=t.getCurrentPageIndex();if(1==_satellite.getVar("useVCOPage"))for(var s=a;0<s;s--)if("object"==typeof t.getPageObject(s).page&&"VCO"==t.getPageObject(s).page.category.primaryCategory){a=s;break}var r=t.getPageObject(a);if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId&&-1==r.pageInstanceId.indexOf("need-analyzer"))return r;if("undefined"!=typeof r.component&&r&&r.component[0]&&r.component[0].category&&"stock locator"==r.component[0].category.subCategory01)return r;if("undefined"!=typeof r.component&&r&&r.component[0]&&r.component[0].componentInfo&&"digital checkout solution"==r.component[0].componentInfo.componentName)return r;if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId&&0<r.product.length)return r;if("undefined"!=typeof r.pageInstanceId&&""!=r.pageInstanceId)return r=a&&0<a?t.getPageObject(a):t.getPageObject(0)}return r}catch(e){var n={from:"AA",type:"DE",name:"webDL"};_satellite.logger.error(e,n)}}}},"AAM-disableIDSyncs":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("AAM-initConfig");return t&&t.disableIDSyncs||!0}catch(e){var a={from:"AA",type:"DE",name:"AAM-disableIDSyncs"};_satellite.logger.error(e,a)}}}},jcrPathLevel2:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=_satellite.getVar("pa_cat_subCategory01"),a=_satellite.getVar("pa_cat_primaryCategory"),s=e.split("/"),r=2;if((r=r+6-1)<s.length)var n=s[r];else n="None";return-1<e.indexOf("/configurator")&&(n="Configurator Page"),"VCO"===a&&(n=t),n}catch(o){}}}},ev_eve_element:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.element}catch(a){}}}},hierarchy:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("jcrPathLevel1"),t=_satellite.getVar("jcrPathLevel2"),a=_satellite.getVar("jcrPathLevel3"),s=_satellite.getVar("pageName"),r=[e,t,a],n=3;-1<a.indexOf("None")&&(n=2),-1<t.indexOf("None")&&(n=1),-1<e.indexOf("None")&&(n=0);for(var o="",i=0;i<n;i++)o+=r[i]+"|";return o+=s}catch(c){}}}},isAAMAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("KIT-helpers").privacyManager,a=_satellite.getVar("consentMap").AAM;return t.isTrackingAllowed(a).toString()}catch(e){var s={from:"AA",type:"DE",name:"isAAMAllowed"};_satellite.logger.error(e,s)}}}},isRegulationAccepted_Tags:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(){var e=_satellite.getVar("TPT-PII_keywords"),t=window.location.href.toLowerCase(),a=t.split("?")[1];if(/[\w-]+@([\w-]+\.)+[\w-]+/.test(t))return"false";if(a!=undefined)for(var s=0;s<e.length;s++)if(-1<a.indexOf(e[s]+"="))return"false";return"true"}try{var a=_satellite.getVar("KIT-helpers").privacyManager,s=_satellite.getVar("consentMap").Others;return"false"===a.isTrackingAllowed(s).toString()?"false":t()}catch(e){var r={from:"AA",type:"DE",name:"isRegulationAccepted_Tags"};_satellite.logger.error(e,r)}}}},"AA-doNotTrack":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["sales > dcs: entry","stocklocator"]}}},hierarchyEvar:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("jcrPathLevel1"),t=_satellite.getVar("jcrPathLevel2"),a=_satellite.getVar("jcrPathLevel3"),s=_satellite.getVar("pageName"),r=_satellite.getVar("pa_pag_pageName"),n=[e,t,a],o=3;-1<a.indexOf("None")&&(o=2),-1<t.indexOf("None")&&(o=1),-1<e.indexOf("None")&&(o=0);for(var i="",c=0;c<o;c++){for(var l="",d=0;d<=c;d++)l+=n[d]+" > ";i+=(l=l.substring(0,l.length-3))+"|"}for(c=o;c<3;c++)i+=l+"|";return i+=s,i+="|"+r}catch(u){}}}},perfTime_query:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=_satellite.cookie.get("bmwdtm_hq_perf");return void 0!==t?(jdata=JSON.parse(t),jdata.query):"na"}catch(e){return _satellite.logger.error("Error in Data Element perfTime_query : "+e),"na"}}}}},extensions:{core:{displayName:"Core",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,a){"use strict";var s=a("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return s.location.href;case"hostname":return s.location.hostname;case"pathname":return s.location.pathname;case"protocol":return s.location.protocol;case"referrer":return s.referrer;case"title":return s.title}}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,a){"use strict";var o=a("@adobe/reactor-window"),i=a("@adobe/reactor-query-string");e.exports=function(e){var t=i.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var a=e.name.toLowerCase(),s=Object.keys(t),r=0;r<s.length;r++){var n=s[r];if(n.toLowerCase()===a)return t[n]}}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,n){"use strict";var o,s,r,i,c=a("@adobe/reactor-document"),l=a("@adobe/reactor-promise"),d=a("./helpers/decorateCode"),u=a("./helpers/loadCodeSequentially"),m=a("../../../node_modules/postscribe/dist/postscribe"),b=a("./helpers/unescapeHtmlCode"),p=(s=function(e){m(c.body,e,{beforeWriteToken:function(t){var e=t.tagName&&t.tagName.toLowerCase();return o&&"script"===e&&(t.attrs.nonce=o),"script"!==e&&"style"!==e||(Object.keys(t.attrs||{}).forEach(function(e){t.attrs[e]=b(t.attrs[e])}),t.src&&(t.src=b(t.src))),t},error:function(e){n.logger.error(e.msg)}})},r=[],i=function(){if(c.body)for(;r.length;)s(r.shift());else setTimeout(i,20)},function(e){r.push(e),i()}),g=function(){if(c.currentScript)return c.currentScript.async;for(var e=c.querySelectorAll("script"),t=0;t<e.length;t++){var a=e[t];if(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(a.src))return a.async}return!0}();e.exports=function(e,t){var a;o=n.getExtensionSettings().cspNonce;var s={settings:e,event:t},r=s.settings.source;if(r)return s.settings.isExternal?u(r).then(function(e){return e?(a=d(s,e),p(a.code),a.promise):l.resolve()}):(a=d(s,r),g||"loading"!==c.readyState?p(a.code):c.write&&!1===n.propertySettings.ruleComponentSequencingEnabled?c.write(a.code):p(a.code),a.promise)}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,a){"use strict";var s=a("./helpers/debounce"),r=a("./helpers/once"),n=window.history,o=window.location.href,i=[],c=function(t,e,a){var s=t[e];t[e]=function(){var e=s.apply(t,arguments);return a.apply(null,arguments),e}},l=s(function(){var e=window.location.href;o!==e&&(i.forEach(function(e){e()}),o=e)},0),d=r(function(){n&&(n.pushState&&c(n,"pushState",l),n.replaceState&&c(n,"replaceState",l)),window.addEventListener("popstate",l),window.addEventListener("hashchange",l)});e.exports=function(e,t){d(),i.push(t)}}},"core/src/lib/conditions/subdomain.js":{name:"subdomain",displayName:"Subdomain",script:function(e,t,a){"use strict";var s=a("@adobe/reactor-document"),r=a("../helpers/textMatch");e.exports=function(e){var a=s.location.hostname;return e.subdomains.some(function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(a,t)})}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,n){"use strict";var o={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a=o[e];if(a){var s={identifier:e,detail:t};a.forEach(function(e){e(s)});var r=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&r.push(t),n.logger.log.apply(n.logger,r)}else n.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var a=o[e.identifier];a||(a=o[e.identifier]=[]),a.push(t)}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),o=a("./helpers/createBubbly")(),i=new(a("./helpers/weakMap")),c=function(e){for(;e;){var t=e.tagName;if(t&&"a"===t.toLowerCase()){var a=e.getAttribute("href"),s=e.getAttribute("target");return a&&(!s||"_self"===s||"_top"===s&&n.top===n||s===n.name)?e:void 0}e=e.parentNode}};document.addEventListener("click",o.evaluateEvent,!0),e.exports=function(s,r){o.addListener(s,function(e){var t=e.nativeEvent;if(!t.s_fe){if(s.anchorDelay&&!i.has(t)){var a=c(t.target);a&&(t.preventDefault(),setTimeout(function(){n.location=a.href},s.anchorDelay)),i.set(t,!0)}r(e)}})},e.exports.__reset=o.__reset}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e){"use strict";var s=function(e){return"number"==typeof e&&isFinite(e)},r=function(e){return"string"==typeof e||e instanceof String},n=function(e,t){return t&&r(e)?e.toLowerCase():e},o=function(e){return s(e)?String(e):e},i=function(e){return r(e)?Number(e):e},t=function(s){return function(e,t,a){return e=o(e),t=o(t),r(e)&&r(t)&&s(e,t,a)}},a=function(a){return function(e,t){return e=i(e),t=i(t),s(e)&&s(t)&&a(e,t)}},c=function(s){return function(e,t,a){return s(n(e,a),n(t,a))}},l={equals:c(function(e,t){return e==t}),doesNotEqual:function(){return!l.equals.apply(null,arguments)},contains:t(c(function(e,t){return-1!==e.indexOf(t)})),doesNotContain:function(){return!l.contains.apply(null,arguments)},startsWith:t(c(function(e,t){return 0===e.indexOf(t)})),doesNotStartWith:function(){return!l.startsWith.apply(null,arguments)},endsWith:t(c(function(e,t){return e.substring(e.length-t.length,e.length)===t})),doesNotEndWith:function(){return!l.endsWith.apply(null,arguments)},matchesRegex:t(function(e,t,a){return new RegExp(t,a?"i":"").test(e)}),doesNotMatchRegex:function(){return!l.matchesRegex.apply(null,arguments)},lessThan:a(function(e,t){return e<t}),lessThanOrEqual:a(function(e,t){return e<=t}),greaterThan:a(function(e,t){return t<e}),greaterThanOrEqual:a(function(e,t){return t<=e}),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return l[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,a){"use strict";var s=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){s.registerWindowLoadedTrigger(t)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,a){"use strict";var s=a("@adobe/reactor-document"),r=a("../helpers/textMatch");e.exports=function(e){var a=s.location.pathname;return e.paths.some(function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(a,t)})}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,a){"use strict";var s=a("./helpers/createBubbly")(),r=[];e.exports=function(e,t){var a=e.type;-1===r.indexOf(a)&&(r.push(a),window.addEventListener(a,s.evaluateEvent,!0)),s.addListener(e,function(e){e.nativeEvent.type===a&&(e.detail=e.nativeEvent.detail,t(e))})}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,a){"use strict";var s=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){s.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/conditions/variable.js":{name:"variable",displayName:"Variable",script:function(e,t,a){"use strict";var s=a("../helpers/getObjectProperty"),r=a("../helpers/textMatch");e.exports=function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(s(window,e.name),t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,a){"use strict";var s=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){s.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,a){"use strict";var s=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){s.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,a){"use strict";var s=a("@adobe/reactor-document"),r=a("../helpers/textMatch");e.exports=function(e){var a=s.location.pathname+s.location.search;return e.paths.some(function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(a,t)})}}},"core/src/lib/events/submit.js":{name:"submit",displayName:"Submit",script:function(e,t,a){"use strict";var s=a("./helpers/createBubbly")();document.addEventListener("submit",s.evaluateEvent,!0),e.exports=function(e,t){s.addListener(e,t)}}},"core/src/lib/events/elementExists.js":{name:"element-exists",displayName:"Element Exists",script:function(e,t,a){"use strict";var s=3e3,i=new(a("./helpers/weakMap")),c=a("./helpers/matchesProperties"),l={};setInterval(function(){Object.keys(l).forEach(function(e){for(var t=l[e],a=document.querySelectorAll(e),s=0;s<a.length;s++){var r=a[s];if(!i.has(r)){i.set(r,!0);for(var n=0;n<t.length;n++){var o=t[n];c(r,o.settings.elementProperties)&&(o.trigger({element:r,target:r}),t.splice(n,1),n--)}}if(!t.length){delete l[e];break}}})},s),e.exports=function(e,t){var a=l[e.elementSelector];a||(a=l[e.elementSelector]=[]),a.push({settings:e,trigger:t})}}},"core/src/lib/conditions/hash.js":{name:"hash",displayName:"Hash",script:function(e,t,a){"use strict";var s=a("../helpers/textMatch");e.exports=function(e){var a=document.location.hash;return e.hashes.some(function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return s(a,t)})}}},"core/src/lib/events/change.js":{name:"change",displayName:"Change",script:function(e,t,a){"use strict";var s=a("./helpers/createBubbly")(),r=a("../helpers/textMatch");document.addEventListener("change",s.evaluateEvent,!0),e.exports=function(e,t){var a;e.value!==undefined&&(a=e.valueIsRegex?new RegExp(e.value,"i"):e.value),s.addListener(e,function(e){if(a!==undefined&&!r(e.target.value,a))return!1;t(e)})}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a){"use strict";var s=a("./decorators/decorateGlobalJavaScriptCode"),r=a("./decorators/decorateNonGlobalJavaScriptCode"),n={javascript:function(e,t){return e.settings.global?s(e,t):r(e,t)},html:a("./decorators/decorateHtmlCode")};e.exports=function(e,t){return n[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var s=a("@adobe/reactor-promise"),r=a("./getSourceByUrl"),n=s.resolve();e.exports=function(t){var e=new s(function(a){var e=r(t);s.all([e,n]).then(function(e){var t=e[0];a(t)})});return n=e}}},
"core/node_modules/postscribe/dist/postscribe.js":{script:function(a,s){!function r(e,t){"object"==typeof s&&"object"==typeof a?a.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof s?s.postscribe=t():e.postscribe=t()}(this,function(){return function(a){function s(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,s),t.loaded=!0,t.exports}var r={};return s.m=a,s.c=r,s.p="",s(0)}([function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var r=s(a(1));e.exports=r["default"]},function(e,t,a){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function l(){}function d(){var e=c.shift();if(e){var t=o.last(e);t.afterDequeue(),e.stream=n.apply(undefined,e),t.afterStreamStart()}}function n(e,t,s){function r(e){e=s.beforeWrite(e),g.write(e),s.afterWrite(e)}(g=new b["default"](e,s)).id=p++,g.name=s.name||g.id,u.streams[g.name]=g;var a=e.ownerDocument,n={close:a.close,open:a.open,write:a.write,writeln:a.writeln};m(a,{close:l,open:l,write:function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(t.join(""))},writeln:function c(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(t.join("")+"\n")}});var o=g.win.onerror||l;return g.win.onerror=function(e,t,a){s.error({msg:e+" - "+t+": "+a}),o.apply(g.win,[e,t,a])},g.write(t,function(){m(a,n),g.win.onerror=o,s.done(),g=null,d()}),g}function u(e,t,a){if(o.isFunction(a))a={done:a};else if("clear"===a)return c=[],g=null,void(p=0);a=o.defaults(a,i);var s=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function r(){s.stream?s.stream.abort():s[1]=l}},a.beforeEnqueue(s),c.push(s),g||d(),e.postscribe}t.__esModule=!0;var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};t["default"]=u;var b=r(a(2)),o=s(a(4)),i={afterAsync:l,afterDequeue:l,afterStreamStart:l,afterWrite:l,autoFix:!0,beforeEnqueue:l,beforeWriteToken:function f(e){return e},beforeWrite:function v(e){return e},done:l,error:function h(e){throw new Error(e.msg)},releaseAsync:!1},p=0,c=[],g=null;m(u,{streams:{},queue:c,WriteStream:b["default"]})},function(t,a,s){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){var a=E+t,s=e.getAttribute(a);return w.existy(s)?String(s):s}function j(e,t,a){var s=2<arguments.length&&a!==undefined?arguments[2]:null,r=E+t;w.existy(s)&&""!==s?e.setAttribute(r,s):e.removeAttribute(r)}a.__esModule=!0;var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},R=n(s(3)),w=r(s(4)),I=!1,E="data-ps-",T="ps-style",_="ps-script",o=function(){function s(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:{};P(this,s),this.root=e,this.options=a,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new R["default"]("",{autoFix:a.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],j(this.proxyRoot,"proxyof",0)}return s.prototype.write=function a(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();w.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},s.prototype._callFunction=function r(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},s.prototype._writeImpl=function n(e){this.parser.append(e);for(var t=void 0,a=void 0,s=void 0,r=[];(t=this.parser.readToken())&&!(a=w.isScript(t))&&!(s=w.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);0<r.length&&this._writeStaticTokens(r),a&&this._handleScriptToken(t),s&&this._handleStyleToken(t)},s.prototype._writeStaticTokens=function o(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,I&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),I&&(t.actualInnerHTML=this.root.innerHTML),t):null},s.prototype._buildChunk=function d(e){for(var t=this.actuals.length,a=[],s=[],r=[],n=e.length,o=0;o<n;o++){var i=e[o],c=i.toString();if(a.push(c),i.attrs){if(!/^noscript$/i.test(i.tagName)){var l=t++;s.push(c.replace(/(\/?>)/," "+E+"id="+l+" $1")),i.attrs.id!==_&&i.attrs.id!==T&&r.push("atomicTag"===i.type?"":"<"+i.tagName+" "+E+"proxyof="+l+(i.unary?" />":">"))}}else s.push(c),r.push("endTag"===i.type?c:"")}return{tokens:e,raw:a.join(""),actual:s.join(""),proxy:r.join("")}},s.prototype._walkChunk=function i(){for(var e=void 0,t=[this.proxyRoot];w.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!C(e,"proxyof")){a&&j(this.actuals[C(e,"id")]=e,"id");var s=e.parentNode&&C(e.parentNode,"proxyof");s&&this.actuals[s].appendChild(e)}t.unshift.apply(t,w.toArray(e.childNodes))}},s.prototype._handleScriptToken=function c(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},s.prototype._handleStyleToken=function l(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},s.prototype._writeStyleToken=function u(e){var t=this._buildStyle(e);this._insertCursor(t,T),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},s.prototype._buildStyle=function t(e){var a=this.doc.createElement(e.tagName);return a.setAttribute("type",e.type),w.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),a},s.prototype._insertCursor=function m(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},s.prototype._onScriptStart=function b(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},s.prototype._onScriptDone=function p(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},s.prototype._writeScriptToken=function g(t,a){var s=this._buildScript(t),r=this._shouldRelease(s),n=this.options.afterAsync;t.src&&(s.src=t.src,this._scriptLoadHandler(s,r?n:function(){a(),n()}));try{this._insertCursor(s,_),s.src&&!r||a()}catch(e){this.options.error(e),a()}},s.prototype._buildScript=function f(e){var a=this.doc.createElement(e.tagName);return w.eachKey(e.attrs,function(e,t){a.setAttribute(e,t)}),e.content&&(a.text=e.content),a},s.prototype._scriptLoadHandler=function v(t,a){function s(){t=t.onload=t.onreadystatechange=t.onerror=null}function r(){s(),null!=a&&a(),a=null}function n(e){s(),o(e),null!=a&&a(),a=null}function e(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var o=this.options.error;e(t,"load"),e(t,"error"),y(t,{onload:function i(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){n({msg:"onload handler failed "+e+" @ "+t.src})}r()},onerror:function c(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void n({msg:"onerror handler failed "+e+" @ "+t.src})}n({msg:"remote script failed "+t.src})},onreadystatechange:function l(){/^(loaded|complete)$/.test(t.readyState)&&r()}})},s.prototype._shouldRelease=function h(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},s}();a["default"]=o},function(a){!function s(e,t){a.exports=t()}(0,function(){return function(a){function s(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,s),t.loaded=!0,t.exports}var r={};return s.m=a,s.c=r,s.p="",s(0)}([function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var r=s(a(1));e.exports=r["default"]},function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var u=r(a(2)),m=r(a(3)),b=s(a(6)),n=a(5),p={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},o=function(){function c(e,t){var a=this,s=0<arguments.length&&e!==undefined?arguments[0]:"",r=1<arguments.length&&t!==undefined?arguments[1]:{};d(this,c),this.stream=s;var n=!1,o={};for(var i in u)u.hasOwnProperty(i)&&(r.autoFix&&(o[i+"Fix"]=!0),n=n||o[i+"Fix"]);n?(this._readToken=(0,b["default"])(this,o,function(){return a._readTokenImpl()}),this._peekToken=(0,b["default"])(this,o,function(){return a._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return c.prototype.append=function t(e){this.stream+=e},c.prototype.prepend=function a(e){this.stream=e+this.stream},c.prototype._readTokenImpl=function s(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},c.prototype._peekTokenImpl=function r(){for(var e in p)if(p.hasOwnProperty(e)&&p[e].test(this.stream)){var t=m[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},c.prototype.peekToken=function e(){return this._peekToken()},c.prototype.readToken=function n(){return this._readToken()},c.prototype.readTokens=function o(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},c.prototype.clear=function i(){var e=this.stream;return this.stream="",e},c.prototype.rest=function l(){return this.stream},c}();for(var i in(t["default"]=o).tokenToString=function(e){return e.toString()},o.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,n.escapeQuotes)(e[a],null));return t},o.supports=u)u.hasOwnProperty(i)&&(o.browserHasFlaw=o.browserHasFlaw||!u[i]&&i)},function(t,a){"use strict";var s=!(a.__esModule=!0),r=!1,n=window.document.createElement("div");try{var o="<P><I></P></I>";n.innerHTML=o,a.tagSoup=s=n.innerHTML!==o}catch(e){a.tagSoup=s=!1}try{n.innerHTML="<P><i><P></P></i></P>",a.selfClose=r=2===n.childNodes.length}catch(e){a.selfClose=r=!1}n=null,a.tagSoup=s,a.selfClose=r},function(e,t,a){"use strict";function s(e){var t=e.indexOf("-->");if(0<=t)return new d.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new d.CharsToken(0<=t?t:e.length)}function n(e){var o,i,c;if(-1!==e.indexOf(">")){var t=e.match(u.startTag);if(t){var a=(o={},i={},c=t[2],t[2].replace(u.attr,function(e,t,a,s,r,n){a||s||r||n?arguments[5]?(o[arguments[5]]="",i[arguments[5]]=!0):o[t]=arguments[2]||arguments[3]||arguments[4]||u.fillAttr.test(t)&&t||"":o[t]="",c=c.replace(e,"")}),{v:new d.StartTagToken(t[1],t[0].length,o,i,!!t[3],c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===a?"undefined":l(a)))return a.v}}}function o(e){var t=n(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var s=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(s)return new d.AtomicTagToken(t.tagName,s[0].length+t.length,t.attrs,t.booleanAttrs,s[1])}}}function i(e){var t=e.match(u.endTag);if(t)return new d.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=s,t.chars=r,t.startTag=n,t.atomicTag=o,t.endTag=i;var d=a(4),u={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=undefined;var c=a(5),s=t.Token=function s(e,t){i(this,s),this.type=e,this.length=t,this.text=""},r=(t.CommentToken=function(){function a(e,t){i(this,a),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}return a.prototype.toString=function e(){return"<!--"+this.content},a}(),t.CharsToken=function(){function t(e){i(this,t),this.type="chars",this.length=e,this.text=""}return t.prototype.toString=function e(){return this.text},t}(),t.TagToken=function(){function n(e,t,a,s,r){i(this,n),this.type=e,this.length=a,this.text="",this.tagName=t,this.attrs=s,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1}return n.formatTag=function o(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:null,s="<"+e.tagName;for(var r in e.attrs)if(e.attrs.hasOwnProperty(r)){s+=" "+r;var n=e.attrs[r];"undefined"!=typeof e.booleanAttrs&&"undefined"!=typeof e.booleanAttrs[r]||(s+='="'+(0,c.escapeQuotes)(n)+'"')}return e.rest&&(s+=" "+e.rest),e.unary&&!e.html5Unary?s+="/>":s+=">",a!==undefined&&null!==a&&(s+=a+"</"+e.tagName+">"),s},n}());t.StartTagToken=function(){function o(e,t,a,s,r,n){i(this,o),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=a,this.booleanAttrs=s,this.html5Unary=!1,this.unary=r,this.rest=n}return o.prototype.toString=function e(){return r.formatTag(this)},o}(),t.AtomicTagToken=function(){function n(e,t,a,s,r){i(this,n),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=a,this.booleanAttrs=s,this.unary=!1,this.html5Unary=!1,this.content=r}return n.prototype.toString=function e(){return r.formatTag(this,this.content)},n}(),t.EndTagToken=function(){function a(e,t){i(this,a),this.type="endTag",this.length=t,this.text="",this.tagName=e}return a.prototype.toString=function e(){return"</"+this.tagName+">"},a}()},function(e,t){"use strict";function a(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:"";return e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):a}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function l(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function d(e,t){var a=e.stream,s=l(t());return e.stream=a,s}function u(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function m(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function a(a,s,t){function r(){var e=d(a,t);e&&o[e.type]&&o[e.type](e)}var n=m(),o={startTag:function i(e){var t=e.tagName;"TR"===t.toUpperCase()&&n.lastTagNameEq("TABLE")?(a.prepend("<TBODY>"),r()):s.selfCloseFix&&b.test(t)&&n.containsTagName(t)?n.lastTagNameEq(t)?u(a,n):(a.prepend("</"+e.tagName+">"),r()):e.unary||n.push(e)},endTag:function c(e){n.last()?s.tagSoupFix&&!n.lastTagNameEq(e.tagName)?u(a,n):n.pop():s.tagSoupFix&&(t(),r())}};return function e(){return r(),l(t())}}t.__esModule=!0,t["default"]=a;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,b=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])})},function(t,a){"use strict";function s(e){return null!=e}function r(e){return"function"==typeof e}function n(e,t,a){var s=void 0,r=e&&e.length||0;for(s=0;s<r;s++)t.call(a,e[s],s)}function o(e,t,a){for(var s in e)e.hasOwnProperty(s)&&t.call(a,s,e[s])}function i(a,e){return a=a||{},o(e,function(e,t){s(a[e])||(a[e]=t)}),a}function c(t){try{return Array.prototype.slice.call(t)}catch(e){var a=(s=[],n(t,function(e){s.push(e)}),{v:s});if("object"===(void 0===a?"undefined":b(a)))return a.v}var s}function l(e){return e[e.length-1]}function d(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function u(e){return d(e,"script")}function m(e){return d(e,"style")}a.__esModule=!0;var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a.existy=s,a.isFunction=r,a.each=n,a.eachKey=o,a.defaults=i,a.toArray=c,a.last=l,a.isTag=d,a.isScript=u,a.isStyle=m}])})}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,a){"use strict";var s=a("@adobe/reactor-document").createElement("div");e.exports=function(e){return s.innerHTML=e,s.textContent||s.innerText||e}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var s=a("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:s.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),o=0;e.exports=function(s,e){var r="_runScript"+ ++o,t=new n(function(e,a){_satellite[r]=function(t){delete _satellite[r],new n(function(e){e(t.call(s.event.element,s.event,s.event.target,n))}).then(e,a)}});return{code:'<script>_satellite["'+r+'"](function(event, target, Promise) {\n'+e+"\n});</script>",promise:t}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,a,s){"use strict";var r=a("@adobe/reactor-promise"),n=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var i=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},l=function(e){return e.settings.isExternal};e.exports=function(e,t){var a;return l(e)&&(t=s.replaceTokens(t,e.event)),i(t)?(a=new r(function(e,t){o[String(n)]={resolve:e,reject:t}}),t=c(t,n),n+=1):a=r.resolve(),{code:t,promise:a}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var s=a("@adobe/reactor-load-script"),r=a("@adobe/reactor-promise"),n={},o={},i=function(e){return o[e]||(o[e]=s(e)),o[e]};_satellite.__registerScript=function(e,t){n[e]=t},e.exports=function(t){return n[t]?r.resolve(n[t]):new r(function(e){i(t).then(function(){e(n[t])},function(){e()})})}}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(a,s,r){var n=null;return function(){var e=r||this,t=arguments;clearTimeout(n),n=setTimeout(function(){a.apply(e,t)},s)}}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var a;return function(){return e&&(a=e.apply(t||this,arguments),e=null),a}}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,a){"use strict";var s=a("./weakMap"),b=a("./matchesProperties"),p=a("./matchesSelector");e.exports=function(){var u=[],m=new s,e={addListener:function(e,t){u.push({settings:e,callback:t})},evaluateEvent:function(t,e){if(u.length&&!m.has(t)){for(var a=t.target,s=!1;a;){for(var r=!1,n=!1,o=0;o<u.length;o++){var i=u[o],c=i.settings.elementSelector,l=i.settings.elementProperties;if((!1!==i.settings.bubbleFireIfChildFired||!s)&&(a===t.target||!1!==i.settings.bubbleFireIfParent)&&(a===t.target||c||l&&Object.keys(l).length)&&(!c||p(a,c))&&(!l||b(a,l))){var d={};e?Object.keys(t).forEach(function(e){d[e]=t[e]}):d.nativeEvent=t,d.element=a,d.target=t.target,!1!==i.callback(d)&&(n=!0,i.settings.bubbleStop&&(r=!0))}}if(r)break;n&&(s=!0),a=a.parentNode}m.set(t,!0)}},__reset:function(){u=[]}};return e}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var s=a("@adobe/reactor-window").WeakMap;if(void 0===s){var r=Object.defineProperty,n=Date.now()%1e9;(s=function(){this.name="__st"+(1e9*Math.random()>>>0)+n+++"__"}).prototype={set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:undefined},"delete":function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=undefined,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=s}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var r=a("./../../helpers/textMatch"),n=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(s,e){return!e||e.every(function(e){var t=n(s,e.name),a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,a)})}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,r){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(s){return r.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var s=a("@adobe/reactor-window"),r=a("@adobe/reactor-document"),n=-1!==s.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",i="DOM_READY",c="PAGE_BOTTOM",l=[c,i,o],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};l.forEach(function(e){u[e]=[]});var m=function(e,t){l.slice(0,p(e)+1).forEach(function(e){g(t,e)})},b=function(){return"complete"===r.readyState?o:"interactive"===r.readyState?n?null:i:void 0},p=function(e){return l.indexOf(e)},g=function(t,e){u[e].forEach(function(e){f(t,e)}),u[e]=[]},f=function(e,t){var a=t.trigger,s=t.syntheticEventFn;a(s?s(e):null)};s._satellite=s._satellite||{},s._satellite.pageBottom=m.bind(null,c),r.addEventListener("DOMContentLoaded",m.bind(null,i),!0),s.addEventListener("load",m.bind(null,o),!0),s.setTimeout(function(){var e=b();e&&m(e)},0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:d.bind(null,r)})},registerWindowLoadedTrigger:function(e){u[o].push({trigger:e,syntheticEventFn:d.bind(null,s)})}}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var a=t.split("."),s=e,r=0,n=a.length;r<n;r++){if(null==s)return undefined;s=s[a[r]]}return s}}}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP2e939fbe45bd4e2b8d2e3fe5dbed01ce/"},"adobe-target-v2":{displayName:"Adobe Target v2",modules:{"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,a,s){"use strict";function r(a,e){return new c(function(t){a?e.then(function(e){e&&(a.abort=!0),t()}):t()})}function n(e){if(e){var t=new c(function(t){var a=setTimeout(function(){t(!1)},h.targetSettings.timeout),s=function s(e){e.detail&&!0===e.detail.redirect?t(!0):t(!1),clearTimeout(a),p(i,e,s)},r=function r(e){t(!1),clearTimeout(a),p(i,e,r)};b(i,C,s),b(i,j,r)});e(function(e){return r(e,t)})}}var o=a("@adobe/reactor-window"),i=a("@adobe/reactor-document"),c=a("@adobe/reactor-promise"),l=a("./modules/load-target"),d=l.initLibrarySettings,u=l.overridePublicApi,m=a("./modules/event-util"),b=m.addEventListener,p=m.removeEventListener,g=a("./modules/optin"),f=g.shouldUseOptIn,v=g.isTargetApproved,h=a("./targetSettings").extensionSettings,P=s.getSharedModule("adobe-analytics","augment-tracker"),C="at-request-succeeded",j="at-request-failed";e.exports=function(){var e=d();e&&e.enabled?((0,a("./modules/libs/at-launch").init)(o,i,e),f()&&!v()||n(P)):u(o)}}},"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,a,s){"use strict";function r(){return n.adobe&&n.adobe.target&&n.adobe.target.VERSION}var n=a("@adobe/reactor-window"),o=a("./modules/libs/at-launch"),i=o.initConfig,c=o.initDelivery,l=a("./modules/page-load"),d=a("./messages");e.exports=function(e){var t=l(e);r()?(i(t),c()):n.console&&s.logger.warn(d.NO_REQUEST)}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,a,s){"use strict";function r(e){var t=e.compatMode,a=e.documentMode;return t&&"CSS1Compat"===t&&(!a||9<=a)}function n(e){var t=function t(){},a=function a(){return d.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:a,applyOffer:t,applyOffers:a,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function o(){return c.adobe&&c.adobe.target&&"undefined"!=typeof c.adobe.target.getOffer}function i(){return o()?(s.logger.warn(u.ALREADY_INITIALIZED),null):(g.mboxParams=b(),g.globalMboxParams=p(),f(g,c.targetGlobalSettings||{},h),f(g,v||{},["version"]),r(l)||(g.enabled=!1,s.logger.warn(u.DELIVERY_DISABLED)),g)}var c=a("@adobe/reactor-window"),l=a("@adobe/reactor-document"),d=a("@adobe/reactor-promise"),u=a("../messages"),m=a("./params-store"),b=m.getParams,p=m.getPageLoadParams,g=a("../targetSettings").targetSettings,f=a("./object-override"),v=a("../librarySettings").TARGET_DEFAULT_SETTINGS,h=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName"];e.exports={initLibrarySettings:i,overridePublicApi:n}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,a){e.addEventListener(t,a)}function a(e,t,a){e.removeEventListener(t,a)}e.exports={addEventListener:t,removeEventListener:a}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,a){"use strict";function s(e){return"undefined"===(void 0===e?"undefined":d(e))||null===e}function r(e){var t=void 0===e?"undefined":d(e);return null!==e&&("object"===t||"function"===t)}function n(e){return r(e[g])&&r(e[m])}function o(e,t){return!!t&&!s(e)&&!s(e[p])&&n(e[p])}function i(e,t){return e[m](t)}function c(){var e=u[p];return i(e,e[f][v])}function l(){var e=h[b];return o(u,e)}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=a("@adobe/reactor-window").adobe,m="isApproved",b="optinEnabled",p="optIn",g="fetchPermissions",f="Categories",v="TARGET",h=a("../targetSettings").targetSettings;e.exports={shouldUseOptIn:l,isTargetApproved:c}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,a,s){"use strict";var r=s.getExtensionSettings(),n=r.targetSettings||{};e.exports={extensionSettings:r,targetSettings:n}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(t,a,s){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function o(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:0;return setTimeout(e,Number(a)||0)}function n(e){clearTimeout(e)}function p(e){return null==e}function i(e){return vd.call(e)}function c(e){return i(e)}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e){var t=at(e);return null!=e&&("object"===t||"function"===t)}function d(e){return!!u(e)&&c(e)===hd}function m(e){return e}function b(e){return d(e)?e:m}function g(e){return p(e)?[]:Object.keys(e)}function f(e,t){return p(t)?[]:(fd(t)?jd:yd)(b(e),t)}function v(e){return e&&e.length?e[0]:undefined}function h(e){return p(e)?[]:[].concat.apply([],e)}function P(n){for(var o=this,i=n?n.length:0,e=i;e-=1;)if(!d(n[e]))throw new TypeError("Expected a function");return function(){for(var e=0,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];for(var r=i?n[e].apply(o,a):a[0];(e+=1)<i;)r=n[e].call(o,r);return r}}function C(e,t){p(t)||(fd(t)?Pd:Cd)(b(e),t)}function j(e){return null!=e&&"object"===at(e)}function y(e){return"string"==typeof e||!fd(e)&&j(e)&&c(e)===Rd}function R(e){if(!y(e))return-1;for(var t=0,a=e.length,s=0;s<a;s+=1)t=(t<<5)-t+e.charCodeAt(s)&4294967295;return t}function w(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=wd}function I(e){return null!=e&&w(e.length)&&!d(e)}function E(e,t){return Id(function(e){return t[e]},e)}function T(e){for(var t=0,a=e.length,s=Array(a);t<a;)s[t]=e[t],t+=1;return s}function _(e){return e.split("")}function k(e){return p(e)?[]:I(e)?y(e)?_(e):T(e):E(g(e),e)}function A(e){if(null==e)return!0;if(I(e)&&(fd(e)||y(e)||d(e.splice)))return!e.length;for(var t in e)if(Ed.call(e,t))return!1;return!0}function x(e){return p(e)?"":Td.call(e)}function O(e){return y(e)?!x(e):A(e)}function S(e){return Object.getPrototypeOf(Object(e))}function V(e){if(!j(e)||c(e)!==_d)return!1;var t=S(e);if(null===t)return!0;var a=Od.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&xd.call(a)===Sd}function L(e){return j(e)&&1===e.nodeType&&!V(e)}function D(e){return"number"==typeof e||j(e)&&c(e)===Ld}function M(e,t){return fd(t)?t.join(e||""):""}function F(e,t){return p(t)?[]:(fd(t)?Id:Dd)(b(e),t)}function N(){}function B(){return(new Date).getTime()}function U(e,t,a){return p(a)?t:(fd(a)?Md:Fd)(b(e),t,a)}function q(e){return null==e?e:Nd.call(e)}function G(e,t){return O(t)?[]:t.split(e||"")}function H(e,t){return e+Math.floor(Math.random()*(t-e+1))}function K(){var a=B();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(a+H(0,16))%16|0;return a=Math.floor(a/16),("x"===e?t:3&t|8).toString(16)})}function z(t,a){t[qm]&&(p(a[Ym])||(t[Tb]=a[Ym]),C(function(e){p(a[e])||(t[e]=a[e])},up))}function W(e){var t=e.documentMode;return!t||10<=t}function Y(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function Z(e){return cp.test(e)}function $(e){if(Z(e))return e;var t=q(G(".",e)),a=t.length;return 3<=a&&lp.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===a?t[0]:t[1]+"."+t[0]}function J(e,t,a){var s="";e.location.protocol===ip||(s=$(e.location.hostname)),a[db]=s,a[qm]=Y(t)&&W(t),z(a,e[yb]||{})}function X(e){J(ld,dd,e);var t=ld.location.protocol===ip;(dp=ud({},e))[Qm]=e[Qm]/1e3,dp[eb]=e[eb]/1e3,dp[lb]=dp[ob]||t?"https:":""}function st(){return dp}function Q(t){try{return bp(t)}catch(e){return{}}}function ee(t){try{return pp(t)}catch(e){return""}}function te(t){try{return decodeURIComponent(t)}catch(e){return t}}function ae(t){try{return encodeURIComponent(t)}catch(e){return t}}function se(e){if(fp[e])return fp[e];gp.href=e;var t=mp(gp.href);return t.queryKey=Q(t.query),fp[e]=t,fp[e]}function re(e,t,a){return{name:e,value:t,expires:a}}function ne(e){var t=G("#",e);return A(t)||t.length<3?null:isNaN(parseInt(t[2],10))?null:re(te(t[0]),te(t[1]),Number(t[2]))}function oe(e){return O(e)?[]:G("|",e)}function ie(){var e=F(ne,oe(vp(Cp))),t=Math.ceil(B()/1e3),a=function a(e){return u(e)&&t<=e.expires};return U(function(e,t){return e[t.name]=t,e},{},f(a,e))}function ce(e){var t=ie()[e];return u(t)?t.value:""}function le(e){return M("#",[ae(e.name),ae(e.value),e.expires])}function de(e){return e.expires}function ue(
e){var t=F(de,e);return Math.max.apply(null,t)}function me(e,t){var a=k(e),s=Math.abs(1e3*ue(a)-B()),r=M("|",F(le,a)),n=new Date(B()+s);hp(Cp,r,{domain:t,expires:n})}function be(e){var t=e.name,a=e.value,s=e.expires,r=e.domain,n=ie();n[t]=re(t,a,Math.ceil(s+B()/1e3)),me(n,r)}function pe(e){return Vd(vp(e))}function ge(e,t){var a=Q(e.location.search);return Vd(a[t])}function fe(e,t){var a=se(e.referrer).queryKey;return!p(a)&&Vd(a[t])}function ve(e,t,a){return pe(a)||ge(e,a)||fe(t,a)}function he(){var e=st()[db];hp(Ru,wu,{domain:e});var t=vp(Ru)===wu;return Pp(Ru),t}function Pe(){return ve(ld,dd,ju)}function Ce(){return st()[qm]&&he()&&!Pe()}function je(){return ve(ld,dd,Cu)}function ye(){return ve(ld,dd,yu)}function Re(e,t){var a=e.console;return!p(a)&&d(a[t])}function we(e,t){var a=e.console;Re(e,"warn")&&a.warn.apply(a,[jp].concat(t))}function Ie(e,t){var a=e.console;Re(e,"debug")&&je()&&a.debug.apply(a,[jp].concat(t))}function Ee(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];we(ld,t)}function Te(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Ie(ld,t)}function _e(a){return U(function(e,t){return e[t]=a[t],e},{},up)}function ke(e,t,a){var s=e[jb]||[];if(e[jb]=s,a){var r=s.push;s[Zm]=yp,s[hb]=_e(t),s[Pb]=[],s[Cb]=[],s.push=function n(e){s[Cb].push(ud({timestamp:B()},e)),r.call(this,e)}}}function Ae(e,t,a,s){t===Cb&&e[jb].push(a),s&&t!==Cb&&e[jb][t].push(ud({timestamp:B()},a))}function xe(){ke(ld,st(),je())}function Oe(e){Ae(ld,Cb,e,je())}function Se(e){Ae(ld,Pb,e,je())}function Ve(){return d(wp)}function Le(e){return new wp(e)}function De(){var e=dd.createTextNode(""),t=function t(){e.textContent=0<e.textContent.length?"":"a"},a=[];return Le(function(){for(var e=a.length,t=0;t<e;t+=1)a[t]();a.splice(0,e)}).observe(e,{characterData:!0}),function(e){a.push(e),t()}}function Me(){return function(e){var t=Rp("<script>");t.on("readystatechange",function(){t.on("readystatechange",null),t.remove(),t=null,e()}),Rp(dd.documentElement).append(t)}}function Fe(){Ve()?pd._setImmediateFn(De()):-1!==ld.navigator.userAgent.indexOf("MSIE 10")&&pd._setImmediateFn(Me())}function Ne(e){return new pd(e)}function Be(e){return pd.resolve(e)}function Ue(e){return pd.reject(e)}function qe(e){return fd(e)?pd.race(e):Ue(new TypeError(Ip))}function Ge(e){return fd(e)?pd.all(e):Ue(new TypeError(Ip))}function He(e,a,s){var r=-1;return qe([e,Ne(function(e,t){r=o(function(){return t(new Error(s))},a)})]).then(function(e){return n(r),e},function(e){throw n(r),e})}function Ke(e){if(p(e[Kb]))return!1;var t=e[Kb];if(p(t[zb]))return!1;var a=t[zb];return d(a[Yb])&&d(a[Wb])}function ze(e,t){return!!t&&Ke(e)}function We(e,t){if(!Ke(e))return!0;var a=e[Kb][zb],s=(e[Kb][zb][Zb]||{})[t];return a[Wb](s)}function Ye(e,t){if(!Ke(e))return Be(!0);var a=e[Kb][zb],s=(e[Kb][zb][Zb]||{})[t];return Ne(function(e,t){a[Yb](function(){a[Wb](s)?e(!0):t(Qb)},!0)})}function Ze(){var e=st()[Xb];return ze(ld,e)}function $e(){return We(ld,$b)}function Je(){return We(ld,Jb)}function Xe(){return Ye(ld,$b)}function Qe(){return Q(ld.location.search)[bb]}function et(e,t){be({name:fb,value:e,expires:t[eb],domain:t[db]})}function tt(){if(Ze()&&!$e())return Ep;var e=st(),t=Qe();return Vd(t)?et(t,e):O(ce(fb))&&et(Ep,e),ce(fb)}function rt(e){var t=st();be({name:pb,value:e,expires:t[Qm],domain:t[db]})}function nt(){return ce(pb)}function ot(e){if(O(e))return"";var t=Tp.exec(e);return A(t)||2!==t.length?"":t[1]}function it(){if(!st()[sb])return"";var e=vp(gb);return O(e)?"":e}function ct(e){var t=st();if(t[sb]){var a=t[db],s=new Date(B()+t[rb]),r=vp(gb),n={domain:a,expires:s};if(Vd(r))hp(gb,r,n);else{var o=ot(e);O(o)||hp(gb,o,n)}}}function lt(e,s){function t(e,t){var a=s.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:undefined},a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}d(e.CustomEvent)||(t.prototype=e.Event.prototype,e.CustomEvent=t)}function dt(e,t){var a=e(),s=t(),r={};return r.sessionId=a,Vd(s)&&(r.deviceId=s),r}function ut(e,t,a,s){var r=new e.CustomEvent(a,{detail:s});t.dispatchEvent(r)}function mt(e,t){var a=t.mbox,s=t.error,r=t.url,n=t.analyticsDetails,o=t.responseTokens,i=t.execution,c={type:e,tracking:dt(tt,nt)};return p(a)||(c.mbox=a),p(s)||(c.error=s),p(r)||(c.url=r),A(n)||(c.analyticsDetails=n),A(o)||(c.responseTokens=o),A(i)||(c.execution=i),c}function bt(){var e=mt(_p,{});ut(ld,dd,_p,e)}function pt(e){var t=mt(kp,e);ut(ld,dd,kp,t)}function gt(e,t){var a=mt(Ap,e);a.redirect=t,ut(ld,dd,Ap,a)}function ft(e){var t=mt(xp,e);ut(ld,dd,xp,t)}function vt(e){var t=mt(Op,e);ut(ld,dd,Op,t)}function ht(e){var t=mt(Sp,e);ut(ld,dd,Sp,t)}function Pt(e){var t=mt(Vp,e);ut(ld,dd,Vp,t)}function Ct(e){var t=mt(Lp,e);ut(ld,dd,Lp,t)}function jt(e){var t=mt(Dp,e);ut(ld,dd,Dp,t)}function yt(e){var t=e.charAt(0),a=e.charAt(1),s=e.charAt(2),r={key:e};return r.val="-"===a?""+t+a+"\\3"+s+" ":t+"\\3"+a+" ",r}function Rt(e){var t=e.match(Bp);return A(t)?e:U(function(e,t){return e.replace(t.key,t.val)},e,F(yt,t))}function wt(e){for(var t,a,s,r,n=[],o=x(e),i=o.indexOf(Mp);-1!==i;)t=x(o.substring(0,i)),r=(a=x(o.substring(i))).indexOf(Fp),s=x(a.substring(Np,r)),i=(o=x(a.substring(r+1))).indexOf(Mp),t&&s&&n.push({sel:t,eq:Number(s)});return o&&n.push({sel:o}),n}function It(e){if(L(e))return Rp(e);if(!y(e))return Rp(e);var t=Rt(e);if(-1===t.indexOf(Mp))return Rp(t);var a=wt(t);return U(function(e,t){var a=t.sel,s=t.eq;return e=e.find(a),D(s)&&(e=e.eq(s)),e},Rp(dd),a)}function Et(e){return 0<It(e).length}function Tt(e){return Rp("<"+Bu+"/>").append(e)}function _t(e){return Rp(e)}function kt(e){return It(e).prev()}function At(e){return It(e).next()}function xt(e){return It(e).parent()}function Ot(e,t){return It(t).is(e)}function St(e,t){return It(t).find(e)}function Vt(e){return It(e).children()}function Lt(){ld[Gp]=ld[Gp]||{},ld[Gp].querySelectorAll=It}function Dt(e){if(ye()){var t=e[Db];ld[Gp][Kp]=t}}function Mt(){dd.addEventListener(Vu,function(e){d(ld[Gp][Hp])&&ld[Gp][Hp](e)},!0)}function Ft(){if(ye()){Lt();var e=st()[cb],t=function t(){return Mt()},a=function a(){return Ee(Up)};Te(qp),gd(e).then(t)["catch"](a)}}function Nt(e){return parseInt(e,10)}function Bt(e){var t=Nt(e);return isNaN(t)?null:t}function Ut(e){return G(Xp,e)}function qt(e){var t=G(Xp,e),a=Bt(t[0]);if(p(a))return null;var s={};s.activityIndex=a;var r=Bt(t[1]);return p(r)||(s.experienceIndex=r),s}function Gt(e){return f(Qp,F(qt,e))}function Ht(e){return fd(e)?Gt(e):Gt([e])}function Kt(e){var t=Q(e),a=t[Wp];if(O(a))return null;var s={};s.token=a;var r=t[Zp];Vd(r)&&r===wu&&(s.listedActivitiesOnly=!0);var n=t[$p];Vd(n)&&(s.evaluateAsTrueAudienceIds=Ut(n));var o=t[Jp];Vd(o)&&(s.evaluateAsFalseAudienceIds=Ut(o));var i=t[Yp];return A(i)||(s.previewIndexes=Ht(i)),s}function zt(e){var t=Kt(e.location.search);if(!p(t)){var a=new Date(B()+186e4);hp(zp,JSON.stringify(t),{expires:a})}}function Wt(){var t=vp(zp);if(O(t))return{};try{return JSON.parse(t)}catch(e){return{}}}function Yt(e){return It(e).empty().remove()}function Zt(e,t){return It(t).after(e)}function $t(e,t){return It(t).before(e)}function Jt(e,t){return It(t).append(e)}function Xt(e,t){return It(t).prepend(e)}function Qt(e,t){return It(t).html(e)}function ea(e){return It(e).html()}function ta(e,t){return It(t).text(e)}function aa(e,t){return"<"+Mu+" "+Ou+'="'+e+'" '+Su+'="'+Nm+'">'+t+"</"+Mu+">"}function sa(e,t){return aa(eg+R(t),t+" {"+e+"}")}function ra(e,t){return aa(sg,t+" {"+e+"}")}function na(e){if(!0===e[Xm]&&!Et(ag)){var t=e[Jm];Jt(aa(tg,t),Lu)}}function oa(e){!0===e[Xm]&&Et(ag)&&Yt(ag)}function ia(e,t){if(!A(t)){var a=function a(e){return!Et("#"+(eg+R(e)))},s=f(a,t);if(!A(s)){var r=e[$m],n=function n(e){return sa(r,e)};Jt(M("\n",F(n,s)),Lu)}}}function ca(e,t){A(t)||Et("#"+sg)||Jt(ra(e[$m],M(", ",t)),Lu)}function la(){na(st())}function da(){oa(st())}function ua(e){ia(st(),e)}function ma(e){ca(st(),e)}function ba(e){Yt("#"+(eg+R(e)))}function pa(){var e="#"+sg;Et(e)&&Yt(e)}function ga(e){return!p(e[Ou])}function fa(e){return!p(e[_b])}function va(e){switch(e){case 0:return"unknown";case 1:return"authenticated";case 2:return"logged_out";default:return"unknown"}}function ha(e){return ga(e)||fa(e)}function Pa(e){if(p(e))return[];if(!d(e[dg]))return[];var t=e[dg]();return u(t)?U(function(e,t,a){var s={};return s[Ab]=a,ga(t)&&(s[Ou]=t[Ou]),fa(t)&&(s[kb]=va(t[_b])),e.push(s),e},[],f(ha,t)):[]}function Ca(e,t){return p(e)?null:d(e[lg])?e[lg](t):null}function ja(e,t){if(p(e))return null;var a=e[t];return p(a)?null:a}function ya(e,t,a){if(O(t))return null;if(p(e[bg]))return null;if(!d(e[bg][pg]))return null;var s=e[bg][pg](t,{sdidParamExpiry:a});return u(s)&&d(s[gg])&&s[gg]()?s:null}function Ra(e,t){if(!d(e.getVisitorValues))return Be({});var a=[ig,ng,og];return t&&a.push(cg),Ne(function(t){e.getVisitorValues(function(e){return t(e)},a)})}function wa(e){return Te(vg,e),{}}function Ia(e,t,a){return p(e)?Be({}):He(Ra(e,a),t,fg)["catch"](wa)}function Ea(e,t){if(!d(e.getVisitorValues))return{};var a=[ig,ng,og];t&&a.push(cg);var s={};return e.getVisitorValues(function(e){return ud(s,e)},a),s}function Ta(e,t){return p(e)?{}:Ea(e,t)}function _a(){var e=st(),t=e[Hm],a=e[ib];return ya(ld,t,a)}function ka(){var e=_a(),t=st();return Ia(e,t[ab],t[nb])}function Aa(){return Ta(_a(),st()[nb])}function xa(){return Pa(_a())}function Oa(e){return Ca(_a(),e)}function Sa(e){return ja(_a(),e)}function Va(e,t){hg[e]=t}function La(e){return hg[e]}function Da(e){var t=e[yb];if(p(t))return!1;var a=t[wb];return!(!fd(a)||A(a))}function Ma(e){var t=e[km];if(!y(t)||A(t))return!1;var a=e[Zm];if(!y(a)||A(a))return!1;var s=e[zm];return!(!p(s)&&!D(s)||!d(e[Mm]))}function Fa(e){return Ne(function(a,s){e(function(e,t){p(e)?a(t):s(e)})})}function Na(e,t,a,s,r,n){var o={};o[e]=t,o[a]=s,o[r]=n;var i={};return i[Rb]=o,i}function Ba(e){var a=e[km],s=e[Zm],t=e[zm]||jg;return He(Fa(e[Mm]),t,Cg).then(function(e){var t=Na(km,a,Zm,s,xm,e);return Te(Pg,wm,t),Se(t),e})["catch"](function(e){var t=Na(km,a,Zm,s,Cm,e);return Te(Pg,Cm,t),Se(t),{}})}function Ua(e){var t=U(function(e,t){return ud(e,t)},{},e);return Va(wb,t),t}function qa(e){return Da(e)?Ge(F(Ba,f(Ma,e[yb][wb]))).then(Ua):Be({})}function Ga(){var e=La(wb);return p(e)?{}:e}function Ha(){return qa(ld)}function Ka(){return Ga()}function za(e){var t=Q(e.location.search)[yg];return O(t)?null:t}function Wa(){var e=vp(Rg);return O(e)?null:e}function Ya(){var e=za(ld),t=Wa();return e||t}function Za(e){return!A(e)&&2===e.length&&Vd(e[0])}function $a(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function Ja(e,a,s,r){C(function(e,t){u(e)?(a.push(t),Ja(e,a,s,r),a.pop()):A(a)?s[r(t)]=e:s[r(M(".",a.concat(t)))]=e},e)}function Xa(e){return f(function(e,t){return Vd(t)},Q(e))}function Qa(e){return U(function(e,t){return e[te(x(t[0]))]=te(x(t[1])),e},{},f(Za,U(function(e,t){return e.push($a(t)),e},[],f(Vd,e))))}function es(e,t){var a={};return p(t)?Ja(e,[],a,m):Ja(e,[],a,t),a}function ts(e){if(!d(e))return{};var t=null;try{t=e()}catch(a){return{}}return p(t)?{}:fd(t)?Qa(t):y(t)&&Vd(t)?Xa(t):u(t)?es(t):{}}function as(e){return ud({},e,ts(ld.targetPageParamsAll))}function ss(e){return ud({},e,ts(ld.targetPageParams))}function rs(e){var t=st(),a=t[Wm],s=t[ub],r=t[mb];return a!==e?as(s||{}):ud(as(s||{}),ss(r||{}))}function ns(){var e=dd.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(p(t))return null;var a=t.getExtension("WEBGL_debug_renderer_info");if(p(a))return null;var s=t.getParameter(a.UNMASKED_RENDERER_WEBGL);return p(s)?null:s}function os(){var e=ld.devicePixelRatio;if(!p(e))return e;e=1;var t=ld.screen,a=t.systemXDPI,s=t.logicalXDPI;return!p(a)&&!p(s)&&s<a&&(e=a/s),e}function is(){var e=ld.screen,t=e.orientation,a=e.width,s=e.height;if(p(t))return s<a?"landscape":"portrait";if(p(t.type))return null;var r=G("-",t.type);if(A(r))return null;var n=r[0];return p(n)?null:n}function cs(){return wg}function ls(e){return e===Eg}function ds(e){return-1!==e.indexOf(Ig)}function us(e){return e===Tg}function ms(e){return e===_g}function bs(e){return e===kg}function ps(e){return e===Ag}function gs(e){return e===xg}function fs(e){return e===Og}function vs(e){return ds(e)||ls(e)||us(e)||ms(e)||bs(e)||ps(e)||gs(e)||fs(e)}function hs(e){return e.substring(Ig.length)}function Ps(e){return e[Eg]}function Cs(e){return e[Tg]}function js(e){return e[_g]}function ys(e){return e[kg]}function Rs(e){var t=F(x,G(",",e[Ag]));return f(Vd,t)}function ws(e){return e[xg]}function Is(e){return e[Og]}function Es(e){return U(function(e,t,a){return vs(a)||(e[a]=p(t)?"":t),e},{},e)}function Ts(e){return U(function(e,t,a){if(!ds(a))return e;var s=hs(a);return O(s)||(e[s]=p(t)?"":t),e},{},e)}function _s(r,n,o){return r.onload=function(){var t=1223===r.status?204:r.status;if(t<100||599<t)o(new Error(Vg));else{var a;try{a=JSON.parse(r.responseText)}catch(e){return void o(new Error(Dg))}var s=r.getAllResponseHeaders();n({status:t,headers:s,response:a})}},r}function ks(e,t){return e.onerror=function(){t(new Error(Vg))},e}function As(e,t,a){return e.timeout=t,e.ontimeout=function(){a(new Error(Lg))},e}function xs(a,e){return C(function(e,t){fd(e)&&C(function(e){a.setRequestHeader(t,e)},e)},1<arguments.length&&e!==undefined?arguments[1]:{}),a}function Os(e){var s=e.url,r=e.headers,n=e.body,o=e.timeout,i=e.async;return Ne(function(e,t){var a=new window.XMLHttpRequest;(a=ks(a=_s(a,e,t),t)).open(Sg,s,i),a.withCredentials=!0,a=xs(a,r),i&&(a=As(a,o,t)),a.send(JSON.stringify(n))}).then(function(e){var t=e.response,a=t.status,s=t.message;if(!p(a)&&!p(s))throw new Error(s);return t})}function Ss(e){if(e[cg])throw new Error(rg);return e}function Vs(){var e=ka(),t=Ha();return Ge([e.then(Ss),t])}function Ls(){return[Aa(),Ka()]}function Ds(e){var t=st()[Wm];return ud({},e,rs(t))}function Ms(){return-(new Date).getTimezoneOffset()}function Fs(){var e=ld.screen;return{width:e.width,height:e.height,orientation:is(),colorDepth:e.colorDepth,pixelRatio:os()}}function Ns(){var e=dd.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function Bs(){return{host:ld.location.hostname,webGLRenderer:cs()}}function Us(){return{url:ld.location.href,referringUrl:dd.referrer}}function qs(e){if(!p(e)&&e.channel===Mg)return e;var t=(e||{}).beacon;return{userAgent:ld.navigator.userAgent,timeOffsetInMinutes:Ms(),channel:Mg,screen:Fs(),window:Ns(),browser:Bs(),address:Us(),beacon:t}}function Gs(e,t){if(!p(e))return e;var a={};if(A(t))return a;var s=t[og],r=parseInt(s,10);isNaN(r)||(a.locationHint=r);var n=t[ng];return Vd(n)&&(a.blob=n),a}function Hs(e){var t=e.id,a=e.integrationCode,s=e.authenticatedState,r={};return Vd(t)&&(r.id=t),Vd(a)&&(r.integrationCode=a),Vd(s)&&(r.authenticatedState=s),r}function Ks(e){return F(Hs,e)}function zs(e,t,a,s,r){var n={};Vd(t)&&(n.tntId=t),Vd(a)&&(n.thirdPartyId=a),Vd(e.thirdPartyId)&&(n.thirdPartyId=e.thirdPartyId);var o=s[ig];return Vd(o)&&(n.marketingCloudVisitorId=o),Vd(e.marketingCloudVisitorId)&&(n.marketingCloudVisitorId=e.marketingCloudVisitorId),A(e.customerIds)?A(r)||(n.customerIds=Ks(r)):n.customerIds=e.customerIds,n}function Ws(e,t){var a={},s=Gs(e.audienceManager,t);return A(s)||(a.audienceManager=s),A(e.analytics)||(a.analytics=e.analytics),a}function Ys(e,t){if(!p(e)&&Vd(e.token))return e;var a={},s=Cs(t);return Vd(s)&&(a.token=s),a}function Zs(e){if(!p(e)&&Vd(e.authorizationToken))return e;var t={},a=Ya();return Vd(a)&&(t.authorizationToken=a),t}function $s(e){return p(e)?Wt():e}function Js(e){var t={},a=js(e);p(a)||(t.id=a);var s=ys(e),r=parseFloat(s);isNaN(r)||(t.total=r);var n=Rs(e);return A(n)||(t.purchasedProductIds=n),t}function Xs(e){var t={},a=ws(e);p(a)||(t.id=a);var s=Is(e);return p(s)||(t.categoryId=s),t}function Qs(e,t){var a={},s=ud({},Es(t),e.parameters||{}),r=ud({},Ts(t),e.profileParameters||{}),n=ud({},Js(t),e.order||{}),o=ud({},Xs(t),e.product||{});return A(s)||(a.parameters=s),A(r)||(a.profileParameters=r),A(n)||(a.order=n),A(o)||(a.product=o),a}function er(e,t){var a=e.index,s=e.name,r=e.address,n=Qs(e,ud({},t,rs(s)));return p(a)||(n.index=a),Vd(s)&&(n.name=s),A(r)||(n.address=r),n}function tr(e,t){var a=e.name,s=e.address,r=Qs(e,t);return Vd(a)&&(r.name=a),A(s)||(r.address=s),r}function ar(e,t){var a=e.execute,s=void 0===a?{}:a,r={};if(A(s))return r;var n=s.pageLoad;p(n)||(r.pageLoad=Qs(n,t));var o=s.mboxes;if(!p(o)&&fd(o)&&!A(o)){var i=f(Bg,F(function(e){return er(e,t)},o));A(i)||(r.mboxes=i)}return r}function sr(e,t){var a=e.prefetch,s=void 0===a?{}:a,r={};if(A(s))return r;var n=s.mboxes;p(n)||!fd(n)||A(n)||(r.mboxes=F(function(e){return er(e,t)},n));var o=s.views;return p(o)||!fd(o)||A(o)||(r.views=F(function(e){return tr(e,t)},o)),r}function rr(e,t){if(Ze()&&!Je())return null;var a=st(),s=Oa(e),r=Sa(ug),n=Sa(mg),o=t.experienceCloud,i=(void 0===o?{}:o).analytics,c=void 0===i?{}:i,l=c.logging,d=c.supplementalDataId,u=c.trackingServer,m=c.trackingServerSecure,b={};return p(l)?b.logging=a[ep]:b.logging=l,p(d)||(b.supplementalDataId=d),Vd(s)&&(b.supplementalDataId=s),p(u)||(b.trackingServer=u),Vd(r)&&(b.trackingServer=r),p(m)||(b.trackingServerSecure=m),Vd(n)&&(b.trackingServerSecure=n),A(b)?null:b}function nr(e,t,a){var s=Ds(a),r=nt(),n=Ps(s),o=xa(),i=zs(e.id||{},r,n,t,o),c=Ys(e.property,s),l=Ws(e.experienceCloud||{},t),d=Zs(e.trace),u=$s(e.qaMode),m=ar(e,s),b=sr(e,s),p=e.notifications,g={};return g.requestId=K(),g.context=qs(e.context),A(i)||(g.id=i),A(c)||(g.property=c),A(d)||(g.trace=d),A(l)||(g.experienceCloud=l),A(u)||(g.qaMode=u),A(m)||(g.execute=m),A(b)||(g.prefetch=b),A(p)||(g.notifications=p),g}function or(e,t,a){var s=a[0],r=a[1];return nr(e,s,ud({},r,t))}function ir(t,a){return Vs().then(function(e){return or(t,a,e)})}function cr(e,t){return or(e,t,Ls())}function lr(e,t){return D(t)?t<0?e[zm]:t:e[zm]}function dr(e){var t=e[Km];if(!e[sb])return t;var a=it();return O(a)?t:""+Fg+a+Ng}function ur(e){return e[lb]+"//"+dr(e)+e[Ib]+"?"+ee({client:e[Gm],sessionId:tt(),version:e[Zm]})}function mr(t,e){var a=st(),s=ur(a),r=l({},Fb,[Nb]),n=lr(a,e),o={url:s,headers:r,body:t,timeout:n,async:!0};return Te(Dm,t),Se({request:t}),Os(o).then(function(e){return Te(Lm,e),Se({response:e}),{request:t,response:e}})}function br(e,t){return{status:wm,type:e,data:t}}function pr(e,t){return{status:Cm,type:e,data:t}}function gr(e){return u(e)}function fr(e){return!!gr(e)&&Vd(e.eventToken)}function vr(e){return!A(e)&&!O(e.type)&&Vd(e.eventToken)}function hr(e){return!!vr(e)&&Vd(e.selector)}function Pr(e){var t=e.id;return u(t)&&Vd(t.tntId)}function Cr(e){var t=e.response;return Pr(t)&&rt(t.id.tntId),e}function jr(e){var t=e.response;return Pr(t)&&ct(t.id.tntId),ct(null),e}function yr(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).trace;A(t)||Oe(t)}function Rr(e){var t=e.response,a=t.execute,s=void 0===a?{}:a,r=t.prefetch,n=void 0===r?{}:r,o=s.pageLoad,i=void 0===o?{}:o,c=s.mboxes,l=void 0===c?[]:c,d=n.mboxes,u=void 0===d?[]:d,m=n.views,b=void 0===m?[]:m;return yr(i),C(yr,l),C(yr,u),C(yr,b),e}function wr(e){var t=e.queryKey,a=t[of];if(!y(a))return t;if(O(a))return t;var s=Math.round(B()/1e3);return t[of]=a.replace(/\|TS=\d+/,"|TS="+s),t}function Ir(e){return e.queryKey}function Er(e,t,a){var s=se(e),r=s.protocol,n=s.host,o=s.path,i=""===s.port?"":":"+s.port,c=O(s.anchor)?"":"#"+s.anchor,l=a(s),d=ee(ud({},l,t));return r+"://"+n+i+o+(O(d)?"":"?"+d)+c}function Tr(e,t){return Er(e,t,wr)}function _r(e,t){return Er(e,t,Ir)}function kr(e){var t=e.content;if(O(t))return Te(um,e),null;var a=ud({},e);return a.content=Tr(t,{}),a}function Ar(e){throw new Error(e)}function xr(e){var t=e[bf]||uf,a=e[pf]||Ar(df),s=e[gf]||{},r=e[ff]||null,n=e[vf]||!1,o=e[hf]||3e3,i=!!p(e[Pf])||!0===e[Pf],c={};return c[bf]=t,c[pf]=a,c[gf]=s,c[ff]=r,c[vf]=n,c[hf]=o,c[Pf]=i,c}function Or(s,r,n){return s.onload=function(){var e=1223===s.status?204:s.status;if(e<100||599<e)n(new Error(cf));else{var t=s.responseText,a=s.getAllResponseHeaders();r({status:e,headers:a,response:t})}},s}function Sr(e,t){return e.onerror=function(){t(new Error(cf))},e}function Vr(e,t,a){return e.timeout=t,e.ontimeout=function(){a(new Error(lf))},e}function Lr(e,t){return!0===t&&(e.withCredentials=t),e}function Dr(a,e){return C(function(e,t){C(function(e){return a.setRequestHeader(t,e)},e)},e),a}function Mr(s,e){var t=xr(e),r=t[bf],n=t[pf],o=t[gf],i=t[ff],c=t[vf],l=t[hf],d=t[Pf];return Ne(function(e,t){var a=new s.XMLHttpRequest;(a=Sr(a=Or(a,e,t),t)).open(r,n,d),a=Dr(a=Lr(a,c),o),d&&(a=Vr(a,l,t)),a.send(i)})}function Fr(e){return Mr(ld,e)}function Nr(e,t,a){var s={};return s[bf]=uf,s[pf]=_r(e,t),s[hf]=a,s}function Br(e){return 200<=e&&e<300||304===e}function Ur(e){if(!Br(e.status))return null;var t=e.response;if(O(t))return null;var a={};return a.type=_u,a.content=t,a}function qr(e){return Fr(Nr(e.content,{},st()[hf])).then(Ur)["catch"](function(){return null})}function Gr(e){var t=e[Zd];if(O(t))return"";var a=Cf.exec(t);return A(a)||2!==a.length?"":a[1]}function Hr(e,t){var a=document.createElement(Bu);a.innerHTML=t;var s=a.firstElementChild;return p(s)?t:(s.id=e,s.outerHTML)}function Kr(e){var t=e[Ud],a=Gr(e);if(O(a)||O(t))return e;var s=e[Zd];return e[Zd]=s.replace(jf,""),e[Ud]=Hr(a,t),e}function zr(e){return!p(e.selector)}function Wr(e){if(!zr(e))return null;var t=Kr(e);return y(t[Ud])?t:(Te(nm,t),null)}function Yr(e){if(!zr(e))return null;var t=Kr(e);return y(t[Ud])?t:(Te(nm,t),null)}function Zr(e){if(!zr(e))return null;var t=Kr(e);return y(t[Ud])?t:(Te(nm,t),null)}function $r(e){if(!zr(e))return null;var t=Kr(e);return y(t[Ud])?t:(Te(nm,t),null)}function Jr(e){if(!zr(e))return null;var t=Kr(e);return y(t[Ud])?t:(Te(nm,t),null)}function Xr(e){if(!zr(e))return null;var t=Kr(e);return y(t[Ud])?t:(Te(nm,t),null)}function Qr(e){if(!zr(e))return null;var t=Kr(e);return y(t[Ud])?t:(Te(nm,t),null)}function en(e){return zr(e)?y(e[Ud])?e:(Te(nm,e),null):null}function tn(e){return zr(e)?u(e[Ud])?e:(Te(om,e),null):null}function an(e){return zr(e)?y(e[Ud])?e:(Te(mm,e),null):null}function sn(e){return zr(e)?u(e[Ud])?e:(Te(im,e),null):null}function rn(e){return zr(e)?u(e[Ud])?e:(Te(cm,e),null):null}function nn(e){return zr(e)?u(e[Ud])?e:(Te(lm,e),null):null}function on(e){return zr(e)?e:null}function cn(e){return zr(e)?u(e[Ud])?e:(Te(dm,e),null):null}function ln(e){var t=e.content;return O(t)?(Te(um,e),null):(e.content=Tr(t,{}),e)}function dn(e){var t=e[Bd];if(O(t))return null;switch(t){case Jd:return Wr(e);case Qd:return Yr(e);case pu:return Zr(e);case fu:return $r(e);case hu:return Jr(e);case mu:return Xr(e);case bu:return Qr(e);case cu:return en(e);case tu:return tn(e);case au:return an(e);case su:return sn(e);case nu:return rn(e);case ou:return nn(e);case iu:return on(e);case ru:return cn(e);case lu:return ln(e);default:return null}}function un(e){var t=e[Ud];if(!fd(t))return null;if(A(t))return null;var a=f(yf,F(dn,t));if(A(a))return null;var s=ud({},e);return s.content=a,s}function mn(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).options;return fd(t)?A(t)?[]:Yg(F(Jg,t)):[]}function bn(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},a=t.execute,s=void 0===a?{}:a,r=t.prefetch,n=void 0===r?{}:r,o=s.pageLoad,i=void 0===o?{}:o,c=s.mboxes,l=void 0===c?[]:c,d=n.mboxes,u=void 0===d?[]:d,m=n.views,b=void 0===m?[]:m;return h([mn(i),h(F(mn,l)),h(F(mn,u)),h(F(mn,b))])}function pn(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).execute,a=void 0===t?{}:t,s=a.pageLoad,r=void 0===s?{}:s,n=a.mboxes,o=void 0===n?[]:n,i=h([Zg(r)||[],h(Yg(F(Zg,o)))]),c=h(F($g,f(zg,i))),l=f(Wg,i),d=f(Wg,c),u=l.concat(d),m={};if(A(u))return m;var b=u[0].content;return O(b)||(m.url=b),m}function gn(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).analytics;return A(t)?[]:[t]}function fn(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},a=t.execute,s=void 0===a?{}:a,r=t.prefetch,n=void 0===r?{}:r,o=s.pageLoad,i=void 0===o?{}:o,c=s.mboxes,l=void 0===c?[]:c,d=n.mboxes,u=void 0===d?[]:d,m=n.views,b=void 0===m?[]:m;return h([gn(i),h(F(gn,l)),h(F(gn,u)),h(F(gn,b))])}function vn(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function hn(e,t){var a=t[0],s=t[1],r=!A(a),n=!A(s);return(r||n)&&(r&&(e.options=a),n&&(e.metrics=s)),e}function Pn(e){switch(e.type){case lu:return Be(kr(e));case ku:return qr(e);case Om:return Be(un(e));default:return Be(e)}}function Cn(e,t){if(!fd(e))return Be([]);if(A(e))return Be([]);var a=f(t,e);return A(a)?Be([]):Ge(F(function(e){return Pn(e)},a)).then(Yg)}function jn(e,t){return fd(e)?A(e)?Be([]):Be(f(t,e)):Be([])}function yn(e){var t=e.response.execute;if(!u(t))return Be(null);var a=t.pageLoad;if(!u(a))return Be(null);var s=a.analytics,r=a.options,n=a.metrics,o={analytics:s};return Ge([Cn(r,gr),jn(n,hr)]).then(function(e){return hn(o,e)})}function Rn(e){var t=e.name,a=e.analytics,s=e.options,r=e.metrics,n={name:t,analytics:a};return Ge([Cn(s,gr),jn(r,vr)]).then(function(e){return hn(n,e)})}function wn(e){var t=e.response.execute;if(!u(t))return Be([]);var a=t.mboxes;return!fd(a)||A(a)?Be([]):Ge(F(Rn,f(ef,a))).then(Yg)}function In(e,t,a){return e.index===t&&e.name===a}function En(e,t,a){var s=e.prefetch,r=(void 0===s?{}:s).mboxes,n=void 0===r?[]:r;return A(n)?null:v(f(function(e){return In(e,t,a)},n))}function Tn(e,t){var a=t.index,s=t.name,r=t.state,n=t.analytics,o=t.options,i=t.metrics,c=En(e,a,s),l={name:s,state:r,analytics:n};return p(c)||vn(l,c),Ge([Cn(o,fr),jn(i,vr)]).then(function(e){return hn(l,e)})}function _n(e){var t=e.request,a=e.response.prefetch;if(!u(a))return Be([]);var s=a.mboxes;if(!fd(s)||A(s))return Be([]);var r=f(tf,s),n=function n(e){return Tn(t,e)};return Ge(F(n,r)).then(Yg)}function kn(e){var t=e.prefetch,a=(void 0===t?{}:t).views,s=void 0===a?[]:a;return A(s)?null:s[0]}function An(e,t){var a=t.name,s=t.state,r=t.analytics,n=t.options,o=t.metrics,i=kn(e),c={name:a.toLowerCase(),state:s,analytics:r};return p(i)||vn(c,i),Ge([Cn(n,fr),jn(o,hr)]).then(function(e){return hn(c,e)})}function xn(e){var t=e.request,a=e.response.prefetch;if(!u(a))return Be([]);var s=a.views;if(!fd(s)||A(s))return Be([]);var r=f(af,s),n=function n(e){return An(t,e)};return Ge(F(n,r)).then(Yg)}function On(e){var t=e.response.prefetch;return u(t)?jn(t.metrics,hr):Be([])}function Sn(e){var t=e[0],a=e[1],s=e[2],r=e[3],n=e[4],o={},i={};u(t)&&(i.pageLoad=t),A(a)||(i.mboxes=a);var c={};return A(s)||(c.mboxes=s),A(r)||(c.views=r),A(n)||(c.metrics=n),A(i)||(o.execute=i),A(c)||(o.prefetch=c),o}function Vn(e){var t=P([Rr,Cr,jr])(e);return Ge([yn(t),wn(t),_n(t),xn(t),On(t)]).then(Sn)}function Ln(e){return!A(pn(e))}function Dn(e){var t=bn(e),a={};return A(t)||(a.responseTokens=t),a}function Mn(e){var t=Dn(e),a=fn(e);return A(a)||(t.analyticsDetails=a),Te(am,e),gt(t,Ln(e)),Be(e)}function Fn(e,t){var a=Dn(t);return a.mbox=e,Te(am,t),gt(a,Ln(t)),Be(t)}function Nn(e){return Ee(tm,e),ft({error:e}),Ue(e)}function Bn(e,t){return Ee(tm,t),ft({mbox:e,error:t}),Ue(t)}function Un(e){var t=st()[Wm],a=e.mbox,s=e.timeout,r=u(e.params)?e.params:{},n=function n(e){return Fn(a,e)},o=function o(e){return Bn(a,e)},i={},c={};a===t?c.pageLoad={}:c.mboxes=[{index:0,name:a}],i.execute=c;var l=rr(a,i);if(!A(l)){var d={};d.analytics=l,i.experienceCloud=d}return pt({mbox:a}),ir(i,r).then(function(e){return mr(e,s)}).then(Vn).then(n)["catch"](o)}function qn(e){var t=st()[Wm],a=e.consumerId,s=void 0===a?t:a,r=e.request,n=e.timeout,o=rr(s,r),i=function i(e){return Mn(e)},c=function c(e){return Nn(e)};if(!A(o)){var l=r.experienceCloud||{};l.analytics=o,r.experienceCloud=l}return pt({}),ir(r,{}).then(function(e){return mr(e,n)}).then(Vn).then(i)["catch"](c)}function Gn(e,t){return It(t).addClass(e)}function Hn(e,t){return It(t).css(e)}function Kn(e,t){return It(t).attr(e)}function zn(e,t,a){return It(a).attr(e,t)}function Wn(e,t){return It(t).removeAttr(e)}function Yn(e,t,a){var s=Kn(e,a);Vd(s)&&(Wn(e,a),zn(t,s,a))}function Zn(e,t){return Vd(Kn(e,t))}function $n(e){return new Error("Could not find: "+e)}function Jn(s,r,n){return Ne(function(t,e){var a=Le(function(){var e=n(s);A(e)||(a.disconnect(),t(e))});o(function(){a.disconnect(),e($n(s))},r),a.observe(dd,{childList:!0,subtree:!0})})}function Xn(){return dd[Rf]===wf}function Qn(s,r,n){return Ne(function(t,e){function a(){var e=n(s);A(e)?ld.requestAnimationFrame(a):t(e)}a(),o(function(){e($n(s))},r)})}function eo(s,r,n){return Ne(function(t,e){function a(){var e=n(s);A(e)?o(a,If):t(e)}a(),o(function(){e($n(s))},r)})}function to(e,t,a){var s=1<arguments.length&&t!==undefined?arguments[1]:st()[tb],r=2<arguments.length&&a!==undefined?arguments[2]:It,n=r(e);return A(n)?Ve()?Jn(e,s,r):Xn()?Qn(e,s,r):eo(e,s,r):Be(n)}function ao(e){return Kn(Eu,e)}function so(e){return Zn(Eu,e)}function ro(e){return C(function(e){return Yn(xu,Eu,e)},k(St(Nu,e))),e}function no(e){return C(function(e){return Yn(Eu,xu,e)},k(St(Nu,e))),e}function oo(e){return Te(pm,e),Kn(xu,zn(xu,e,_t("<"+Nu+"/>")))}function io(e){var t=f(so,k(St(Nu,e)));return A(t)||C(oo,F(ao,t)),e}function co(e){return P([ro,io,no])(e)}function lo(e){var t=Kn(xu,e);return Vd(t)?t:null}function uo(e){return f(Vd,F(lo,k(St(Au,e))))}function mo(e){return U(function(e,t){return e.then(function(){return Te(Pm,t),Se({remoteScript:t}),gd(t)})},Be(),e)}function bo(e){return e}function po(e,t){return Ee(em,t),Se({action:e,error:t}),e}function go(e,t){var a,s=It(t[Zd]),r=co(Tt(t[Ud])),n=uo(r);try{a=Be(e(s,r))}catch(o){return Ue(po(t,o))}return A(n)?a.then(function(){return bo(t)})["catch"](function(e){return po(t,e)}):a.then(function(){return mo(n)}).then(function(){return bo(t)})["catch"](function(e){return po(t,e)})}function fo(e){var t=Tt(e);return M("",U(function(e,t){return e.push(ea(Tt(t))),e},[],k(St(Ef,t))))}function vo(e){var t=ud({},e),a=t[Ud];if(O(a))return t;var s=It(t[Zd]);return Ot(Lu,s)&&(t[Bd]=pu,t[Ud]=fo(a)),t}function ho(e){return e.indexOf("px")===e.length-2?e:e+"px"}function Po(e,t){return Qt(ea(t),e)}function Co(e){return Te(rm,e),go(Po,e)}function jo(e){var t=It(e[Zd]),a=e[Ud];return Te(rm,e),Se({action:e}),ta(a,t),Be(e)}function yo(e,t){return Jt(ea(t),e)}function Ro(e){return Te(rm,e),go(yo,e)}function wo(e,t){return Xt(ea(t),e)}function Io(e){return Te(rm,e),go(wo,e)}function Eo(e,t){var a=xt(e);return Yt($t(ea(t),e)),a}function To(e){return Te(rm,e),go(Eo,e)}function _o(e,t){return kt($t(ea(t),e))}function ko(e){return Te(rm,e),go(_o,e)}function Ao(e,t){return At(Zt(ea(t),e))}function xo(e){return Te(rm,e),go(Ao,e)}function Oo(e,t){return xt($t(ea(t),e))}function So(e){return Te(rm,e),go(Oo,e)}function Vo(e){var t=e[Ud],a=It(e[Zd]);return Te(rm,e),Se({action:e}),Wn(xu,a),zn(xu,oo(t),a),Be(e)}function Lo(e){var t=e[Ud],a=It(e[Zd]);return Te(rm,e),Se({action:e}),C(function(e,t){return zn(t,e,a)},t),Be(e)}function Do(e,t,s){C(function(a){C(function(e,t){return a.style.setProperty(t,e,s)},t)},k(e))}function Mo(e){var t=It(e[Zd]),a=e[Ud],s=a[Yd];return Te(rm,e),Se({action:e}),O(s)?Hn(a,t):Do(t,a,s),Be(e)}function Fo(e){var t=It(e[Zd]),a=e[Ud];return a[Gd]=ho(a[Gd]),a[qd]=ho(a[qd]),Te(rm,e),Se({action:e}),Hn(a,t),Be(e)}function No(e){var t=It(e[Zd]),a=e[Ud];return a[Hd]=ho(a[Hd]),a[Kd]=ho(a[Kd]),Te(rm,e),Se({action:e}),Hn(a,t),Be(e)}function Bo(e){var t=It(e[Zd]);return Te(rm,e),Se({action:e}),Yt(t),Be(e)}function Uo(e){var t=It(e[Zd]),a=e[Ud],s=a[zd],r=a[Wd],n=k(Vt(t)),o=n[s],i=n[r];return Et(o)&&Et(i)?(Te(rm,e),Se({action:e}),s<r?Zt(o,i):$t(o,i),Be(e)):(Te(bm,e),Ue(e))}function qo(e){var t=vo(e);switch(t[Bd]){case Jd:return Co(t);case Qd:return jo(t);case pu:return Ro(t);case fu:return Io(t);case hu:return To(t);case mu:return ko(t);case bu:return xo(t);case cu:return So(t);case tu:return Lo(t);case au:return Vo(t);case su:return Mo(t);case nu:return Fo(t);case ou:return No(t);case iu:return Bo(t);case ru:return Uo(t);default:return Be(t)}}function Go(e){return e[Bd]===du||e[Bd]===uu}function Ho(e){var t=e[Zd];return Vd(t)||L(t)}function Ko(e){var t=e.key;if(!O(t)&&Ho(e)){var a=e[Zd];zn(Tf,t,a)}}function zo(e){var t=e[$d];O(t)||ba(t)}function Wo(e){if(Ho(e)){var t=e[Zd];Go(e)?Gn(Um,t):(Gn(Bm,t),zo(e))}else zo(e)}function Yo(e){C(Wo,e)}function Zo(e){var t=e.key;if(O(t))return!0;if(e[Bd]===cu)return e[xb];var a=e[Zd],s=Kn(Tf,a);return s!==t||s===t&&!e[xb]}function $o(a){return Zo(a)?qo(a).then(function(){return Te(sm,a),Se({action:a}),Ko(a),Wo(a),a})["catch"](function(e){Ee(em,e),Se({action:a,error:e}),Wo(a);var t=ud({},a);return t[Cm]=!0,t}):(Wo(a),a)}function Jo(e){var t=f(function(e){return!0===e[Cm]},e);return A(t)?Be():(Yo(t),Ue(e))}function Xo(t){return to(t[Zd]).then(function(){return t})["catch"](function(){var e=ud({},t);return e[Cm]=!0,e})}function Qo(e){return Xo(e).then($o)}function ei(e){return Ge(F(Qo,e)).then(Jo)}function ti(e,t,a){return It(a).on(e,t)}function ai(e,t,a){return It(a).off(e,t)}function si(e){return to(e[Zd]).then(function(){return Se({
metric:e}),ud({found:!0},e)})["catch"](function(){return Ee(_f,e),Se({metric:e,message:_f}),e})}function ri(e,t,a){return e[kf][Af](t,a)}function ni(e,t,a){var s={};s[Fb]=[Nb];var r={};r[bf]=mf,r[pf]=t,r[ff]=a,r[vf]=!0,r[Pf]=!1,r[gf]=s;try{e(r)}catch(n){return!1}return!0}function oi(e){return kf in e&&Af in e[kf]}function ii(e,t){return oi(ld)?ri(ld,e,t):ni(Fr,e,t)}function ci(e){var t=e.name,a=La(Sb)||{};a[t]=e,Va(Sb,a)}function li(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:{},s=a.page,r=void 0===s||s,n=(La(Sb)||{})[e];if(p(n))return n;var o=a.impressionId;return p(o)?n:ud({page:r,impressionId:o},n)}function di(e){C(ci,e)}function ui(e){var t=rr(e,{}),a={context:{beacon:!0}};if(!A(t)){var s={};s.analytics=t,a.experienceCloud=s}return a}function mi(e,t,a){var s=cr(ui(e),t);return s.notifications=a,s}function bi(e,t,a){return ir(ui(e),t).then(function(e){return e.notifications=a,e})}function pi(e,t,a){var s={id:K(),type:t,timestamp:B(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return A(a)||(s.tokens=a),s}function gi(e,t,a){var s=e.name,r=e.state,n=pi(e,t,a);return n.mbox={name:s,state:r},n}function fi(e,t,a){var s=e.name,r=e.state,n=pi(e,t,a);return n.view={name:s,state:r},n}function vi(e){var t=ur(st());return ii(t,JSON.stringify(e))?(Te(xf,t,e),!0):(Ee(Of,t,e),!1)}function hi(e,t,a){var s=rs(st()[Wm]),r=pi(Qs({},s),t,[a]),n=mi(K(),s,[r]);Te(Df,e,r),Se({source:e,event:t,request:n}),vi(n)}function Pi(e,t,a){var s=rs(e),r=pi(Qs({},s),t,[a]);r.mbox={name:e};var n=mi(K(),s,[r]);Te(Mf,e,r),Se({mbox:e,event:t,request:n}),vi(n)}function Ci(e){var t=st()[Wm],n=[],o=Mb;if(C(function(e){var t=e.mbox,a=e.data;if(!p(a)){var s=a.eventTokens,r=void 0===s?[]:s;A(r)||n.push(gi(t,o,r))}},e),!A(n)){var a=mi(t,{},n);Te(Lf,n),Se({source:Nf,event:Bf,request:a}),vi(a)}}function ji(e,t,a){var s=rs(st()[Wm]),r=pi(Qs({},s),t,[a]);r.view={name:e};var n=mi(K(),s,[r]);Te(Ff,e,r),Se({view:e,event:t,request:n}),vi(n)}function yi(e){var t=e.viewName,a=e.impressionId,s=rs(st()[Wm]),r=pi(Qs({},s),Mb,[]);r.view={name:t},Te(Sf,t),bi(t,s,[r]).then(function(e){e.impressionId=a,Se({view:t,event:Uf,request:e}),vi(e)})}function Ri(e){if(!p(e)){var t=e.view,a=e.data,s=(void 0===a?{}:a).eventTokens,r=void 0===s?[]:s;if(!A(r)){var n=t.name,o=t.impressionId,i=li(n);if(!p(i)){var c=mi(n,{},[fi(i,Mb,r)]);c.impressionId=o,Te(Vf,n,r),Se({view:n,event:Bf,request:c}),vi(c)}}}}function wi(e,t){e===Vu&&Gn(Um,t)}function Ii(e,t){return!p(qf[e])&&!p(qf[e][t])}function Ei(e,s,r){if(p(qf[e])){var t=g(qf);A(t)||C(function(a){C(function(e){var t=qf[a][e];ai(s,t,r)},g(qf[a])),delete qf[a]},t)}}function Ti(e,t,a){qf[e]=qf[e]||{},qf[e][t]=a}function _i(e,t,a,s){var r=a.type,n=a.selector,o=a.eventToken,i=R(r+":"+n+":"+o),c=function c(){return s(e,r,o)};wi(r,n),t?Ii(e,i)||(Ei(e,r,n),Ti(e,i,c),ti(r,c,n)):ti(r,c,n)}function ki(t,a,e,s){return Ge(F(si,e)).then(function(e){return C(function(e){return _i(t,a,e,s)},f(function(e){return e.found},e)),zf()})["catch"](Wf)}function Ai(e){return ki(e.name,!1,Kf(e),Pi)}function xi(e){return ki(e.name,!0,Kf(e),ji)}function Oi(e){return ki(Gf,!1,Kf(e),hi)}function Si(e){return ki(Hf,!1,Kf(e),hi)}function Vi(e){var t=F(Zf,e);ua(Yg(t))}function Li(e){var t=F(Zf,e);ma(Yg(t))}function Di(e){var t=f(zg,Zg(e));return h(F(Yf,t))}function Mi(e){return u(e)&&e.type!==eu}function Fi(e,t,a){return F(function(e){return ud({key:t,page:a},e)},f(Mi,e))}function Ni(e,t,a){var s=e.eventToken;return ei(Fi(e.content,t,a)).then(function(){return $f(s)})["catch"](Jf)}function Bi(e){return u(e)&&e.type!==Tu}function Ui(e,t){return F(e,f(Bi,Zg(t)))}function qi(e,t,a){var s=l({status:wm},e,t),r=F(rf,f(Kg,a)),n={};return A(r)||(s.status=Cm,n.errors=r),A(n)||(s.data=n),s}function Gi(e,t,a){var s=l({status:wm},e,t),r=F(rf,f(Kg,a)),n=F(rf,f(Xf,a)),o={};return A(r)||(s.status=Cm,o.errors=r),A(n)||(o.eventTokens=n),A(o)||(s.data=o),s}function Hi(t,e,a){var s=function s(e){return Ni(e,!0)};return Ge(Ui(s,t)).then(e).then(function(e){return a(t),e})}function Ki(t,a,s,r){var n=a.name,o=function o(e){return Ni(e,n,s)};return Ge(Ui(o,a)).then(function(e){return Gi(t,a,e)}).then(function(e){return r(a),e})}function zi(t){var a=function a(e){return qi(Tm,t,e)};return Hi(t,a,Ai)}function Wi(e){return Ki(Tm,e,!0,Ai)}function Yi(e){Vi(Di(e))}function Zi(e,t){if(!(1<arguments.length&&t!==undefined&&arguments[1])){var a=e.execute,s=(void 0===a?{}:a).pageLoad,r=void 0===s?{}:s;A(r)||Yi(r)}}function $i(e){var t=e.prefetch,a=(void 0===t?{}:t).views,s=void 0===a?[]:a;A(s)||Li(h(F(Di,s)))}function Ji(e){Vi(Di(e)),pa()}function Xi(t){var a=function a(e){return qi(Fm,t,e)};return Hi(t,a,Oi)}function Qi(e){return Ge(F(zi,e))}function ec(e){return Ge(F(Wi,e))}function tc(e){return Ge([Si(e)]).then(qi)}function ac(e){var t=e.page;return Ki(Ob,e,t,xi)}function sc(){}function rc(){return new Qf}function nc(e,t,a){e.emit(t,a)}function oc(e,t,a){e.on(t,a)}function ic(e,t){nc(tv,e,t)}function cc(e,t){oc(tv,e,t)}function lc(e){return{type:lu,content:e.url}}function dc(e){var t={};return t.type=Jd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function uc(e){var t={};return t.type=Qd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function mc(e){var t={};return t.type=pu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function bc(e){var t={};return t.type=fu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function pc(e){var t={};return t.type=hu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function gc(e){var t={};return t.type=mu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function fc(e){var t={};return t.type=bu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function vc(e){var t={};return t.type=cu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function hc(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===xu)return t.type=au,t.content=e.value,t;t.type=tu;var a={};return a[e.attribute]=e.value,t.content=a,t}function Pc(e){var t=e.style,a=void 0===t?{}:t,s={};return s.selector=e.selector,s.cssSelector=e.cssSelector,p(a.left)||p(a.top)?p(a.width)||p(a.height)?s.type=su:s.type=nu:s.type=ou,s.content=a,s}function Cc(e){var t={};return t.type=iu,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function jc(e){var t={};t.from=e.from,t.to=e.to;var a={};return a.type=ru,a.selector=e.selector,a.cssSelector=e.cssSelector,a.content=t,a}function yc(e){return Vd(e.selector)&&Vd(e.cssSelector)}function Rc(e){var t={};if(A(e))return t;var a=[],s=[],r=[];C(function(e){switch(e.action){case Xd:yc(e)?r.push(dc(e)):a.push({type:_u,content:e.content});break;case eu:A(e.content)||C(function(e){return a.push({type:Tu,content:e})},e.content);break;case Qd:r.push(uc(e));break;case gu:r.push(mc(e));break;case vu:r.push(bc(e));break;case Pu:r.push(pc(e));break;case mu:r.push(gc(e));break;case bu:r.push(fc(e));break;case cu:r.push(vc(e));break;case tu:r.push(hc(e));break;case su:r.push(Pc(e));break;case iu:r.push(Cc(e));break;case ru:r.push(jc(e));break;case lu:a.push(lc(e));break;case du:s.push({type:Vu,selector:e.selector,eventToken:e.clickTrackId})}},e);var n={};if(!A(r)&&a.push({type:Om,content:r}),!A(a)&&(n.options=a),!A(s)&&(n.metrics=s),A(n))return t;var o={};return o.pageLoad=n,t.execute=o,t}function wc(e,t){var a={};if(A(t))return a;var s=[],r=[];C(function(e){switch(e.action){case Xd:s.push({type:_u,content:e.content});break;case eu:A(e.content)||C(function(e){return s.push({type:Tu,content:e})},e.content);break;case lu:s.push(lc(e));break;case uu:r.push({type:Vu,eventToken:e.clickTrackId})}},t);var n={name:e};if(!A(s)&&(n.options=s),!A(r)&&(n.metrics=r),A(n))return a;var o={},i=[n];return o.mboxes=i,a.execute=o,a}function Ic(e,t,a){return a?Rc(t):wc(e,t)}function Ec(e){var t=e.status,a=e.data,s={status:t,pageLoad:!0};return p(a)||(s.data=a),s}function Tc(e){var t=e.status,a=e.mbox,s=e.data,r={status:t,mbox:a.name};return p(s)||(r.data=s),r}function _c(e){var t=e.status,a=e.view,s=e.data,r={status:t,view:a.name};return p(s)||(r.data=s),r}function kc(e){var t=e.status,a=e.data,s={status:t,prefetchMetrics:!0};return p(a)||(s.data=a),s}function Ac(e){if(p(e))return[null];var t=F(Ec,[e]);return ov(t)&&Ee(av,e),t}function xc(e){if(p(e))return[null];var t=F(Tc,e);return ov(t)&&Ee(sv,e),t}function Oc(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:Ci;if(p(e))return[null];var s=F(Tc,e);return ov(s)&&Ee(sv,e),a(e),s}function Sc(e,t){var a=1<arguments.length&&t!==undefined?arguments[1]:Ri;if(p(e))return[null];var s=F(_c,[e]);return ov(s)&&Ee(rv,e),e.view.page&&a(e),s}function Vc(e){if(p(e))return[null];var t=F(kc,[e]);return ov(t)&&Ee(nv,e),t}function Lc(e){var t=h([Ac(e[0]),xc(e[1]),Oc(e[2]),Vc(e[3])]),a=f(Gg,t),s=f(Kg,a);return A(s)?Be(a):Ue(s)}function Dc(e){return Ue(e)}function Mc(s,e){if(!A(e)){var t=e.options;A(t)||C(function(e){if(e.type===_u){var t=Jd,a=e.content;e.type=Om,e.content=[{type:t,selector:s,content:a}]}},t)}}function Fc(t,e){var a=e.metrics;if(!A(a)){var s=e.name;C(function(e){e.name=s,e.selector=e.selector||t},a)}}function Nc(t,e){var a=ud({},e),s=a.execute,r=void 0===s?{}:s,n=a.prefetch,o=void 0===n?{}:n,i=r.pageLoad,c=void 0===i?{}:i,l=r.mboxes,d=void 0===l?[]:l,u=o.mboxes,m=void 0===u?[]:u;return Mc(t,c),C(function(e){return Mc(t,e)},d),C(function(e){return Fc(t,e)},d),C(function(e){return Mc(t,e)},m),C(function(e){return Fc(t,e)},m),a}function Bc(e){var t=e.prefetch,a=(void 0===t?{}:t).views,s=void 0===a?[]:a;A(s)||di(s)}function Uc(e){var t=[],a=e.execute,s=void 0===a?{}:a,r=s.pageLoad,n=void 0===r?{}:r,o=s.mboxes,i=void 0===o?[]:o;A(n)?t.push(Be(null)):t.push(Xi(n)),A(i)?t.push(Be(null)):t.push(Qi(i));var c=e.prefetch,l=void 0===c?{}:c,d=l.mboxes,u=void 0===d?[]:d,m=l.metrics,b=void 0===m?[]:m;return A(u)?t.push(Be(null)):t.push(ec(u)),fd(b)&&!A(b)?t.push(tc(l)):t.push(Be(null)),da(),Ge(t).then(Lc)["catch"](Dc)}function qc(e,t){o(function(){return e.location.replace(t)})}function Gc(e){return Vd(e)?e:L(e)?e:Lu}function Hc(e){Gn(Bm,e)}function Kc(e){var t=e.mbox,a=e.selector,s=e.offer,r=st(),n=t===r[Wm];if(A(s))return Te(vm),Hc(a),da(),void Ct({mbox:t});var o=Nc(a,Ic(t,s,n)),i=pn(o);if(!A(i)){var c=i.url;return Te(hm,i),jt({url:c}),void qc(ld,c)}vt({mbox:t}),Zi(o),Uc(o).then(function(e){A(e)||ht({mbox:t,execution:e})})["catch"](function(e){return Pt({error:e})})}function zc(e,t){var a=1<arguments.length&&t!==undefined&&arguments[1],s=e.selector,r=e.response;if(A(r))return Te(vm),Hc(s),da(),Ct({}),ic(np),Be();var n=Nc(s,r),o=pn(n);if(A(o))return vt({}),Bc(n),ic(rp),Zi(n,a),Uc(n).then(function(e){A(e)||ht({execution:e})})["catch"](function(e){return Pt({error:e})});var i=o.url;return Te(hm,o),jt({url:i}),ic(op),qc(ld,i),Be()}function Wc(e){var t=e[tp];if(A(t))return!1;var a=t.request,s=t.response;return!A(a)&&!A(s)}function Yc(e){return e[tp]}function Zc(e){Ee(iv,Ub,e),Se({source:iv,error:e}),da()}function $c(e,t){var a=1<arguments.length&&t!==undefined&&arguments[1],s={selector:Lu,response:e};Te(iv,Lm,e),Se({source:iv,response:e}),zc(s,a)["catch"](Zc)}function Jc(e,t){var a=ud({},t),s=a.execute,r=a.prefetch,n=e[Tb],o=e[Eb];return s&&(a.execute.mboxes=null),s&&!n&&(a.execute.pageLoad=null),r&&(a.prefetch.mboxes=null),r&&!o&&(a.prefetch.views=null),a}function Xc(e){var t=Yc(e),a=t.request,s=t.response,r=!0;Te(iv,Hb),Se({source:iv,serverState:t});var n=Jc(e,s);Zi(n),$i(n),Vn({request:a,response:n}).then(function(e){return $c(e,r)})["catch"](Zc)}function Qc(){if(!Ce())return Ee(iv,Uu),void Se({source:iv,error:Uu});var e=st();if(Wc(e))Xc(e);else{var t=e[Tb],a=e[Eb];if(!t&&!a)return Te(iv,Gb),void Se({source:iv,error:Gb});la();var s={};if(t){var r={pageLoad:{}};s.execute=r}if(a){var n={views:[{}]};s.prefetch=n}var o=e[zm];Te(iv,Dm,s),Se({source:iv,request:s});var i={request:s,timeout:o};Ze()&&!$e()?Xe().then(function(){qn(i).then($c)["catch"](Zc)})["catch"](Zc):qn(i).then($c)["catch"](Zc)}}function el(){var e={};return e[Rm]=!0,e}function tl(e){var t={};return t[Rm]=!1,t[Cm]=e,t}function al(e){return O(e)?tl(Zu):e.length>Iu?tl($u):el()}function sl(e){if(!u(e))return tl(Gu);var t=al(e[Tm]);return t[Rm]?d(e[wm])?d(e[Cm])?el():tl(Xu):tl(Ju):t}function rl(e){if(!u(e))return tl(Gu);var t=e.request;if(!u(t))return tl(Hu);var a=t.execute,s=t.prefetch;return u(a)||u(s)?el():tl(zu)}function nl(e){if(!u(e))return tl(Gu);var t=e.request;if(!u(t))return tl(Hu);var a=t.execute,s=t.prefetch,r=t.notifications;return u(a)||u(s)?tl(Wu):fd(r)?el():tl(Yu)}function ol(e){if(!u(e))return tl(Gu);var t=al(e[Tm]);if(!t[Rm])return t;var a=e[_m];return fd(a)?el():tl(Qu)}function il(e){return u(e)?u(e.response)?el():tl(Ku):tl(Gu)}function cl(e){if(!u(e))return tl(Gu);var t=al(e[Tm]);return t[Rm]?el():t}function ll(e){return{action:lu,url:e.content}}function dl(e){var t={};return t.action=Xd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ul(e){var t={};return t.action=Qd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ml(e){var t={};return t.action=gu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function bl(e){var t={};return t.action=vu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function pl(e){var t={};return t.action=Pu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function gl(e){var t={};return t.action=mu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function fl(e){var t={};return t.action=bu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function vl(e){var t={};return t.action=cu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function hl(e){var t=g(e.content)[0],a={};return a.action=tu,a.attribute=t,a.value=e.content[t],a.selector=e.selector,a.cssSelector=e.cssSelector,a}function Pl(e){var t={};return t.action=tu,t.attribute=xu,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Cl(e){var t={};return t.action=su,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function jl(e){var t={};return t.action=su,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function yl(e){var t={};return t.action=su,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Rl(e){var t={};return t.action=iu,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function wl(e){var t={};return t.action=ru,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Il(e){var t=[];return C(function(e){switch(e.type){case Jd:t.push(dl(e));break;case Qd:t.push(ul(e));break;case pu:t.push(ml(e));break;case fu:t.push(bl(e));break;case hu:t.push(pl(e));break;case mu:t.push(gl(e));break;case bu:t.push(fl(e));break;case cu:t.push(vl(e));break;case tu:t.push(hl(e));break;case au:t.push(Pl(e));break;case su:t.push(Cl(e));break;case nu:t.push(jl(e));break;case ou:t.push(yl(e));break;case iu:t.push(Rl(e));break;case ru:t.push(wl(e));break;case lu:t.push(ll(e))}},e),t}function El(e){if(A(e))return[];var t=[];return C(function(e){e.type===Vu&&(sf(e)?t.push({action:du,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:uu,clickTrackId:e.eventToken}))},e),t}function Tl(e){if(A(e))return[];var t=[],a=[],s=[],r=e.options,n=void 0===r?[]:r,o=e.metrics,i=void 0===o?[]:o;C(function(e){switch(e.type){case _u:t.push(e.content);break;case Tu:a.push(e.content);break;case lu:s.push(ll(e));break;case Om:s.push.apply(s,Il(e.content))}},n),A(t)||s.push({action:Xd,content:t.join("")}),A(a)||s.push({action:eu,content:a});var c=El(i);return A(c)||s.push.apply(s,c),s}function _l(e){var t=e.execute,a=void 0===t?{}:t,s=a.pageLoad,r=void 0===s?{}:s,n=a.mboxes,o=void 0===n?[]:n,i=[];return i.push.apply(i,Tl(r)),i.push.apply(i,h(F(Tl,o))),i}function kl(e,t){var a=_l(t);e[wm](a)}function Al(e,t){var a=t[Am]||ym;e[Cm](a,t)}function xl(t){var e=sl(t),a=e[Cm];if(!e[Rm])return Ee(cv,a),void Se({source:cv,options:t,error:a});if(!Ce())return o(t[Cm](jm,Uu)),Ee(cv,Uu),void Se({source:cv,options:t,error:Uu});var s=function s(e){return kl(t,e)},r=function r(e){return Al(t,e)};Te(cv,t),Se({source:cv,options:t}),Ze()&&!$e()?Xe().then(function(){Un(t).then(s)["catch"](r)}):Un(t).then(s)["catch"](r)}function Ol(e){var t=rl(e),a=t[Cm];return t[Rm]?Ce()?(Te(lv,e),Se({source:lv,options:e}),!Ze()||$e()?qn(e):Xe().then(function(){return qn(e)})):(Ee(lv,Uu),Se({source:lv,options:e,error:Uu}),Ue(new Error(Uu))):(Ee(lv,a),Se({source:lv,options:e,error:a}),Ue(t))}function Sl(e){var t=Gc(e.selector),a=ol(e),s=a[Cm];return a[Rm]?Ce()?(e.selector=t,Te(dv,e),Se({source:dv,options:e}),void Kc(e)):(Ee(dv,Uu),Se({source:dv,options:e,error:Uu}),void Hc(t)):(Ee(dv,e,s),Se({source:dv,options:e,error:s}),void Hc(t))}function Vl(e){var t=Gc(e.selector),a=il(e),s=a[Cm];return a[Rm]?Ce()?(e.selector=t,Te(uv,e),Se({source:uv,options:e}),zc(e)):(Ee(uv,Uu),Se({source:uv,options:e,error:Uu}),Hc(t),Ue(new Error(Uu))):(Ee(uv,e,s),Se({source:uv,options:e,error:s}),Hc(t),Ue(a))}function Ll(e){var t=st()[Wm],a=e.consumerId,s=void 0===a?t:a,r=e.request,n=nl(e),o=n[Cm];if(!n[Rm])return Ee(mv,o),void Se({source:mv,options:e,error:o});if(!Ce())return Ee(mv,Uu),void Se({source:mv,options:e,error:Uu});Te(mv,e),Se({source:mv,options:e});var i=mi(s,{},r.notifications);!Ze()||$e()?vi(i):Ee(mv,Qb)}function Dl(e,t){var a=t[Tm],s=ud({},t),r=u(t.params)?t.params:{};return s[xm]=ud({},rs(a),r),s[zm]=lr(e,t[zm]),s[wm]=d(t[wm])?t[wm]:N,s[Cm]=d(t[Cm])?t[Cm]:N,s}function Ml(e){var t=e[Bd],a=e[Zd];return Vd(t)&&(Vd(a)||L(a))}function Fl(e){var t=e.mbox,a=u(e.params)?e.params:{},s=ud({},rs(t),a),r=Mb,n=pi(Qs({},s),r,[]);if(n.mbox={name:t},vi(mi(t,s,[n])))return Te(gm,e),void e[wm]();Ee(fm,e),e[Cm](ym,fm)}function Nl(e){if(Ze()&&!$e())return Ee(fm,Qb),void e[Cm](Cm,Qb);Fl(e)}function Bl(e){return Nl(e),!e.preventDefault}function Ul(e){var t=e[Zd],a=e[Bd],s=k(It(t)),r=function r(){return Bl(e)};C(function(e){return ti(a,r,e)},s)}function ql(e){var t=cl(e),a=t[Cm];if(!t[Rm])return Ee(bv,a),void Se({source:bv,options:e,error:a});var s=Dl(st(),e);if(!Ce())return Ee(bv,Uu),o(s[Cm](jm,Uu)),void Se({source:bv,options:e,error:Uu});Te(bv,s),Se({source:bv,options:s}),Ml(s)?Ul(s):Nl(s)}function Gl(e){return Ji(e),ac(e).then(Sc).then(function(e){A(e)||ht({execution:e})})["catch"](function(e){Ee(Bb,e),Pt({error:e})})}function Hl(){for(;0<gv.length;){var e=gv.pop(),t=li(e.viewName,e);p(t)||Gl(t)}}function Kl(){vv=fv,Hl()}function zl(){cc(rp,Kl),cc(np,Kl),cc(op,Kl)}function Wl(e,t){var a={};return a.viewName=e,a.impressionId=K(),a.page=!0,A(t)||(a.page=!!t.page),a}function Yl(e){Dt(e),p(li(e.viewName,e))&&e.page&&yi(e),gv.push(e),vv===fv&&Hl()}function Zl(e,t){if(!y(e)||O(e))return Ee(pv,qb,e),void Se({source:pv,view:e,error:qb});var a=e.toLowerCase(),s=Wl(a,t);Te(pv,a,s),Se({source:pv,view:a,options:s}),Yl(s)}function $l(){Ee(Pv,arguments)}function Jl(){Ee(Cv,arguments)}function Xl(){Ee(jv,arguments)}function Ql(){Ee(yv,arguments)}function ed(e){var t=function t(){},a=function a(){return Be()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:a,applyOffer:t,applyOffers:a,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function td(e,t,a){if(e.adobe&&e.adobe.target&&"undefined"!=typeof e.adobe.target.getOffer)Ee(qu);else{X(a);var s=st(),r=s[Zm];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=r,e.adobe.target.event={LIBRARY_LOADED:_p,REQUEST_START:kp,REQUEST_SUCCEEDED:Ap,REQUEST_FAILED:xp,CONTENT_RENDERING_START:Op,CONTENT_RENDERING_SUCCEEDED:Sp,CONTENT_RENDERING_FAILED:Vp,CONTENT_RENDERING_NO_OFFERS:Lp,CONTENT_RENDERING_REDIRECT:Dp},!s[qm])return ed(e),void Ee(Uu);xe(),Ft(),zt(e),e.adobe.target.getOffer=xl,e.adobe.target.getOffers=Ol,e.adobe.target.applyOffer=Sl,e.adobe.target.applyOffers=Vl,e.adobe.target.sendNotifications=Ll,e.adobe.target.trackEvent=ql,e.adobe.target.triggerView=Zl,e.adobe.target.registerExtension=$l,e.mboxCreate=Jl,e.mboxDefine=Xl,e.mboxUpdate=Ql,bt()}}var ad,sd,rd,nd,od,id,cd,ld=s("@adobe/reactor-window"),dd=s("@adobe/reactor-document"),ud=r(s("@adobe/reactor-object-assign")),md=r(s("@adobe/reactor-cookie")),bd=r(s("@adobe/reactor-query-string")),pd=r(s("@adobe/reactor-promise")),gd=r(s("@adobe/reactor-load-script")),fd=Array.isArray,vd=Object.prototype.toString,hd="[object Function]",Pd=function Pd(e,t){return t.forEach(e)},Cd=function Cd(t,a){Pd(function(e){return t(a[e],e)},g(a))},jd=function jd(e,t){return t.filter(e)},yd=function yd(a,e){var s={};return Cd(function(e,t){a(e,t)&&(s[t]=e)},e),s},Rd="[object String]",wd=9007199254740991,Id=function Id(e,t){return t.map(e)},Ed=Object.prototype.hasOwnProperty,Td=String.prototype.trim,_d="[object Object]",kd=Function.prototype,Ad=Object.prototype,xd=kd.toString,Od=Ad.hasOwnProperty,Sd=xd.call(Object),Vd=function Vd(e){return!O(e)},Ld="[object Number]",Dd=function Dd(a,e){var s={};return Cd(function(e,t){s[t]=a(e,t)},e),s},Md=function Md(e,t,a){return a.reduce(e,t)},Fd=function Fd(a,e,t){var s=e;return Cd(function(e,t){s=a(s,e,t)},t),s},Nd=Array.prototype.reverse,Bd="type",Ud="content",qd="height",Gd="width",Hd="left",Kd="top",zd="from",Wd="to",Yd="priority",Zd="selector",$d="cssSelector",Jd="setHtml",Xd="setContent",Qd="setText",eu="setJson",tu="setAttribute",au="setImageSource",su="setStyle",ru="rearrange",nu="resize",ou="move",iu="remove",cu="customCode",lu="redirect",du="trackClick",uu="signalClick",mu="insertBefore",bu="insertAfter",pu="appendHtml",gu="appendContent",fu="prependHtml",vu="prependContent",hu="replaceHtml",Pu="replaceContent",Cu="mboxDebug",ju="mboxDisable",yu="mboxEdit",Ru="at_check",wu="true",Iu=250,Eu="data-at-src",Tu="json",_u="html",ku="dynamic",Au="script",xu="src",Ou="id",Su="class",Vu="click",Lu="head",Du="script",Mu="style",Fu="link",Nu="img",Bu="div",Uu='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',qu="Adobe Target has already been initialized.",Gu="options argument is required",Hu="request option is required",Ku="response option is required",zu="execute or prefetch is required",Wu="execute or prefetch is not allowed",Yu="notifications are required",Zu="mbox option is required",$u="mbox option is too long",Ju="success option is required",Xu="error option is required",Qu="offer option is required",em="Unexpected error",tm="request failed",am="request succeeded",sm="Action rendered successfully",rm="Rendering action",nm="Action has no content",om="Action has no attributes",im="Action has no CSS properties",cm="Action has no height or width",lm="Action has no left, top or position",dm="Action has no from or to",um="Action has no url",mm="Action has no image url",bm="Rearrange elements are missing",pm="Loading image",gm="Track event request succeeded",fm="Track event request failed",vm="No actions to be rendered",hm="Redirect action",Pm="Script load",Cm="error",jm="warning",ym="unknown",Rm="valid",wm="success",Im="render",Em="metric",Tm="mbox",_m="offer",km="name",Am="status",xm="params",Om="actions",Sm="responseTokens",Vm="data",Lm="response",Dm="request",Mm="provider",Fm="pageLoad",Nm="at-flicker-control",Bm="at-element-marker",Um="at-element-click-tracking",qm="enabled",Gm="clientCode",Hm="imsOrgId",Km="serverDomain",zm="timeout",Wm="globalMboxName",Ym="globalMboxAutoCreate",Zm="version",$m="defaultContentHiddenStyle",Jm="bodyHiddenStyle",Xm="bodyHidingEnabled",Qm="deviceIdLifetime",eb="sessionIdLifetime",tb="selectorsPollingTimeout",ab="visitorApiTimeout",sb="overrideMboxEdgeServer",rb="overrideMboxEdgeServerTimeout",nb="optoutEnabled",ob="secureOnly",ib="supplementalDataIdParamTimeout",cb="authoringScriptUrl",lb="scheme",db="cookieDomain",ub="mboxParams",mb="globalMboxParams",bb="mboxSession",pb="PC",gb="mboxEdgeCluster",fb="session",vb="Traces",hb="settings",Pb="client"+vb,Cb="server"+vb,jb="___target_traces",yb="targetGlobalSettings",Rb="dataProvider",wb=Rb+"s",Ib="endpoint",Eb="viewsEnabled",Tb="pageLoadEnabled",_b="authState",kb="authenticatedState",Ab="integrationCode",xb="page",Ob="view",Sb="views",Vb="options",Lb="metrics",Db="viewName",Mb="display",Fb="Content-Type",Nb="text/plain",Bb="View rendering failed",Ub="View delivery error",qb="View name should be a non-empty string",Gb="Page load disabled",Hb="Using server state",Kb="adobe",zb="optIn",Wb="isApproved",Yb="fetchPermissions",Zb="Categories",$b="TARGET",Jb="ANALYTICS",Xb="optinEnabled",Qb="Adobe Target is not opted in",ep="analyticsLogging",tp="serverState",ap="cspScriptNonce",sp="cspStyleNonce",rp="cache-updated-event",np="no-offers-event",op="redirect-offer-event",ip="file:",cp=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,lp=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,dp={},up=[qm,Gm,Hm,Km,db,zm,ub,mb,$m,"defaultContentVisibleStyle",Qm,Jm,Xm,tb,ab,sb,rb,nb,Xb,ob,ib,cb,"urlSizeLimit",Ib,Tb,Eb,ep,tp,ap,sp,Wm],mp=function wv(e,t){t=t||{};for(var s={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a=s.parser[t.strictMode?"strict":"loose"].exec(e),r={},n=14;n--;)r[s.key[n]]=a[n]||"";return r[s.q.name]={},r[s.key[12]].replace(s.q.parser,function(e,t,a){t&&(r[s.q.name][t]=a)}),r},bp=bd.parse,pp=bd.stringify,gp=dd.createElement("a"),fp={},vp=md.get,hp=md.set,Pp=md.remove,Cp="mbox",jp="AT:",yp="1",Rp=(ad=window,function(u){function m(e){return e._zid||(e._zid=t++)}function o(e,t,a,s){if((t=b(t)).ns)var r=n(t.ns);return(R[m(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!a||m(e.fn)===m(a))&&(!s||e.sel==s)})}function b(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function n(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function p(e,t){return e.del&&!a&&e.e in s||!!t}function g(e){return w[e]||a&&s[e]||e}function f(n,e,t,o,i,c,l){var a=m(n),d=R[a]||(R[a]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return u(document).ready(t);var a=b(e);a.fn=t,a.sel=i,a.e in w&&(t=function r(e){var t=e.relatedTarget;if(!t||t!==this&&!u.contains(this,t))return a.fn.apply(this,arguments)});var s=(a.del=c)||t;a.proxy=function(e){if(!(e=h(e)).isImmediatePropagationStopped()){e.data=o;var t=s.apply(n,e._args==C?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},a.i=d.length,d.push(a),"addEventListener"in n&&n.addEventListener(g(a.e),a.proxy,p(a,l))})}function v(t,e,a,s,r){var n=m(t);(e||"").split(/\s/).forEach(function(e){o(t,e,a,s).forEach(function(e){delete R[n][e.i],"removeEventListener"in t&&t.removeEventListener(g(e.e),e.proxy,p(e,r))})})}function h(s,r){if(r||!s.isDefaultPrevented){r||(r=s),u.each(d,function(e,t){var a=r[e];s[e]=function(){return this[t]=c,a&&a.apply(r,arguments)},s[t]=I});try{s.timeStamp||(s.timeStamp=(new Date).getTime())}catch(e){}(r.defaultPrevented!==C?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(s.isDefaultPrevented=c)}return s}function P(e){var t,a={originalEvent:e};for(t in e)l.test(t)||e[t]===C||(a[t]=e[t]);return h(a,e)}var C,t=1,j=Array.prototype.slice,r=u.isFunction,y=function y(e){return"string"==typeof e},R={},i={},a="onfocusin"in ad,s={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};i.click=i.mousedown=i.mouseup=i.mousemove="MouseEvents",u.event={add:f,remove:v},u.proxy=function(e,t){var a=2 in arguments&&j.call(arguments,2);if(r(e)){var s=function s(){return e.apply(t,a?a.concat(j.call(arguments)):arguments)};return s._zid=m(e),s}if(y(t))return a?(a.unshift(e[t],e),u.proxy.apply(null,a)):u.proxy(e[t],e);throw new TypeError("expected function")},u.fn.bind=function(e,t,a){return this.on(e,t,a)},u.fn.unbind=function(e,t){return this.off(e,t)},u.fn.one=function(e,t,a,s){return this.on(e,t,a,s,1)};var c=function c(){return!0},I=function I(){return!1},l=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,d={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};u.fn.delegate=function(e,t,a){return this.on(t,e,a)},u.fn.undelegate=function(e,t,a){return this.off(t,e,a)},u.fn.live=function(e,t){return u(document.body).delegate(this.selector,e,t),this},u.fn.die=function(e,t){return u(document.body).undelegate(this.selector,e,t),this},u.fn.on=function(a,n,o,i,c){var l,d,s=this;return a&&!y(a)?(u.each(a,function(e,t){s.on(e,n,o,t,c)}),s):(y(n)||r(i)||!1===i||(i=o,o=n,n=C),i!==C&&!1!==o||(i=o,o=C),!1===i&&(i=I),s.each(function(e,s){c&&(l=function t(e){return v(s,e.type,i),i.apply(this,arguments)}),n&&(d=function r(e){var t,a=u(e.target).closest(n,s).get(0);if(a&&a!==s)return t=u.extend(P(e),{currentTarget:a,liveFired:s}),(l||i).apply(a,[t].concat(j.call(arguments,1)))}),f(s,a,i,o,n,d||l)}))},u.fn.off=function(e,a,t){var s=this;return e&&!y(e)?(u.each(e,function(e,t){s.off(e,a,t)}),s):(y(a)||r(t)||!1===t||(t=a,a=C),!1===t&&(t=I),s.each(function(){v(this,e,t,a)}))},u.fn.trigger=function(e,t){return(e=y(e)||u.isPlainObject(e)?u.Event(e):h(e))._args=t,this.each(function(){e.type in s&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):u(this).triggerHandler(e,t)})},u.fn.triggerHandler=function(a,s){var r,n;return this.each(function(e,t){(r=P(y(a)?u.Event(a):a))._args=s,r.target=t,u.each(o(t,a.type||a),function(e,t){if(n=t.proxy(r),r.isImmediatePropagationStopped())return!1})}),n},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){u.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),u.Event=function(e,t){y(e)||(e=(t=e).type);var a=document.createEvent(i[e]||"Events"),s=!0;if(t)for(var r in t)"bubbles"==r?s=!!t[r]:a[r]=t[r];return a.initEvent(e,s,!0),h(a)}}(cd=function(){function o(e){return null==e?String(e):$[J.call(e)]||"object"}function i(e){return"function"==o(e)}function n(e){return null!=e&&e==e.window}function c(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function s(e){return"object"==o(e)}function l(e){return s(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function d(e){var t=!!e&&"length"in e&&e.length,a=E.type(e);return"function"!=a&&!n(e)&&("array"==a||0===t||"number"==typeof t&&0<t&&t-1 in e)}function r(e){return O.call(e,function(e){return null!=e})}function u(e){return 0<e.length?E.fn.concat.apply([],e):e}function m(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function a(e){return e in D?D[e]:D[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function b(e,t){return"number"!=typeof t||M[m(e)]?t:t+"px"}function t(e){var t,a;return L[e]||(t=V.createElement(e),V.body.appendChild(t),a=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==a&&(a="block"),L[e]=a),L[e]}function p(e){return"children"in e?S.call(e.children):E.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function g(e,t){var a,s=e?e.length:0;for(a=0;a<s;a++)this[a]=e[a];this.length=s,this.selector=t||""}function f(e,t,a){for(I in t)a&&(l(t[I])||te(t[I]))?(l(t[I])&&!l(e[I])&&(e[I]={}),te(t[I])&&!te(e[I])&&(e[I]=[]),f(e[I],t[I],a)):t[I]!==w&&(e[I]=t[I])}function v(e,t){return null==t?E(e):E(e).filter(t)}function h(e,t,a,s){return i(t)?t.call(e,a,s):t}function P(e,t,a){null==a?e.removeAttribute(t):e.setAttribute(t,a)}function C(e,t){var a=e.className||"",s=a&&a.baseVal!==w;if(t===w)return s?a.baseVal:a;s?a.baseVal=t:e.className=t}function j(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?E.parseJSON(t):t):t}catch(e){return t}}function y(e,t){t(e);for(var a=0,s=e.childNodes.length;a<s;a++)y(e.childNodes[a],t)}function R(e,t,a){var s=e.getElementsByTagName("script")[0];if(s){var r=s.parentNode;if(r){var n=e.createElement("script");n.innerHTML=t,Vd(a)&&n.setAttribute("nonce",a),r.appendChild(n),r.removeChild(n)}}}var w,I,E,T,_,k,A=[],x=A.concat,O=A.filter
,S=A.slice,V=ad.document,L={},D={},M={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},F=/^\s*<(\w+|!)[^>]*>/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,B=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/^(?:body|html)$/i,q=/([A-Z])/g,G=["val","css","html","text","data","width","height","offset"],H=["after","prepend","before","append"],K=V.createElement("table"),z=V.createElement("tr"),W={tr:V.createElement("tbody"),tbody:K,thead:K,tfoot:K,td:z,th:z,"*":V.createElement("div")},Y=/complete|loaded|interactive/,Z=/^[\w-]*$/,$={},J=$.toString,X={},Q=V.createElement("div"),ee={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},te=Array.isArray||function(e){return e instanceof Array};return X.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var a=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(a)return a.call(e,t);var s,r=e.parentNode,n=!r;return n&&(r=Q).appendChild(e),s=~X.qsa(r,t).indexOf(e),n&&Q.removeChild(e),s},_=function _(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},k=function k(a){return O.call(a,function(e,t){return a.indexOf(e)==t})},X.fragment=function(e,t,a){var s,r,n;return N.test(e)&&(s=E(V.createElement(RegExp.$1))),s||(e.replace&&(e=e.replace(B,"<$1></$2>")),t===w&&(t=F.test(e)&&RegExp.$1),t in W||(t="*"),(n=W[t]).innerHTML=""+e,s=E.each(S.call(n.childNodes),function(){n.removeChild(this)})),l(a)&&(r=E(s),E.each(a,function(e,t){-1<G.indexOf(e)?r[e](t):r.attr(e,t)})),s},X.Z=function(e,t){return new g(e,t)},X.isZ=function(e){return e instanceof X.Z},X.init=function(e,t){var a;if(!e)return X.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&F.test(e))a=X.fragment(e,RegExp.$1,t),e=null;else{if(t!==w)return E(t).find(e);a=X.qsa(V,e)}else{if(i(e))return E(V).ready(e);if(X.isZ(e))return e;if(te(e))a=r(e);else if(s(e))a=[e],e=null;else if(F.test(e))a=X.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==w)return E(t).find(e);a=X.qsa(V,e)}}return X.Z(a,e)},(E=function E(e,t){return X.init(e,t)}).extend=function(t){var a,e=S.call(arguments,1);return"boolean"==typeof t&&(a=t,t=e.shift()),e.forEach(function(e){f(t,e,a)}),t},X.qsa=function(e,t){var a,s="#"==t[0],r=!s&&"."==t[0],n=s||r?t.slice(1):t,o=Z.test(n);return e.getElementById&&o&&s?(a=e.getElementById(n))?[a]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:S.call(o&&!s&&e.getElementsByClassName?r?e.getElementsByClassName(n):e.getElementsByTagName(t):e.querySelectorAll(t))},E.contains=V.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},E.type=o,E.isFunction=i,E.isWindow=n,E.isArray=te,E.isPlainObject=l,E.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},E.isNumeric=function(e){var t=Number(e),a=at(e);return null!=e&&"boolean"!=a&&("string"!=a||e.length)&&!isNaN(t)&&isFinite(t)||!1},E.inArray=function(e,t,a){return A.indexOf.call(t,e,a)},E.camelCase=_,E.trim=function(e){return null==e?"":String.prototype.trim.call(e)},E.uuid=0,E.support={},E.expr={},E.noop=function(){},E.map=function(e,t){var a,s,r,n=[];if(d(e))for(s=0;s<e.length;s++)null!=(a=t(e[s],s))&&n.push(a);else for(r in e)null!=(a=t(e[r],r))&&n.push(a);return u(n)},E.each=function(e,t){var a,s;if(d(e)){for(a=0;a<e.length;a++)if(!1===t.call(e[a],a,e[a]))return e}else for(s in e)if(!1===t.call(e[s],s,e[s]))return e;return e},E.grep=function(e,t){return O.call(e,t)},ad.JSON&&(E.parseJSON=JSON.parse),E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()}),E.fn={constructor:X.Z,length:0,forEach:A.forEach,reduce:A.reduce,push:A.push,sort:A.sort,splice:A.splice,indexOf:A.indexOf,concat:function ae(){var e,t,a=[];for(e=0;e<arguments.length;e++)t=arguments[e],a[e]=X.isZ(t)?t.toArray():t;return x.apply(X.isZ(this)?this.toArray():this,a)},map:function se(a){return E(E.map(this,function(e,t){return a.call(e,t,e)}))},slice:function re(){return E(S.apply(this,arguments))},ready:function ne(e){return Y.test(V.readyState)&&V.body?e(E):V.addEventListener("DOMContentLoaded",function(){e(E)},!1),this},get:function oe(e){return e===w?S.call(this):this[0<=e?e:e+this.length]},toArray:function ie(){return this.get()},size:function ce(){return this.length},remove:function le(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function de(e){for(var t,a=this.length,s=0;s<a&&(t=this[s],!1!==e.call(t,s,t));)s++;return this},filter:function ue(t){return i(t)?this.not(this.not(t)):E(O.call(this,function(e){return X.matches(e,t)}))},add:function me(e,t){return E(k(this.concat(E(e,t))))},is:function be(e){return 0<this.length&&X.matches(this[0],e)},not:function pe(t){var a=[];if(i(t)&&t.call!==w)this.each(function(e){t.call(this,e)||a.push(this)});else{var s="string"==typeof t?this.filter(t):d(t)&&i(t.item)?S.call(t):E(t);this.forEach(function(e){s.indexOf(e)<0&&a.push(e)})}return E(a)},has:function ge(e){return this.filter(function(){return s(e)?E.contains(this,e):E(this).find(e).size()})},eq:function fe(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function ve(){var e=this[0];return e&&!s(e)?e:E(e)},last:function he(){var e=this[this.length-1];return e&&!s(e)?e:E(e)},find:function Pe(e){var a=this;return e?"object"==at(e)?E(e).filter(function(){var t=this;return A.some.call(a,function(e){return E.contains(e,t)})}):1==this.length?E(X.qsa(this[0],e)):this.map(function(){return X.qsa(this,e)}):E()},closest:function Ce(a,s){var r=[],n="object"==at(a)&&E(a);return this.each(function(e,t){for(;t&&!(n?0<=n.indexOf(t):X.matches(t,a));)t=t!==s&&!c(t)&&t.parentNode;t&&r.indexOf(t)<0&&r.push(t)}),E(r)},parents:function je(e){for(var t=[],a=this;0<a.length;)a=E.map(a,function(e){if((e=e.parentNode)&&!c(e)&&t.indexOf(e)<0)return t.push(e),e});return v(t,e)},parent:function ye(e){return v(k(this.pluck("parentNode")),e)},children:function Re(e){return v(this.map(function(){return p(this)}),e)},contents:function we(){return this.map(function(){return this.contentDocument||S.call(this.childNodes)})},siblings:function Ie(e){return v(this.map(function(e,t){return O.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function Ee(){return this.each(function(){this.innerHTML=""})},pluck:function Te(t){return E.map(this,function(e){return e[t]})},show:function _e(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=t(this.nodeName))})},replaceWith:function ke(e){return this.before(e).remove()},wrap:function Ae(t){var a=i(t);if(this[0]&&!a)var s=E(t).get(0),r=s.parentNode||1<this.length;return this.each(function(e){E(this).wrapAll(a?t.call(this,e):r?s.cloneNode(!0):s)})},wrapAll:function xe(e){if(this[0]){var t;for(E(this[0]).before(e=E(e));(t=e.children()).length;)e=t.first();E(e).append(this)}return this},wrapInner:function Oe(r){var n=i(r);return this.each(function(e){var t=E(this),a=t.contents(),s=n?r.call(this,e):r;a.length?a.wrapAll(s):t.append(s)})},unwrap:function Se(){return this.parent().each(function(){E(this).replaceWith(E(this).children())}),this},clone:function Ve(){return this.map(function(){return this.cloneNode(!0)})},hide:function Le(){return this.css("display","none")},toggle:function De(t){return this.each(function(){var e=E(this);(t===w?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function Me(e){return E(this.pluck("previousElementSibling")).filter(e||"*")},next:function Fe(e){return E(this.pluck("nextElementSibling")).filter(e||"*")},html:function Ne(a){return 0 in arguments?this.each(function(e){var t=this.innerHTML;E(this).empty().append(h(this,a,e,t))}):0 in this?this[0].innerHTML:null},text:function Be(a){return 0 in arguments?this.each(function(e){var t=h(this,a,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this.pluck("textContent").join(""):null},attr:function Ue(t,a){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(s(t))for(I in t)P(this,I,t[I]);else P(this,t,h(this,a,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(e=this[0].getAttribute(t))?e:w},removeAttr:function qe(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){P(this,e)},this)})},prop:function Ge(t,a){return t=ee[t]||t,1 in arguments?this.each(function(e){this[t]=h(this,a,e,this[t])}):this[0]&&this[0][t]},removeProp:function He(e){return e=ee[e]||e,this.each(function(){delete this[e]})},data:function e(t,a){var s="data-"+t.replace(q,"-$1").toLowerCase(),e=1 in arguments?this.attr(s,a):this.attr(s);return null!==e?j(e):w},val:function Ke(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=h(this,t,e,this.value)})):this[0]&&(this[0].multiple?E(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function ze(n){if(n)return this.each(function(e){var t=E(this),a=h(this,n,e,t.offset()),s=t.offsetParent().offset(),r={top:a.top-s.top,left:a.left-s.left};"static"==t.css("position")&&(r.position="relative"),t.css(r)});if(!this.length)return null;if(V.documentElement!==this[0]&&!E.contains(V.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+ad.pageXOffset,top:e.top+ad.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function e(t,a){if(arguments.length<2){var s=this[0];if("string"==typeof t){if(!s)return;return s.style[_(t)]||getComputedStyle(s,"").getPropertyValue(t)}if(te(t)){if(!s)return;var r={},n=getComputedStyle(s,"");return E.each(t,function(e,t){r[t]=s.style[_(t)]||n.getPropertyValue(t)}),r}}var e="";if("string"==o(t))a||0===a?e=m(t)+":"+b(t,a):this.each(function(){this.style.removeProperty(m(t))});else for(I in t)t[I]||0===t[I]?e+=m(I)+":"+b(I,t[I])+";":this.each(function(){this.style.removeProperty(m(I))});return this.each(function(){this.style.cssText+=";"+e})},index:function We(e){return e?this.indexOf(E(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function Ye(e){return!!e&&A.some.call(this,function(e){return this.test(C(e))},a(e))},addClass:function Ze(a){return a?this.each(function(e){if("className"in this){T=[];var t=C(this);h(this,a,e,t).split(/\s+/g).forEach(function(e){E(this).hasClass(e)||T.push(e)},this),T.length&&C(this,t+(t?" ":"")+T.join(" "))}}):this},removeClass:function $e(t){return this.each(function(e){if("className"in this){if(t===w)return C(this,"");T=C(this),h(this,t,e,T).split(/\s+/g).forEach(function(e){T=T.replace(a(e)," ")}),C(this,T.trim())}})},toggleClass:function Je(a,s){return a?this.each(function(e){var t=E(this);h(this,a,e,C(this)).split(/\s+/g).forEach(function(e){(s===w?!t.hasClass(e):s)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function Xe(e){if(this.length){var t="scrollTop"in this[0];return e===w?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function Qe(e){if(this.length){var t="scrollLeft"in this[0];return e===w?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function et(){if(this.length){var e=this[0],t=this.offsetParent(),a=this.offset(),s=U.test(t[0].nodeName)?{top:0,left:0}:t.offset();return a.top-=parseFloat(E(e).css("margin-top"))||0,a.left-=parseFloat(E(e).css("margin-left"))||0,s.top+=parseFloat(E(t[0]).css("border-top-width"))||0,s.left+=parseFloat(E(t[0]).css("border-left-width"))||0,{top:a.top-s.top,left:a.left-s.left}}},offsetParent:function tt(){return this.map(function(){for(var e=this.offsetParent||V.body;e&&!U.test(e.nodeName)&&"static"==E(e).css("position");)e=e.offsetParent;return e})}},E.fn.detach=E.fn.remove,["width","height"].forEach(function(s){var r=s.replace(/./,function(e){return e[0].toUpperCase()});E.fn[s]=function(t){var e,a=this[0];return t===w?n(a)?a["inner"+r]:c(a)?a.documentElement["scroll"+r]:(e=this.offset())&&e[s]:this.each(function(e){(a=E(this)).css(s,h(this,t,e,a[s]()))})}}),H.forEach(function(t,d){var u=d%2;E.fn[t]=function(){var a,i,c=E.map(arguments,function(e){var t=[];return"array"==(a=o(e))?(e.forEach(function(e){return e.nodeType!==w?t.push(e):E.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(X.fragment(e)))}),t):"object"==a||null==e?e:X.fragment(e)}),l=1<this.length;return c.length<1?this:this.each(function(e,t){i=u?t:t.parentNode,t=0==d?t.nextSibling:1==d?t.firstChild:2==d?t:null;var a=E.contains(V.documentElement,i),s=/^(text|application)\/(javascript|ecmascript)$/,r=st(),n=r[ap],o=r[sp];c.forEach(function(e){if(l)e=e.cloneNode(!0);else if(!i)return E(e).remove();Vd(n)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",n),Vd(o)&&"STYLE"===e.tagName&&e.setAttribute("nonce",o),i.insertBefore(e,t),a&&y(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!s.test(e.type.toLowerCase())||e.src||R(V,e.innerHTML,e.nonce)})})})},E.fn[u?t+"To":"insert"+(d?"Before":"After")]=function(e){return E(e)[t](this),this}}),X.Z.prototype=g.prototype=E.fn,X.uniq=k,X.deserializeValue=j,E.zepto=X,E}()),function(){try{getComputedStyle(undefined)}catch(e){var a=getComputedStyle;ad.getComputedStyle=function(e,t){try{return a(e,t)}catch($aa){return null}}}}(),rd=(sd=cd).zepto,nd=rd.qsa,od=/^\s*>/,id="Zepto"+ +new Date,rd.qsa=function(t,a){var s,r,n=a;try{n?od.test(n)&&(r=sd(t).addClass(id),n="."+id+" "+n):n="*",s=nd(t,n)}catch(e){throw e}finally{r&&r.removeClass(id)}return s},cd),wp=ld.MutationObserver||ld.WebkitMutationObserver,Ip="Expected an array of promises";pd._setImmediateFn&&Fe();var Ep=K(),Tp=/.*\.(\d+)_\d+/;lt(ld,dd);var _p="at-library-loaded",kp="at-request-start",Ap="at-request-succeeded",xp="at-request-failed",Op="at-content-rendering-start",Sp="at-content-rendering-succeeded",Vp="at-content-rendering-failed",Lp="at-content-rendering-no-offers",Dp="at-content-rendering-redirect",Mp=":eq(",Fp=")",Np=Mp.length,Bp=/((\.|#)(-)?\d{1})/g,Up="Unable to load target-vec.js",qp="Loading target-vec.js",Gp="_AT",Hp="clickHandlerForExperienceEditor",Kp="currentView",zp="at_qa_mode",Wp="at_preview_token",Yp="at_preview_index",Zp="at_preview_listed_activities_only",$p="at_preview_evaluate_as_true_audience_ids",Jp="at_preview_evaluate_as_false_audience_ids",Xp="_",Qp=function Qp(e){return!p(e)},eg="at-",tg="at-body-style",ag="#"+tg,sg=eg+"views",rg="Disabled due to optout",ng="MCAAMB",og="MCAAMLH",ig="MCMID",cg="MCOPTOUT",lg="getSupplementalDataID",dg="getCustomerIDs",ug="trackingServer",mg=ug+"Secure",bg="Visitor",pg="getInstance",gg="isAllowed",fg="Visitor API requests timed out",vg="Visitor API requests error",hg={},Pg="Data provider",Cg="timed out",jg=2e3,yg="authorization",Rg="mboxDebugTools",wg=ns(),Ig="profile.",Eg="mbox3rdPartyId",Tg="at_property",_g="orderId",kg="orderTotal",Ag="productPurchasedId",xg="productId",Og="categoryId",Sg="POST",Vg="Network request failed",Lg="Request timed out",Dg="Malformed response JSON",Mg="web",Fg="mboxedge",Ng=".tt.omtrdc.net",Bg=function Bg(e){return!A(e)},Ug=function Ug(t){return function(e){return e[t]}},qg=function qg(t){return function(e){return!t(e)}},Gg=qg(p),Hg=function Hg(t){return function(e){return f(t,e)}},Kg=function Kg(e){return e.status===Cm},zg=function zg(e){return e.type===Om},Wg=function Wg(e){return e.type===lu},Yg=Hg(Gg),Zg=Ug(Vb),$g=Ug(Ud),Jg=Ug(Sm),Xg=function Xg(e){return Vd(e.name)},Qg=function Qg(e){return!p(e.index)},ef=function ef(e){return u(e)&&Xg(e)},tf=function tf(e){return u(e)&&Xg(e)&&Qg(e)},af=function af(e){return u(e)&&Xg(e)},sf=function sf(e){return Vd(e.selector)},rf=Ug(Vm),nf=P([rf,Gg]),of="adobe_mc_sdid",cf="Network request failed",lf="Request timed out",df="URL is required",uf="GET",mf="POST",bf="method",pf="url",gf="headers",ff="data",vf="credentials",hf="timeout",Pf="async",Cf=/CLKTRK#(\S+)/,jf=/CLKTRK#(\S+)\s/,yf=function Qp(e){return!p(e)},Rf="visibilityState",wf="visible",If=100,Ef=Du+","+Fu+","+Mu,Tf="at-action-key",_f="metric element not found",kf="navigator",Af="sendBeacon",xf="Beacon data sent",Of="Beacon data sent failed",Sf="View triggered notification",Vf="View rendered notification",Lf="Mboxes rendered notification",Df="Event handler notification",Mf="Mbox event handler notification",Ff="View event handler notification",Nf="prefetchMboxes",Bf="rendered",Uf="triggered",qf={},Gf="pageLoadMetrics",Hf="prefetchMetrics",Kf=Ug(Lb),zf=function zf(){return br(Em)},Wf=function Wf(e){return pr(Em,e)},Yf=Ug(Ud),Zf=Ug($d),$f=function $f(e){return br(Im,e)},Jf=function Jf(e){return pr(Im,e)},Xf=function Xf(e){return qg(Kg)(e)&&nf(e)};sc.prototype={on:function(e,t,a){var s=this.e||(this.e={});return(s[e]||(s[e]=[])).push({fn:t,ctx:a}),this},once:function(e,t,a){function s(){r.off(e,s),t.apply(a,arguments)}var r=this;return s._=t,this.on(e,s,a)},emit:function(e){for(var t=[].slice.call(arguments,1),a=((this.e||(this.e={}))[e]||[]).slice(),s=0,r=a.length;s<r;s++)a[s].fn.apply(a[s].ctx,t);return this},off:function(e,t){var a=this.e||(this.e={}),s=a[e],r=[];if(s&&t)for(var n=0,o=s.length;n<o;n++)s[n].fn!==t&&s[n].fn._!==t&&r.push(s[n]);return r.length?a[e]=r:delete a[e],this}};var Qf=sc,ev=sc;Qf.TinyEmitter=ev;var tv=rc(),av="Page load rendering failed",sv="Mboxes rendering failed",rv="View rendering failed",nv="Prefetch rendering failed",ov=function ov(e){return!A(f(Kg,e))},iv="[page-init]",cv="[getOffer()]",lv="[getOffers()]",dv="[applyOffer()]",uv="[applyOffers()]",mv="[sendNotifications()]",bv="[trackEvent()]",pv="[triggerView()]",gv=[],fv=1,vv=0;zl();var hv="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",Pv="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Cv="mboxCreate() "+hv,jv="mboxDefine() "+hv,yv="mboxUpdate() "+hv,Rv={init:td,initConfig:X,initDelivery:Qc};t.exports=Rv}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,a){"use strict";function o(e){return null!=e.value&&null!=e.checked}function s(r){var n={};return Object.keys(r).forEach(function(e){var t=r[e];if(o(t)){var a=t.checked,s=t.value;a&&""===s||(n[e]=s)}else n[e]=t}),n}function r(e){var t=s(e);l(d,t)}function n(e){var t=s(e);l(u,t)}function i(){return d}function c(){return u}var l=a("./object-override"),d={},u={};e.exports={mergeParams:r,mergePageLoadParams:n,getParams:i,getPageLoadParams:c}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function s(e,t,a,s){t[a]!==s&&(e[a]=t[a])}function r(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(t,a,e){Object.keys(a).filter(r,{subset:e}).forEach(function(e){s(t,a,e)})}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";var t={version:"2.3.3"};e.exports={TARGET_DEFAULT_SETTINGS:t}}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,a){"use strict";var s=a("../librarySettings"),r=a("@adobe/reactor-window"),n=a("./object-override"),o=a("./params-store"),i=o.getParams,c=o.getPageLoadParams,l=a("../targetSettings").targetSettings;e.exports=function(e){return l.mboxParams=i(),l.globalMboxParams=c(),n(l,e,["bodyHidingEnabled","bodyHiddenStyle"]),n(l,r.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),n(l,s.TARGET_DEFAULT_SETTINGS||{},["version"]),l}}}},settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.3.2",endpoint:"/rest/v1/delivery",imsOrgId:"B52D1CFE5330949C0A490D45@AdobeOrg",clientCode:"bmwag",secureOnly:!1,serverState:{},optinEnabled:!0,serverDomain:"bmwag.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,globalMboxName:"target-global-mbox",bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP71d35eb3c08845a8b184c539ba8df0fa/"},"common-analytics-plugins":{displayName:"Common Analytics Plugins",modules:{"common-analytics-plugins/src/lib/actions/initializeGetDaysSinceLastVisit.js":{name:"initialize-getdayssincelastvisit",displayName:"Initialize getDaysSinceLastVisit",script:function(e,t,a,s){"use strict";s.getSharedModule("adobe-analytics","augment-tracker")(function(e){e.getDaysSinceLastVisit=function(){var e=new Date,t=e.getTime(),a=this.c_r("s_dslv");if(e.setTime(t+94608e6),this.c_w("s_dslv",t,e),a){if(18e5<(e=t-a)){if(31536e6<e)return"More than a year";if(2592e6<e)return"More than 30 days";if(e<2592e6+1&&6048e5<e)return"More than 7 days";if(e<6048e5+1&&864e5<e)return"Less than 7 days";if(e<864e5+1)return"Less than 1 day"}return""}return"New Visitor"}}),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js":{name:"initialize-gettimeparting",displayName:"Initialize getTimeParting",script:function(e){"use strict";window.getTimeParting=function(e){return e=document.documentMode?void 0:e||"Etc/GMT",e=(new Date).toLocaleDateString("en-US",{timeZone:e,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(e=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(e))[4]+" | month="+e[2]+" | date="+e[3]+" | day="+e[1]+" | time="+(e[6]+e[7])},e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeApl.js":{name:"initialize-apl",displayName:"Initialize APL (Append To List)",script:function(e,t,a,s){"use strict";s.getSharedModule("adobe-analytics","augment-tracker")(function(e){e.inList=function(e,t,a,s){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(a||",");else if("object"!=typeof e)return!1;a=0;for(var r=e.length;a<r;a++)if(1==s&&t===e[a]||t.toLowerCase()===e[a].toLowerCase())return!0;return!1},e.apl=function(e,t,a,s,r){if(!e||"string"==typeof e){if("undefined"==typeof this.inList||"string"!=typeof t||""===t)return e;a=a||",",1==(s=s||a)&&(s=a,r||(r=1)),2==s&&1!=r&&(s=a);for(var n=(t=t.split(",")).length,o=0;o<n;o++)this.inList(e,t[o],a,r)||(e=e?e+s+t[o]:t[o])}return e}}),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js":{name:"initialize-getpreviousvalue",displayName:"Initialize getPreviousValue",script:function(e,t,a,s){"use strict";s.getSharedModule("adobe-analytics","augment-tracker")(function(e){e.getPreviousValue=function(e,t,a){var s=this,r="",n=!0;if(t=t||"s_gpv",a){n=!1,a=a.split(",");for(var o=s.events?s.events.split(","):"",i=0,c=a.length;i<c;i++){for(var l=0,d=o.length;l<d;l++)if(a[i]===o[l]){n=!0;break}if(!0===n)break}}return!0===n&&((n=new Date).setTime(n.getTime()+18e5),s.c_r(t)&&(r=s.c_r(t)),e?s.c_w(t,e,n):s.c_w(t,"no previous value",n)),r},e.p_fo=function(e){var t=this;return t.__fo||(t.__fo={}),!t.__fo[e]&&(t.__fo[e]={},!0)}}),e.exports=function(){}}}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP627a25c51967405590ccc51bba101d07/"},"adobe-analytics":{displayName:"Adobe Analytics",modules:{"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,a,s){"use strict";var r=a("../sharedModules/getTracker");e.exports=function(){return r().then(function(e){e.clearVars&&(s.logger.info("Clear variables."),e.clearVars())},function(e){s.logger.error("Cannot clear variables: "+e)})}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,a,r){"use strict";var s=a("../sharedModules/getTracker"),n=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},o=function(e){return n(e)?e.innerHTML:"link clicked"},i=function(e,t,a){if("page"===t.type)r.logger.info("Firing page view beacon."),e.t();else{var s={linkType:t.linkType||"o",linkName:t.linkName||o(a)};r.logger.info("Firing link track beacon using the values: "+JSON.stringify(s)+"."),e.tl(n(a)?a:"true",s.linkType,s.linkName)}};e.exports=function(t,a){return s().then(function(e){i(e,t,a.element)},function(e){r.logger.error("Cannot send beacon: "+e)})}}},"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,a,s){"use strict";var r=a("../sharedModules/getTracker"),n=a("../helpers/applyTrackerVariables");e.exports=function(t,a){return r().then(function(e){s.logger.info("Set variables on the tracker."),n(e,t.trackerProperties),t.customSetup&&t.customSetup.source&&t.customSetup.source.call(a.element,a,e)},function(e){s.logger.error("Cannot set variables: "+e)})}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(t,a,s,r){"use strict";var n,o=s("@adobe/reactor-cookie"),i=s("@adobe/reactor-promise"),c=s("@adobe/reactor-window"),l=s("../helpers/settingsHelper"),d=s("../helpers/augmenters"),u=s("../helpers/applyTrackerVariables"),m=s("../helpers/loadLibrary"),b=s("../helpers/generateVersion")(r.buildInfo.turbineBuildDate),p="beforeSettings",g=r.getSharedModule("adobe-mcid","mcid-instance"),f=function(e){return!e||"true"===o.get(e)},v=function(s){return i.all(d.map(function(t){var a;try{a=t(s)}catch(e){setTimeout(function(){throw e})}return i.resolve(a)})).then(function(){return s})},h=function(e){return g&&(r.logger.info("Setting MCID instance on the tracker."),e.visitor=g),e},P=function(e){return r.logger.info('Setting version on tracker: "'+b+'".'),"undefined"!=typeof e.tagContainerMarker?e.tagContainerMarker=b:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+b&&(e.version+="-"+b),e},C=function(e,t,a){return t.loadPhase===p&&t.source&&(r.logger.info("Calling custom script before settings."),t.source.call(c,a)),u(a,e||{}),t.loadPhase!==p&&t.source&&(r.logger.info("Calling custom script after settings."),t.source.call(c,a)),a},j=function(e,t){return l.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),r.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},y=(n=r.getExtensionSettings(),f(n.trackingCookieName)?m(n).then(v).then(h).then(P).then(C.bind(null,n.trackerProperties,n.customSetup||{})).then(j.bind(null,n)):i.reject("EU compliance was not acknowledged by the user."));t.exports=function(){return y}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,a){"use strict";var s=a("../helpers/augmenters");e.exports=function(e){s.push(e)}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,a,s){"use strict";var r=a("@adobe/reactor-window"),n={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[s.buildInfo.environment]&&(t=e[s.buildInfo.environment]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&r&&r._satellite&&r._satellite.company&&r._satellite.company.orgId&&(t=!0),t}};e.exports=n}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,a,o){"use strict";var r=a("@adobe/reactor-query-string"),n=a("@adobe/reactor-window"),i=/eVar([0-9]+)/,c=/prop([0-9]+)/,l=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),d=function(e,t,a){return a.indexOf(e)===t},u=function(e,t,a){var s=Object.keys(t).filter(l.test.bind(l));return a&&s.push("events"),(s=s.concat((e.linkTrackVars||"").split(","))).filter(function(e,t){return"None"!==e&&e&&d(e,t,s)}).join(",")},m=function(e,t){var a=t.map(function(e){return e.name});return(a=a.concat((e.linkTrackEvents||"").split(","))).filter(function(e,t){return"None"!==e&&d(e,t,a)}).join(",")},s=function(e,t,a){e[t]=a[t].join(",")},b=function(r,e,t){var n=t.dynamicVariablePrefix||"D=";t[e].forEach(function(e){var t;if("value"===e.type)t=e.value;else{var a=i.exec(e.value);if(a)t=n+"v"+a[1];else{var s=c.exec(e.value);s&&(t=n+"c"+s[1])}}r[e.name]=t})},p={linkDownloadFileTypes:s,linkExternalFilters:s,linkInternalFilters:s,hierarchies:function(t,e,a){a[e].forEach(function(e){t[e.name]=e.sections.join(e.delimiter)})},props:b,eVars:b,campaign:function(e,t,a){if("queryParam"===a[t].type){var s=r.parse(n.location.search);e[t]=s[a[t].value]}else e[t]=a[t].value},events:function(e,t,a){var s=a[t].map(function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t});e[t]=s.join(",")}};e.exports=function(t,s){var r={};s=s||{},Object.keys(s).forEach(function(e){var t=p[e],a=s[e];t?t(r,e,s):r[e]=a}),r.events&&t.events&&0<t.events.length&&(r.events=t.events+","+r.events);var e=s&&s.events&&0<s.events.length,a=u(t,r,e);a&&(r.linkTrackVars=a);var n=m(t,s.events||[]);n&&(r.linkTrackEvents=n),o.logger.info('Applying the following properties on tracker: "'+JSON.stringify(r)+'".'),Object.keys(r).forEach(function(e){t[e]=r[e]})}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,a,s){"use strict";var r=a("@adobe/reactor-load-script"),n=a("@adobe/reactor-window"),o=a("@adobe/reactor-promise"),i=a("./settingsHelper"),c=a("./pollHelper"),l=function(e,t){if(!n.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+n.AppMeasurement);s.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var a=n.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(s.logger.info("Setting the tracker as window.s"),n.s=a),a},d=function(e){var t=[];switch(e.libraryCode.type){case i.LIB_TYPES.MANAGED:t.push(s.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.APP_MEASUREMENT)),i.isActivityMapEnabled(e)&&t.push(s.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case i.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case i.LIB_TYPES.REMOTE:t.push("https:"===n.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(i.isAudienceManagementEnabled(e)){var a={namespace:n._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=a,t.push(s.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},u=function(e){return o.all(d(e).map(function(e){return s.logger.info("Loading script: "+e),r(e)}))},m=function(e,t){if(e.libraryCode.accounts)if(t.sa){var a=i.getReportSuites(e.libraryCode.accounts);s.logger.info('Setting the following report suites on the tracker: "'+a+'"'),t.sa(a)}else s.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},b=function(e){if(n[e])return s.logger.info('Found tracker located at: "'+e+'".'),n[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=u(e);switch(e.libraryCode.type){case i.LIB_TYPES.MANAGED:var a=i.getReportSuites(e.libraryCode.accounts);return t.then(l.bind(null,e,a));case i.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,n,e.libraryCode.trackerVariableName)).then(m.bind(null,e));case i.LIB_TYPES.CUSTOM:case i.LIB_TYPES.REMOTE:return t.then(b.bind(null,e.libraryCode.trackerVariableName)).then(m.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,a=function(e){return e.getUTCDate().toString(36)},s=function(e){return e.substr(e.length-1)},r=function(e){return Math.floor(e.getUTCHours()/t)},n=function(e){var t=(e.getUTCMonth(
)+1+12*r(e)).toString(36);return s(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+n(t)+a(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,a,s){"use strict";var o=a("@adobe/reactor-promise"),i=40,c=250,l=function(e,t,a){s.logger.info('Found property located at: "'+t+'"].'),e(a)},r=function(r,n){return new o(function(e,t){if(r[n])return l(e,n,r[n]);var a=1,s=setInterval(function(){r[n]&&(l(e,n,r[n]),clearInterval(s)),i<=a&&(clearInterval(s),t(new Error('Bailing out. Cannot find the variable name: "'+n+'"].'))),a++},c)})};e.exports={poll:function(e,t){return s.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),r(e,t)}}}}},settings:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",customSetup:{source:function(r){try{var C=function(){try{var t=_satellite.getVar("AAM-initConfig"),a=function(e){r.contextData["cm.ssf"]=e,r.linkTrackVars=r.apl(r.linkTrackVars,"contextData.cm.ssf",",")};t?(r.AudienceManagement.setup(t),a("true"===_satellite.getVar("isAAMAllowed")?"0":"1")):a("1")}catch(e){var s={from:"AA",type:"DE",name:"Customize Page Code - doAAMConfig"};_satellite.logger.error(e,s)}},j=function(){var e,t,a=this,s=/eVar|prop|pageName|channel|hier/,r=_satellite.getVar("AA-Exclusionlist");for(e in a)t=a[e],Object.prototype.hasOwnProperty.call(a,e)&&"string"==typeof t&&s.test(e)&&-1===r.indexOf(e)&&(a[e]=t.toLowerCase());return a},y=_satellite.getVar("removePII");r.usePlugins=!0,r.doPlugins=function(t){try{C(),t=j.call(t),(t=y(t)).pageURL=t.pageURL?y(t.pageURL):y(window.location.href),t.referrer=t.referrer?y(t.referrer):y(document.referrer),t.getPercentPageViewed();var a=_satellite.getVar("snapshotDL");t.prop3=_satellite.getVar("pa_cat_primaryCategory"),t.eVar131=_satellite.getVar("lastTwoDigitsOfMID")(),t.linkTrackVars+=",eVar131","bmw.de"===_satellite.getVar("topLevelDomain")&&(t.prop35=_satellite.getVar("final_score"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop35",",")),"bmw.de"!==_satellite.getVar("topLevelDomain")&&"bmw.fr"!==_satellite.getVar("topLevelDomain")&&"bmw.it"!==_satellite.getVar("topLevelDomain")&&"bmw.co.uk"!==_satellite.getVar("topLevelDomain")&&"bmw.ru"!==_satellite.getVar("topLevelDomain")||(t.prop34=_satellite.getVar("AA-contextData")(t),t.linkTrackVars=t.apl(t.linkTrackVars,"prop34",",")),t.eVar34&&-1<t.eVar34.indexOf("impression")&&(t.events=t.apl(t.events,"event925,event926"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event925,event926")),t.eVar34&&-1<t.eVar34.indexOf("download")&&(t.events=t.apl(t.events,"event903,event904"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event903,event904")),t.prop56&&"error"==t.prop56&&t.prop54&&"js error"!=t.prop54&&(t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932")),t.prop56&&t.prop53&&"interaction"==t.prop56&&("success"==t.prop53||"ux"==t.prop53)&&(t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918")),-1==a.get("pageInstanceId").indexOf("error-pool/")&&(t.pageName=t.prop1);var s=document.referrer,r=_satellite.getVar("smartPreviousValueManager");if("bmw.de"===_satellite.getVar("topLevelDomain")&&r.get("pathName")&&-1===r.get("pathName").indexOf("?")&&-1===s.indexOf("configure.bmw.de")&&-1===s.indexOf("neuwagensuche.html")){t.eVar22=r.get("pathName"),t.events=t.apl(t.events,"event125="+t._ppvInitialPercentViewed,",",1),t.events=t.apl(t.events,"event126="+t._ppvHighestPercentViewed,",",1),t.events=t.apl(t.events,"event127="+t._ppvHighestPixelsSeen,",",1),t.events=t.apl(t.events,"event129="+t._ppvFoldsAvailable,",",1),t.events=t.apl(t.events,"event130="+t._ppvFoldsSeen,",",1);var n=100/t._ppvHighestPercentViewed*t._ppvHighestPixelsSeen;n=n?n.toFixed(0):"na",t.events=t.apl(t.events,"event128="+n,",",1)}t.prop12=Date.now();var o={development:"dev",staging:"staging",production:"prod"};t.eVar135=o[_satellite.buildInfo.environment||"development"],t.linkTrackVars=t.apl(t.linkTrackVars,"prop12,eVar135",",");var c=_satellite.getVar("pa_pag_pageTitle"),l=document.title;if(c=-1<c.indexOf("datalayer")?l.toLowerCase():c.toLowerCase(),(t.eVar18==c&&"bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking"!=t.prop74||"datalayer field missing"==t.prop50||"datalayer field empty"==t.prop50)&&(t.prop50="page title"),t.eVar8||(t.eVar8=a.get("page.pageInfo.geoRegion"),_satellite.getVar("AA-marketCodes").indexOf(t.eVar8)<0&&(t.account="bmwgroup.group.global.test",t.eVar138="wrong market code",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar138",","))),!t.products){var d=_satellite.getVar("setDefaultProductVariables");t.products=d.toString()}var u=window.location.search;if(("datalayer field missing"==t.eVar52||t.eVar52==undefined)&&"bmw.de"==_satellite.getVar("topLevelDomain")&&""==u){var m="";-1<window.location.pathname.indexOf("/forms/angebotsanfrage/")&&0==window.location.hash.length&&(m=$(".headline.guidetextdraw.guidefield h3").text().split(" ").slice(0,2).join(" ").toLowerCase(),t.products=";;;;;eVar52="+m),-1<window.location.pathname.indexOf("/forms/angebotsanfrage/angebot-anfordern.html")&&0<window.location.hash.length&&(m=$(".headline.guidetextdraw.guidefield h4").text().trim().toLowerCase(),t.products=";;;;;eVar52="+m)}if(_satellite.getVar("AA-setFallbackValues"),"bmw.pt"==_satellite.getVar("topLevelDomain")&&t&&t.products){var b=a.get("product.-1.attributes.mmdr"),p=b;if(p){var g=/[a-z]{1}[0-9]{2}/i,f=p.match(g);p=f&&f.length?f[0].toUpperCase():"datalayer field empty"}if(p!=b){var v=(t.products.match(/[/]/g)||[]).length;for(i=0;i<v/2;i++)t.products=t.products.replace(b,p)}}-1!=_satellite.getVar("topLevelDomain").indexOf("bmw")?t.prop13="bmw":-1!=_satellite.getVar("topLevelDomain").indexOf("mini")?t.prop13="mini":(t.account="bmwgroup.group.global.test","undefined"==typeof t.eVar138?t.eVar138="wrong brand":t.eVar138=t.eVar138+"~wrong brand",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar138",","));var h=(a=_satellite.getVar("snapshotDL")).get("page.category.subCategory03");t.prop30=h,t.linkTrackVars=t.apl(t.linkTrackVars,"prop30",","),"Cookie drawer impression"==t.linkName&&"bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking"==t.prop74&&(t.abort=!0),"bmw.it"===_satellite.getVar("topLevelDomain")&&(null!=window.localStorage.getItem("hashedid")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:window.localStorage.getItem("hashedid"),authState:1}}),""!=_satellite.getVar("AAM-hashedemail")&&_satellite.getVar("AAM-hashedemail")!=undefined&&null!=_satellite.getVar("AAM-hashedemail")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:_satellite.getVar("AAM-hashedemail"),authState:1}}),""!=_satellite.getVar("AAM-hasheducid")&&_satellite.getVar("AAM-hasheducid")!=undefined&&null!=_satellite.getVar("AAM-hasheducid")&&_satellite.getVisitorId().setCustomerIDs({bmwcrmdata:{id:_satellite.getVar("AAM-hasheducid"),authState:1}}),""!=_satellite.getVar("AAM-hashedid_cookie")&&typeof _satellite.getVar("AAM-hashedid_cookie")!=undefined&&null!=_satellite.getVar("AAM-hashedid_cookie")&&"undefined"!=_satellite.getVar("AAM-hashedid_cookie")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:_satellite.getVar("AAM-hashedid_cookie"),authState:1}}))}catch(e){var P={from:"AA",type:"Config",name:"Customize Page Code - Do Plugin"};_satellite.logger.error(e,P)}},r.registerPostTrackCallback(function(){try{var t=_satellite.getVar("snapshotDL"),a=t.get("event.-1.eventInfo.eventName"),s=t.get("event.-1.attributes.consentItemName"),r=_satellite.getVar("KIT-helpers").cache,n=r.get("analyticsConsentRejected")||"false";("reject consent"==a&&"analytics"==s||"true"==n)&&(r.set("analyticsConsentRejected","false"),adobe.optIn.deny(adobe.OptInCategories.ECID),adobe.optIn.deny(adobe.OptInCategories.ANALYTICS))}catch(e){var o={from:"AA",type:"AA-Extension",name:"Customize Page Code - registerPostTrackCallback"};_satellite.logger.error(e,o)}})}catch(e){var t={from:"AA",type:"Config",name:"Customize Page Code"};_satellite.logger.error(e,t)}}},libraryCode:{type:"managed",accounts:{staging:["%AA-reportSuite%"],production:["%AA-reportSuite%"],development:["%AA-reportSuite%"]},useActivityMap:!0,scopeTrackerGlobally:!0},moduleProperties:{audienceManager:{config:{partner:"%AAM-dummyPartnerID%"}}},trackerProperties:{charSet:"UTF-8",currencyCode:"%AA-currencyCode%",cookieLifetime:"63072000",trackingServer:"bmwag.d3.sc.omtrdc.net",trackInlineStats:!1,trackDownloadLinks:!1,trackExternalLinks:!1,cookieDomainPeriods:"%cookieDomainPeriods%",trackingServerSecure:"bmwag.d3.sc.omtrdc.net",dynamicVariablePrefix:"d=",fpCookieDomainPeriods:"%cookieDomainPeriods%"}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbde2f7ca14e540399dcc1f8208860b7b/"},"adobe-mcid":{displayName:"Experience Cloud ID Service",modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,a,p){"use strict";var s=a("@adobe/reactor-document"),r=a("../codeLibrary/VisitorAPI"),g=a("../../view/utils/timeUnits"),f=function(e){return e.reduce(function(e,t){var a=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=a,e},{})},n=function(e){var t=p.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var a=f(t.variables||[]),s=t.doesOptInApply;s&&("boolean"==typeof s?a.doesOptInApply=s:t.optInCallback&&(a.doesOptInApply=t.optInCallback));var r=t.isOptInStorageEnabled;r&&(a.isOptInStorageEnabled=r);var n=t.optInCookieDomain;n&&(a.optInCookieDomain=n);var o=t.optInStorageExpiry;if(o){var i=t.timeUnit;if(i&&g[i]){var c=o*g[i];a.optInStorageExpiry=c}}else!0===r&&(a.optInStorageExpiry=33696e3);var l=t.previousPermissions;l&&(a.previousPermissions=l);var d=t.preOptInApprovals;if(d)a.preOptInApprovals=d;else{var u=t.preOptInApprovalInput;u&&(a.preOptInApprovals=u)}var m=t.isIabContext;m&&(a.isIabContext=m);var b=e.getInstance(t.orgId,a);return p.logger.info('Created instance using orgId: "'+t.orgId+'"'),p.logger.info("Set variables: "+JSON.stringify(a)),b.getMarketingCloudVisitorID(function(e){p.logger.info("Obtained Marketing Cloud Visitor Id: "+e)},!0),b},o=function(t){return(p.getExtensionSettings().pathExclusions||[]).some(function(e){return e.valueIsRegex?new RegExp(e.value,"i").test(t):e.value===t})},i=null;_satellite.getVisitorId=function(){return i},o(s.location.pathname)?p.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):i=n(r),e.exports=i},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function t(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var a=this.callbacks[e].push(t)-1,s=this;return function(){s.callbacks[e].splice(a,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var a=this.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(a,e){(e||a&&!z.isObjectEmpty(a))&&Object.keys(this.callbacks).forEach(function(e){var t=void 0!==a[e]?a[e]:"";this.execute(e,t)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function m(e,t,a){var s=null==e?void 0:e[t];return void 0===s?a:s}function r(e){for(var t=/^\d+$/,a=0,s=e.length;a<s;a++)if(!t.test(e[a]))return!1;return!0}function n(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var a=0;a<e.length;a++){var s=parseInt(e[a],10),r=parseInt(t[a],10);if(r<s)return 1;if(s<r)return-1}return 0}function a(e,t){if(e===t)return 0;var a=e.toString().split("."),s=t.toString().split(".");return r(a.concat(s))?(n(a,s),o(a,s)):NaN}function i(e){return e===Object(e)&&0===Object.keys(e).length}function c(e){return"function"==typeof e||e instanceof Array&&e.length}function s(e,t){var a=0<arguments.length&&void 0!==e?arguments[0]:"",s=1<arguments.length&&void 0!==t?arguments[1]:function(){return!0};this.log=me("log",a,s),this.warn=me("warn",a,s),this.error=me("error",a,s)}function S(e,t){var r=(0<arguments.length&&void 0!==e?arguments[0]:{}).cookieName,n=(1<arguments.length&&void 0!==t?arguments[1]:{}).cookies;if(!r||!n)return{get:Te,set:Te,remove:Te};var o={remove:function(){n.remove(r)},get:function(){var e=n.get(r),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{};var a=o.get(),s=Object.assign(a,e);n.set(r,JSON.stringify(s),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}};return o}function l(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function d(e,t){function a(e,t){var a=ve(e);return a.length?a.every(function(e){return!!t[e]}):he(t)}function s(){O(A),x(q.COMPLETE),y(j.status,j.permissions),l&&C.set(j.permissions,{optInCookieDomain:d,optInStorageExpiry:u}),R.execute(Se)}function r(a){return function(e,t){if(!Pe(e))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return x(q.CHANGED),Object.assign(A,Ce(ve(e),a)),t||s(),j}}var n=0<arguments.length&&void 0!==e?arguments[0]:{},o=n.doesOptInApply,i=n.previousPermissions,c=n.preOptInApprovals,l=n.isOptInStorageEnabled,d=n.optInCookieDomain,u=n.optInStorageExpiry,m=n.isIabContext,b=(1<arguments.length&&void 0!==t?arguments[1]:{}).cookies,p=_e(i);ke(p,"Invalid `previousPermissions`!"),ke(c,"Invalid `preOptInApprovals`!");var g,f,v,h,P,C=S({cookieName:"adobeujs-optin"},{cookies:b}),j=this,y=U(j),R=le(),w=Re(p),I=Re(c),E=l?C.get():{},T={},_=(P=E,we(w)||P&&we(P)?q.COMPLETE:q.PENDING),k=(g=I,f=w,v=E,h=Ce(ce,!o),o?Object.assign({},h,g,f,v):h),A=je(k),x=function(e){return _=e},O=function(e){return k=e};j.deny=r(!1),j.approve=r(!0),j.denyAll=j.deny.bind(j,ce),j.approveAll=j.approve.bind(j,ce),j.isApproved=function(e){return a(e,j.permissions)},j.isPreApproved=function(e){return a(e,I)},j.fetchPermissions=function(e,t){var a=1<arguments.length&&void 0!==t&&arguments[1],s=a?j.on(q.COMPLETE,e):Te;return!o||o&&j.isComplete||c?e(j.permissions):a||R.add(Se,function(){return e(j.permissions)}),s},j.complete=function(){j.status===q.CHANGED&&s()},j.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Ve);T[e.name]||(T[e.name]=e).onRegister.call(e,j)},j.execute=Oe(T),j.memoizeContent=function(e){Ee(e)&&C.set(e,{optInCookieDomain:d,optInStorageExpiry:u})},j.getMemoizedContent=function(e){var t=C.get();if(t)return t[e]},Object.defineProperties(j,{permissions:{get:function(){return k}},status:{get:function(){return _}},Categories:{get:function(){return re}},doesOptInApply:{get:function(){return!!o}},isPending:{get:function(){return j.status===q.PENDING}},isComplete:{get:function(){return j.status===q.COMPLETE}},__plugins:{get:function(){return Object.keys(T)}},isIabContext:{get:function(){return m}}})}function u(e,t){function a(){r=null,e.call(e,new l("The call took longer than you wanted!"))}function s(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(a,t);return s}function b(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var o;!o;){e=e.parent;try{e.frames.__tcfapiLocator&&(o=e)}catch(e){}if(e===window.top)break}if(o){var i={};return window.__tcfapi=function(e,t,a,s){var r=Math.random()+"",n={__tcfapiCall:{command:e,parameter:s,version:t,callId:r}};i[r]=a,o.postMessage(n,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var a=t.__tcfapiReturn;"function"==typeof i[a.callId]&&(i[a.callId](a.returnValue,a.success),delete i[a.callId])}},!1),window.__tcfapi}ge.error("__tcfapi not found")}else ge.error("__tcfapi not found")}function p(t,e,a){var s=2<arguments.length&&void 0!==a?arguments[2]:[],r=!0===t.vendor.consents[e],n=s.every(function(e){return!0===t.purpose.consents[e]});return r&&n}function g(){var a=this;a.name="iabPlugin",a.version="0.0.2";var n,o=le(),i={transparencyAndConsentData:null},c=function(e,t){var a=1<arguments.length&&void 0!==t?arguments[1]:{};return i[e]=a};a.fetchConsentData=function(e){var t=u(e.callback,e.timeout);l({callback:t})},a.isApproved=function(e){var a=e.callback,s=e.category,t=e.timeout;if(i.transparencyAndConsentData)return a(null,p(i.transparencyAndConsentData,ne[s],oe[s]));var r=u(function(e,t){a(e,p(t,ne[s],oe[s]))},t);l({category:s,callback:r})},a.onRegister=function(s){n=s;var t=Object.keys(ne),e=function(e,a){!e&&a&&(t.forEach(function(e){var t=p(a,ne[e],oe[e]);s[t?"approve":"deny"](e,!0)}),s.complete())};a.fetchConsentData({callback:e})};var l=function(e){var t=e.callback;if(i.transparencyAndConsentData)return t(null,i.transparencyAndConsentData);o.add("FETCH_CONSENT_DATA",t),s(function(e,t){if(t){var a=je(e),s=n.getMemoizedContent("iabConsentHash"),r=pe(a.tcString).toString(32);a.consentString=e.tcString,a.hasConsentChangedSinceLastCmpPull=s!==r,c("transparencyAndConsentData",a),n.memoizeContent({iabConsentHash:r})}o.execute("FETCH_CONSENT_DATA",[null,i.transparencyAndConsentData])})},s=function(e){var t=xe(ne),a=b();"function"==typeof a&&a("getTCData",2,e,t)}}var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,a,s=1;s<arguments.length;++s)for(t in a=arguments[s])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e};var f,v,h,P,K={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},C=K.STATE_KEYS_MAP,j=function(n){function s(){}function r(a,s){var r=this;return function(){var e=n(0,a),t={};return t[a]=e,r.setStateAndPublish(t),s(e),e}}this.getMarketingCloudVisitorID=function(e){e=e||s;var t=this.findField(C.MCMID,e),a=r.call(this,C.MCMID,e);return void 0!==t?t:a()},this.getVisitorValues=function(t){this.getMarketingCloudVisitorID(function(e){t({MCMID:e})})}},y=K.MESSAGES,R=K.ASYNC_API_MAP,w=K.SYNC_API_MAP,I=function(){function r(){}function n(e,t){var a=this;return function(){return a.callbackRegistry.add(e,t),a.messageParent(y.GETSTATE),""}}function e(s){this[R[s]]=function(e){e=e||r;var t=this.findField(s,e),a=n.call(this,s,e);return void 0!==t?t:a()}}function t(e){this[w[e]]=function(){return this.findField(e,r)||{}}}Object.keys(R).forEach(e,this),Object.keys(w).forEach(t,this)},E=K.ASYNC_API_MAP,T=function(){Object.keys(E).forEach(function(t){this[E[t]]=function(e){this.callbackRegistry.add(t,e)}},this)},z=(function(e,t){t.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},t.isValueEmpty=function(e){return""===e||t.isObjectEmpty(e)};var a=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||0<=t.indexOf("MSIE ")||0<=t.indexOf("Trident/")&&0<=t.indexOf("Windows NT 6")};t.getIeVersion=function(){return document.documentMode?document.documentMode:a()?7:null},t.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},t.isObject=function(e){return null!==e&&"object"===G(e)&&!1===Array.isArray(e)},t.defineGlobalNamespace=function(){return window.adobe=t.isObject(window.adobe)?window.adobe:{},window.adobe},t.pluck=function(a,e){return e.reduce(function(e,t){return a[t]&&(e[t]=a[t]),e},Object.create(null))},t.parseOptOut=function(e,t,a){t||(t=a,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var s=parseInt(e.d_ottl,10);return isNaN(s)&&(s=7200),{optOut:t,d_ottl:s}},t.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}(P={exports:{}},P.exports),P.exports),_=(z.isObjectEmpty,z.isValueEmpty,z.getIeVersion,z.encodeAndBuildRequest,z.isObject,z.defineGlobalNamespace,z.pluck,z.parseOptOut,z.normalizeBoolean,t),k=K.MESSAGES,A={0:"prefix",1:"orgID",2:"state"},W=function(n,o){this.parse=function(e){try{var a={};return e.data.split("|").forEach(function(e,t){void 0!==e&&(a[A[t]]=2!==t?e:JSON.parse(e))}),a}catch(e){}},this.isInvalid=function(e){var t=this.parse(e);if(!t||Object.keys(t).length<2)return!0;var a=n!==t.orgID,s=!o||e.origin!==o,r=-1===Object.keys(k).indexOf(t.prefix);return a||s||r},this.send=function(e,t,a){var s=t+"|"+n;a&&a===Object(a)&&(s+="|"+JSON.stringify(a));try{e.postMessage(s,o)}catch(n){}}},x=K.MESSAGES,O=function(e,t,a,s){function r(e){Object.assign(b,e)}function n(e){Object.assign(b.state,e),Object.assign(b.state.ALLFIELDS,e),b.callbackRegistry.executeAll(b.state)}function o(e){if(!f.isInvalid(e)){g=!1;var t=f.parse(e);b.setStateAndPublish(t.state)}}function i(e){!g&&p&&(g=!0,f.send(s,e))}function c(){r(new j(a._generateID)),b.getMarketingCloudVisitorID(),b.callbackRegistry.executeAll(b.state,!0),H.removeEventListener("message",l)}function l(e){if(!f.isInvalid(e)){var t=f.parse(e);g=!1,H.clearTimeout(b._handshakeTimeout),H.removeEventListener("message",l),r(new I(b)),H.addEventListener("message",o),b.setStateAndPublish(t.state),b.callbackRegistry.hasCallbacks()&&i(x.GETSTATE)}}function d(){p&&postMessage?(H.addEventListener("message",l),i(x.HANDSHAKE),b._handshakeTimeout=setTimeout(c,250)):c()}function u(){H.s_c_in||(H.s_c_il=[],H.s_c_in=0),b._c="Visitor",b._il=H.s_c_il,b._in=H.s_c_in,b._il[b._in]=b,H.s_c_in++}function m(){function e(e){0!==e.indexOf("_")&&"function"==typeof a[e]&&(b[e]=function(){})}Object.keys(a).forEach(e),b.getSupplementalDataID=a.getSupplementalDataID,b.isAllowed=function(){return!0}}var b=this,p=t.whitelistParentDomain;b.state={ALLFIELDS:{}},b.version=a.version,b.marketingCloudOrgID=e,b.cookieDomain=a.cookieDomain||"";var g=!(b._instanceType="child"),f=new W(e,p);b.callbackRegistry=_(),b.init=function(){u(),m(),r(new T(b)),d()},b.findField=function(e,t){if(void 0!==b.state[e])return t(b.state[e]),b.state[e]},b.messageParent=i,b.setStateAndPublish=n},V=K.MESSAGES,L=K.ALL_APIS,D=K.ASYNC_API_MAP,M=K.FIELDGROUP_TO_FIELD,Y=function(r,s){function n(){var s={};return Object.keys(L).forEach(function(e){var t=L[e],a=r[t]();z.isValueEmpty(a)||(s[e]=a)}),s}function o(){var a=[];return r._loading&&Object.keys(r._loading).forEach(function(e){if(r._loading[e]){var t=M[e];a.push(t)}}),a.length?a:null}function t(a){return function s(){var e=o();if(e){var t=D[e[0]];r[t](s,!0)}else a()}}function a(e,t){var a=n();s.send(e,t,a)}function i(e){l(e),a(e,V.HANDSHAKE)}function c(e){t(function(){a(e,V.PARENTSTATE)})()}function l(t){function e(e){a.call(r,e),s.send(t,V.PARENTSTATE,{CUSTOMERIDS:r.getCustomerIDs()})}var a=r.setCustomerIDs;r.setCustomerIDs=e}return function(e){s.isInvalid(e)||(s.parse(e).prefix===V.HANDSHAKE?i:c)(e.source)}},Z=function(s,a){function r(t){return function(e){n[t]=e,++o===i&&a(n)}}var n={},o=0,i=Object.keys(s).length;Object.keys(s).forEach(function(e){var t=s[e];if(t.fn){var a=t.args||[];a.unshift(r(e)),t.fn.apply(t.context||null,a)}})},$={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),s=a<0?a:t.indexOf(";",a+1);return a<0?"":decodeURIComponent(t.substring(a+2+e.length,s<0?t.length:s))},set:function(e,t,a){var s=m(a,"cookieLifetime"),r=m(a,"expires"),n=m(a,"domain"),o=m(a,"secure"),i=m(a,"sameSite"),c=o?"Secure":"",l=i?"SameSite="+i+";":"";if(r&&"SESSION"!==s&&"NONE"!==s){var d=""!==t?parseInt(s||0,10):-60;if(d)(r=new Date).setTime(r.getTime()+1e3*d);else if(1===r){var u=(r=new Date).getYear();r.setYear(u+2+(u<1900?1900:0))}}else r=0;return e&&"NONE"!==s?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(n?" domain="+n+";":"")+l+c,this.get(e)===t):0},remove:function(e,t){var a=m(t,"domain");a=a?" domain="+a+";":"";var s=m(t,"secure"),r=m(t,"sameSite"),n=s?"Secure":"",o=r?"SameSite="+r+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+a+o+n}},J=function(e,t){!e&&H.location&&(e=H.location.hostname);var a,s=e.split("."),r=t||{};for(a=s.length-2;0<=a;a--)if(r.domain=s.slice(a).join("."),$.set("test","cookie",r))return $.remove("test",r),r.domain;return""},X={compare:a,isLessThan:function(e,t){return a(e,t)<0},areVersionsDifferent:function(e,t){return 0!==a(e,t)},isGreaterThan:function(e,t){return 0<a(e,t)},isEqual:function(e,t){return 0===a(e,t)}},F=!!H.postMessage,Q={postMessage:function(e,t,a){var s=1;t&&(F?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+s+++"&"+e))},receiveMessage:function(t,a){var e;try{F&&(t&&(e=function(e){if("string"==typeof a&&e.origin!==a||"[object Function]"===Object.prototype.toString.call(a)&&!1===a(e.origin))return!1;t(e)}),H.addEventListener?H[t?"addEventListener":"removeEventListener"]("message",e):H[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(t){}}},ee=function(e){var t,a,s="0123456789",r="",n="",o=8,i=10,c=10;if(1==e){for(s+="ABCDEF",t=0;t<16;t++)a=Math.floor(Math.random()*o),r+=s.substring(a,a+1),a=Math.floor(Math.random()*o),n+=s.substring(a,a+1),o=16;return r+"-"+n}for(t=0;t<19;t++)a=Math.floor(Math.random()*i),r+=s.substring(a,a+1),0===t&&9==a?i=3:(1==t||2==t)&&10!=i&&a<2?i=10:2<t&&(i=10),a=Math.floor(Math.random()*c),n+=s.substring(a,a+1),0===t&&9==a?c=3:(1==t||2==t)&&10!=c&&a<2?c=10:2<t&&(c=10);return r+n},te=function(s){return{corsMetadata:(e="none",t=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),0<Object.prototype.toString.call(H.HTMLElement).indexOf("Constructor")&&(t=!1)),{corsType:e,corsCookiesEnabled:t}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new H[this.corsMetadata.corsType]},fireCORS:function(n,e){function t(e){var t;try{if((t=JSON.parse(e))!==Object(t))return void o.handleCORSError(n,null,"Response is not JSON")}catch(e){return void o.handleCORSError(n,e,"Error parsing response as JSON")}try{for(var a=n.callback,s=H,r=0;r<a.length;r++)s=s[a[r]];s(t)}catch(e){o.handleCORSError(n,e,"Error forming callback function")}}var o=this;e&&(n.loadErrorHandler=e);try{var a=this.getCORSInstance();a.open("get",n.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(a.withCredentials=!0,a.timeout=s.loadTimeout,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){4===this.readyState&&200===this.status&&t(this.responseText)}),a.onerror=function(e){o.handleCORSError(n,e,"onerror")},a.ontimeout=function(e){o.handleCORSError(n,e,"ontimeout")},a.send(),s._log.requests.push(n.corsUrl)}catch(s){this.handleCORSError(n,s,"try-catch")}},handleCORSError:function(e,t,a){s.CORSErrors.push({corsData:e,error:t,description:a}),e.loadErrorHandler&&("ontimeout"===a?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};var e,t},ae={POST_MESSAGE_ENABLED:!!H.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},se=function(p,t){var r=H.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var e,t="http://fast.",a="?d_nsid="+p.idSyncContainerID+"#"+encodeURIComponent(r.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),p.loadSSL&&(t=p.idSyncSSLUseAkamai?"https://fast.":"https://"),e=t+this.subdomain+".demdex.net/dest5.html"+a,this.iframeHost=this.getIframeHost(e),this.id="destination_publishing_iframe_"+this.subdomain+"_"+p.idSyncContainerID,e},checkDPIframeSrc:function(){var e="?d_nsid="+p.idSyncContainerID+"#"+encodeURIComponent(r.location.href);"string"==typeof p.dpIframeSrc&&p.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(p._subdomain||this.subdomain||(new Date).getTime())+"_"+p.idSyncContainerID,this.iframeHost=this.getIframeHost(p.dpIframeSrc),this.url=p.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:ae.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(p.idSyncDisableSyncs||p.disableIdSyncs||p.idSyncDisable3rdPartySyncing||p.disableThirdPartyCookies||p.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||p._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||p._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(s=r.createElement("iframe")).sandbox="allow-scripts allow-same-origin",s.title="Adobe ID Syncing iFrame",s.id=a.id,s.name=a.id+"_name",s.style.cssText="display: none; width: 0; height: 0;",s.src=a.url,a.newIframeCreated=!0,t(),r.body.appendChild(s)}function t(e){s.addEventListener("load",function(){s.className="aamIframeLoaded",a.iframeHasLoaded=!0,a.fireIframeLoadedCallbacks(e),a.requestToProcess()})}this.startedAttachingIframe=!0;var a=this,s=r.getElementById(this.id);s?"IFRAME"!==s.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==s.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=s,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=s},fireIframeLoadedCallbacks:function(t){this.iframeLoadedCallbacks.forEach(function(e){"function"==typeof e&&e({message:t||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(e){function t(){s.jsonForComparison.push(e),s.jsonWaiting.push(e),s.processSyncOnPage(e)}var a,s=this;if(e===Object(e)&&e.ibs)if(a=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var r,n,o,i=!1;for(r=0,n=this.jsonForComparison.length;r<n;r++)if(o=this.jsonForComparison[r],a===JSON.stringify(o.ibs||[])){i=!0;break}i?this.jsonDuplicates.push(e):t()}else t();if((this.receivedThirdPartyCookiesNotification||!ae.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}p.idSyncDisableSyncs||p.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){s.messageSendingInterval=ae.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var a=p._getField("MCAAMLH"),
s=e.d_region||e.dcs_region;return a?s&&(p._setFieldExpire("MCAAMLH",t),p._setField("MCAAMLH",s),parseInt(a,10)!==s&&(this.regionChanged=!0,this.timesRegionChanged++,p._setField("MCSYNCSOP",""),p._setField("MCSYNCS",""),a=s)):(a=s)&&(p._setFieldExpire("MCAAMLH",t),p._setField("MCAAMLH",a)),a||(a=""),a},processSyncOnPage:function(e){var t,a,s,r;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(s=0;s<a;s++)(r=t[s]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,a,s,r,n,o=encodeURIComponent,i=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(i=!0,s=0;s<a;s++)r=t[s],n=[o("ibs"),o(r.id||""),o(r.tag||""),z.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(n.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,n.join("|")));i&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,a){var s="syncOnPage"===a,r=s?"MCSYNCSOP":"MCSYNCS";p._readVisitor();var n,o,i=p._getField(r),c=!1,l=!1,d=Math.ceil((new Date).getTime()/ae.MILLIS_PER_DAY);i?(n=i.split("*"),c=(o=this.pruneSyncData(n,e.id,d)).dataPresent,l=o.dataValid,c&&l||this.fireSync(s,e,t,n,r,d)):(n=[],this.fireSync(s,e,t,n,r,d))},pruneSyncData:function(e,t,a){var s,r,n,o=!1,i=!1;for(r=0;r<e.length;r++)s=e[r],n=parseInt(s.split("-")[1],10),s.match("^"+t+"-")?(o=!0,a<n?i=!0:(e.splice(r,1),r--)):n<=a&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:i}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,a,s,d,r){var u=this;if(e){if("img"===t.tag){var n,o,i,c,l=t.url,m=p.loadSSL?"https:":"http:";for(n=0,o=l.length;n<o;n++){i=l[n],c=/^\/\//.test(i);var b=new Image;b.addEventListener("load",function(o,i,c,l){return function(){u.onPagePixels[o]=null,p._readVisitor();var e,t,a,s,r=p._getField(d),n=[];if(r)for(t=0,a=(e=r.split("*")).length;t<a;t++)(s=e[t]).match("^"+i.id+"-")||n.push(s);u.setSyncTrackingData(n,i,c,l)}}(this.onPagePixels.length,t,d,r)),b.src=(c?m:"")+i,this.onPagePixels.push(b)}}}else this.addMessage(a),this.setSyncTrackingData(s,t,d,r)},addMessage:function(e){var t=encodeURIComponent(p._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((ae.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,a,s){e.push(t.id+"-"+(s+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),p._setField(a,e.join("*"))},sendMessages:function(){var e,t=this,a="",s=encodeURIComponent;this.regionChanged&&(a=s("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?ae.POST_MESSAGE_ENABLED?(e=a+s("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){Q.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,a=/^---destpub-to-parent---/;"string"==typeof e&&a.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(a,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof p._subdomain&&p._subdomain.length?this.subdomain=p._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(p.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===r.readyState||"loaded"===r.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof p.idSyncIDCallResult?p.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof p.idSyncAfterIDCallResult&&p.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return p._forceSyncIDCall||!e||t-e>ae.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(r.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},N={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},B={getConfigNames:function(){return Object.keys(N)},getConfigs:function(){return N},normalizeConfig:function(e,t){return N[e]&&"boolean"===N[e].type?"function"!=typeof t?t:t():t}},U=function(e){var r={};return e.on=function(e,t,a){if(!t||"function"!=typeof t)throw new Error("[ON] Callback should be a function.");r.hasOwnProperty(e)||(r[e]=[]);var s=r[e].push({callback:t,context:a})-1;return function(){r[e].splice(s,1),r[e].length||delete r[e]}},e.off=function(e,t){r.hasOwnProperty(e)&&(r[e]=r[e].filter(function(e){if(e.callback!==t)return e}))},e.publish=function(e){if(r.hasOwnProperty(e)){var t=[].slice.call(arguments,1);r[e].slice(0).forEach(function(e){e.callback.apply(e.context,t)})}},e.publish},q={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},re={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},ne=(e(f={},re.AAM,565),e(f,re.ECID,565),f),oe=(e(v={},re.AAM,[1,10]),e(v,re.ECID,[1,10]),v),ie=["videoaa","iabConsentHash"],ce=(h=re,Object.keys(h).map(function(e){return h[e]})),le=function(){var s={};return s.callbacks=Object.create(null),s.add=function(e,t){if(!c(t))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");s.callbacks[e]=s.callbacks[e]||[];var a=s.callbacks[e].push(t)-1;return function(){s.callbacks[e].splice(a,1)}},s.execute=function(e,t){if(s.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;s.callbacks[e].length;){var a=s.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete s.callbacks[e]}catch(s){}}},s.executeAll=function(a,e){(e||a&&!i(a))&&Object.keys(s.callbacks).forEach(function(e){var t=void 0!==a[e]?a[e]:"";s.execute(e,t)},s)},s.hasCallbacks=function(){return Boolean(Object.keys(s.callbacks).length)},s},de=function(){},ue=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},me=function(s,r,e){return e()?function(){if(ue(s)){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];console[s].apply(console,[r].concat(t))}}:de},be=s,pe=function(){for(var r=[],e=0;e<256;e++){for(var t=e,a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;r.push(t)}return function(e,t){e=unescape(encodeURIComponent(e)),t||(t=0),t^=-1;for(var a=0;a<e.length;a++){var s=255&(t^e.charCodeAt(a));t=t>>>8^r[s]}return(t^=-1)>>>0}}(),ge=new be("[ADOBE OPT-IN]"),fe=function(e,t){return G(e)===t},ve=function(e,t){return e instanceof Array?e:fe(e,"string")?[e]:t||[]},he=function(t){var e=Object.keys(t);return!!e.length&&e.every(function(e){return!0===t[e]})},Pe=function(e,t){var a=1<arguments.length&&void 0!==t&&arguments[1];return!(!e||ye(e))&&ve(e).every(function(e){return-1<ce.indexOf(e)||a&&-1<ie.indexOf(e)})},Ce=function(e,a){return e.reduce(function(e,t){return e[t]=a,e},{})},je=function(e){return JSON.parse(JSON.stringify(e))},ye=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Re=function(e){if(Ee(e))return e;try{return JSON.parse(e)}catch(e){return{}}},we=function(e){return void 0===e||(Ee(e)?Pe(Object.keys(e),!0):Ie(e))},Ie=function(e){try{var t=JSON.parse(e);return!!e&&fe(e,"string")&&Pe(Object.keys(t),!0)}catch(e){return!1}},Ee=function(e){return null!==e&&fe(e,"object")&&!1===Array.isArray(e)},Te=function(){},_e=function(e){return fe(e,"function")?e():e},ke=function(e,t){we(e)||ge.error("".concat(t))},Ae=function(t){return Object.keys(t).map(function(e){return t[e]})},xe=function(e){return Ae(e).filter(function(e,t,a){return a.indexOf(e)===t})},Oe=function(u){return function(e){var t=0<arguments.length&&void 0!==e?arguments[0]:{},a=t.command,s=t.params,r=void 0===s?{}:s,n=t.callback,o=void 0===n?Te:n;if(!a||-1===a.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var i=a.split("."),c=u[i[0]],l=i[1];if(!c||"function"!=typeof c[l])throw new Error("Make sure the plugin and API name exist.");var d=Object.assign(r,{callback:o});c[l].call(c,d)}catch(u){ge.error("[execute] Something went wrong: "+u.message)}}};l.prototype=Object.create(Error.prototype),l.prototype.constructor=l;var Se="fetchPermissions",Ve="[OptIn#registerPlugin] Plugin is invalid.";d.Categories=re,d.TimeoutError=l;var Le=Object.freeze({OptIn:d,IabPlugin:g}),De=function(u,m){u.publishDestinations=function(e,t,a){var s=t,r=a;try{r="function"==typeof r?r:e.callback}catch(u){r=function(){}}var n=m;if(n.readyToAttachIframePreliminary()){if("string"==typeof e){if(!e.length)return void r({error:"subdomain is not a populated string."});if(!(s instanceof Array&&s.length))return void r({error:"messages is not a populated array."});var o=!1;if(s.forEach(function(e){"string"==typeof e&&e.length&&(n.addMessage(e),o=!0)}),!o)return void r({error:"None of the messages are populated strings."})}else{if(!z.isObject(e))return void r({error:"Invalid parameters passed."});var i=e;if("string"!=typeof(e=i.subdomain)||!e.length)return void r({error:"config.subdomain is not a populated string."});var c=i.urlDestinations;if(!(c instanceof Array&&c.length))return void r({error:"config.urlDestinations is not a populated array."});var l=[];c.forEach(function(e){z.isObject(e)&&(e.hideReferrer?e.message&&n.addMessage(e.message):l.push(e))}),function d(){l.length&&setTimeout(function(){var e=new Image,t=l.shift();e.src=t.url,n.onPageDestinationsFired.push(t),d()},100)}()}n.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),n.requestToProcess()):!u.subdomain&&u._getField("MCMID")?(n.subdomain=e,n.doAttachIframe=!0,n.url=n.getUrl(),n.readyToAttachIframe()?(n.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),n.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):n.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else r({error:"The destination publishing iframe is disabled in the Visitor library."})}},Me=function G(e){function t(e,t){return e>>>t|e<<32-t}for(var a,s,r=Math.pow,n=r(2,32),o="",i=[],c=8*e.length,l=G.h=G.h||[],d=G.k=G.k||[],u=d.length,m={},b=2;u<64;b++)if(!m[b]){for(a=0;a<313;a+=b)m[a]=b;l[u]=r(b,.5)*n|0,d[u++]=r(b,1/3)*n|0}for(e+="\x80";e.length%64-56;)e+="\0";for(a=0;a<e.length;a++){if((s=e.charCodeAt(a))>>8)return;i[a>>2]|=s<<(3-a)%4*8}for(i[i.length]=c/n|0,i[i.length]=c,s=0;s<i.length;){var p=i.slice(s,s+=16),g=l;for(l=l.slice(0,8),a=0;a<64;a++){var f=p[a-15],v=p[a-2],h=l[0],P=l[4],C=l[7]+(t(P,6)^t(P,11)^t(P,25))+(P&l[5]^~P&l[6])+d[a]+(p[a]=a<16?p[a]:p[a-16]+(t(f,7)^t(f,18)^f>>>3)+p[a-7]+(t(v,17)^t(v,19)^v>>>10)|0);(l=[C+((t(h,2)^t(h,13)^t(h,22))+(h&l[1]^h&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+C|0}for(a=0;a<8;a++)l[a]=l[a]+g[a]|0}for(a=0;a<8;a++)for(s=3;s+1;s--){var j=l[a]>>8*s&255;o+=(j<16?0:"")+j.toString(16)}return o},Fe=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Me(e)),e},Ne=function(e){return String(e).trim().toLowerCase()},Be=Le.OptIn;z.defineGlobalNamespace(),window.adobe.OptInCategories=Be.Categories;var Ue=function(s,a,e){function m(){v._customerIDsHashChanged=!1}function t(e){var s=e;return function(e){var t=e||R.location.href;try{var a=v._extractParamFromUri(t,s);if(a)return N.parsePipeDelimetedKeyValues(a)}catch(e){}}}function r(e){function t(e,t,a){e&&e.match(ae.VALID_VISITOR_ID_REGEX)&&(a===_&&(y=!0),t(e))}t(e[_],v.setMarketingCloudVisitorID,_),v._setFieldExpire(S,-1),t(e[x],v.setAnalyticsVisitorID)}function n(e){e=e||{},v._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",v._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},v._supplementalDataIDLast=e.supplementalDataIDLast||"",v._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function o(e){function r(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}function t(e,t){var a=t[0],s=t[1];return null!=s&&s!==V&&(e=r(a,s,e)),e}var a,s=e.reduce(t,"");return(a=(a=s)?a+="|":a)+"TS="+N.getTimestampInSeconds()}function i(e){var t=e.minutesToLive,a="";return(v.idSyncDisableSyncs||v.disableIdSyncs)&&(a=a||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(a=a||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(a=a||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(a=a||"Error: config.minutesToLive needs to be a positive number")),{error:a,ttl:t}}function c(){return!(!v.configs.doesOptInApply||h.optIn.isComplete&&u())}function u(){return v.configs.doesOptInApply&&v.configs.isIabContext?h.optIn.isApproved(h.optIn.Categories.ECID)&&j:h.optIn.isApproved(h.optIn.Categories.ECID)}function l(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],a=2===e.length?e[1]:"",s=v[t];v[t]=function(e){return u()&&v.isAllowed()?s.apply(v,arguments):("function"==typeof e&&v._callCallback(e,[a]),a)}})}function d(){var e=v._getAudienceManagerURLData(),t=e.url;return v._loadData(T,t,null,e)}function b(e,t){if(j=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(P=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),d(),f()}function p(e,t){if(j=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(P=t.consentString,C=t.hasConsentChangedSinceLastCmpPull?1:0),v.init(),f()}function g(){h.optIn.isComplete&&(h.optIn.isApproved(h.optIn.Categories.ECID)?v.configs.isIabContext?h.optIn.execute({command:"iabPlugin.fetchConsentData",callback:p}):(v.init(),f()):v.configs.isIabContext?h.optIn.execute({command:"iabPlugin.fetchConsentData",callback:b}):(l(),f()))}function f(){h.optIn.off("complete",g)}if(!e||e.split("").reverse().join("")!==s)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var v=this,h=window.adobe,P="",C=0,j=!1,y=!1;v.version="5.1.1";var R=H,w=R.Visitor;w.version=v.version,w.AuthState=K.AUTH_STATE,w.OptOut=K.OPT_OUT,R.s_c_in||(R.s_c_il=[],R.s_c_in=0),v._c="Visitor",v._il=R.s_c_il,v._in=R.s_c_in,v._il[v._in]=v,R.s_c_in++,v._instanceType="regular",v._log={requests:[]},v.marketingCloudOrgID=s,v.cookieName="AMCV_"+s,v.sessionCookieName="AMCVS_"+s;var I={};a&&a.secureCookie&&a.sameSiteCookie&&(I={sameSite:a.sameSiteCookie,secure:a.secureCookie}),v.cookieDomain=J(null,I),v.loadSSL=!0,v.loadTimeout=3e4,v.CORSErrors=[],v.marketingCloudServer=v.audienceManagerServer="dpm.demdex.net",v.sdidParamExpiry=30;var E=null,T="MC",_="MCMID",k="MCIDTS",A="A",x="MCAID",O="AAM",S="MCAAMB",V="NONE",L=function(e){return!Object.prototype[e]},D=te(v);v.FIELDS=K.FIELDS,v.cookieRead=function(e){return $.get(e)},v.cookieWrite=function(e,t,a){var s=v.cookieLifetime?(""+v.cookieLifetime).toUpperCase():"",r={expires:a,domain:v.cookieDomain,cookieLifetime:s};return v.configs&&v.configs.secureCookie&&"https:"===location.protocol&&(r.secure=!0),v.configs&&v.configs.sameSiteCookie&&"https:"===location.protocol&&(r.sameSite=K.SAME_SITE_VALUES[v.configs.sameSiteCookie.toUpperCase()]||"Lax"),$.set(e,""+t,r)},v.removeCookie=function(e){var t={domain:v.cookieDomain};return v.configs&&v.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),v.configs&&v.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=K.SAME_SITE_VALUES[v.configs.sameSiteCookie.toUpperCase()]||"Lax"),$.remove(e,t)},v.resetState=function(e){e?v._mergeServerState(e):n()},v._isAllowedDone=!1,v._isAllowedFlag=!1,v.isAllowed=function(){return v._isAllowedDone||(v._isAllowedDone=!0,(v.cookieRead(v.cookieName)||v.cookieWrite(v.cookieName,"T",1))&&(v._isAllowedFlag=!0)),"T"===v.cookieRead(v.cookieName)&&v._helpers.removeCookie(v.cookieName),v._isAllowedFlag},v.setMarketingCloudVisitorID=function(e){v._setMarketingCloudFields(e)},v._use1stPartyMarketingCloudServer=!1,v.getMarketingCloudVisitorID=function(e,t){v.marketingCloudServer&&v.marketingCloudServer.indexOf(".demdex.net")<0&&(v._use1stPartyMarketingCloudServer=!0);var a=v._getAudienceManagerURLData("_setMarketingCloudFields"),s=a.url;return v._getRemoteField(_,s,e,t,a)};var M=function(t,e){var a={};v.getMarketingCloudVisitorID(function(){e.forEach(function(e){a[e]=v._getField(e,!0)}),-1!==e.indexOf("MCOPTOUT")?v.isOptedOut(function(e){a.MCOPTOUT=e,t(a)},null,!0):t(a)},!0)};v.getVisitorValues=function(e,t){var a={MCMID:{fn:v.getMarketingCloudVisitorID,args:[!0],context:v},MCOPTOUT:{fn:v.isOptedOut,args:[void 0,!0],context:v},MCAID:{fn:v.getAnalyticsVisitorID,args:[!0],context:v},MCAAMLH:{fn:v.getAudienceManagerLocationHint,args:[!0],context:v},MCAAMB:{fn:v.getAudienceManagerBlob,args:[!0],context:v}},s=t&&t.length?z.pluck(a,t):a;t&&-1===t.indexOf("MCAID")?M(e,t):Z(s,e)},v._currentCustomerIDs={},v._customerIDsHashChanged=!1,v._newCustomerIDsHash="",v.setCustomerIDs=function(e,t){if(!v.isOptedOut()&&e){if(!z.isObject(e)||z.isObjectEmpty(e))return!1;var a,s,r,n;for(a in v._readVisitor(),e)if(L(a)&&(v._currentCustomerIDs.dataSources=v._currentCustomerIDs.dataSources||{},t=(s=e[a]).hasOwnProperty("hashType")?s.hashType:t,s))if("object"===G(s)){var o={};if(s.id){if(t){if(!(n=Fe(Ne(s.id),t)))return;s.id=n,o.hashType=t}o.id=s.id}null!=s.authState&&(o.authState=s.authState),v._currentCustomerIDs.dataSources[a]=o}else if(t){if(!(n=Fe(Ne(s),t)))return;v._currentCustomerIDs.dataSources[a]={id:n,hashType:t}}else v._currentCustomerIDs.dataSources[a]={id:s};var i=v.getCustomerIDs(!0),c=v._getField("MCCIDH"),l="";for(r in c||(c=0),i){var d=i[r];if(!z.isObjectEmpty(d))for(a in d)L(a)&&(l+=(l?"|":"")+a+"|"+((s=d[a]).id?s.id:"")+(s.authState?s.authState:""))}v._newCustomerIDsHash=String(v._hash(l)),v._newCustomerIDsHash!==c&&(v._customerIDsHashChanged=!0,v._mapCustomerIDs(m))}},v.syncIdentity=function(e,t){if(!v.isOptedOut()&&e){if(!z.isObject(e)||z.isObjectEmpty(e))return!1;var a,s,r,n,o;for(a in v._readVisitor(),e)if(L(a)&&(v._currentCustomerIDs.nameSpaces=v._currentCustomerIDs.nameSpaces||{},t=(s=e[a]).hasOwnProperty("hashType")?s.hashType:t,s&&"object"===G(s))){var i={};if(s.id){if(t){if(!(r=Fe(Ne(s.id),t)))return;s.id=r,i.hashType=t}i.id=s.id}null!=s.authState&&(i.authState=s.authState),s.dataSource&&(v._currentCustomerIDs.dataSources=v._currentCustomerIDs.dataSources||{},n=s.dataSource,v._currentCustomerIDs.dataSources[n]=i),v._currentCustomerIDs.nameSpaces[a]=i}var c=v.getCustomerIDs(!0),l=v._getField("MCCIDH"),d="";for(o in l||(l="0"),c){var u=c[o];if(!z.isObjectEmpty(u))for(a in u)L(a)&&(d+=(d?"|":"")+a+"|"+((s=u[a]).id?s.id:"")+(s.authState?s.authState:""))}v._newCustomerIDsHash=String(v._hash(d)),v._newCustomerIDsHash!==l&&(v._customerIDsHashChanged=!0,v._mapCustomerIDs(m))}},v.getCustomerIDs=function(e){v._readVisitor();var t,a,s={dataSources:{},nameSpaces:{}},r=v._currentCustomerIDs.dataSources;for(t in r)L(t)&&(a=r[t]).id&&(s.dataSources[t]||(s.dataSources[t]={}),s.dataSources[t].id=a.id,null!=a.authState?s.dataSources[t].authState=a.authState:s.dataSources[t].authState=w.AuthState.UNKNOWN,a.hashType&&(s.dataSources[t].hashType=a.hashType));var n=v._currentCustomerIDs.nameSpaces;for(t in n)L(t)&&(a=n[t]).id&&(s.nameSpaces[t]||(s.nameSpaces[t]={}),s.nameSpaces[t].id=a.id,null!=a.authState?s.nameSpaces[t].authState=a.authState:s.nameSpaces[t].authState=w.AuthState.UNKNOWN,a.hashType&&(s.nameSpaces[t].hashType=a.hashType));return e?s:s.dataSources},v.setAnalyticsVisitorID=function(e){v._setAnalyticsFields(e)},v.getAnalyticsVisitorID=function(e,t,a){if(!N.isTrackingServerPopulated()&&!a)return v._callCallback(e,[""]),"";var s="";if(a||(s=v.getMarketingCloudVisitorID(function(){v.getAnalyticsVisitorID(e,!0)})),s||a){var r=a?v.marketingCloudServer:v.trackingServer,n="";v.loadSSL&&(a?v.marketingCloudServerSecure&&(r=v.marketingCloudServerSecure):v.trackingServerSecure&&(r=v.trackingServerSecure));var o={};if(r){var i="http"+(v.loadSSL?"s":"")+"://"+r+"/id",c="d_visid_ver="+v.version+"&mcorgid="+encodeURIComponent(v.marketingCloudOrgID)+(s?"&mid="+encodeURIComponent(s):"")+(v.idSyncDisable3rdPartySyncing||v.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",v._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"];n=i+"?"+c+"&callback=s_c_il%5B"+v._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=i+"?"+c,o.callback=l}return o.url=n,v._getRemoteField(a?_:x,n,e,t,o)}return""},v.getAudienceManagerLocationHint=function(e,t){if(v.getMarketingCloudVisitorID(function(){v.getAudienceManagerLocationHint(e,!0)})){var a=v._getField(x);if(!a&&N.isTrackingServerPopulated()&&(a=v.getAnalyticsVisitorID(function(){v.getAudienceManagerLocationHint(e,!0)})),a||!N.isTrackingServerPopulated()){var s=v._getAudienceManagerURLData(),r=s.url;return v._getRemoteField("MCAAMLH",r,e,t,s)}}return""},v.getLocationHint=v.getAudienceManagerLocationHint,v.getAudienceManagerBlob=function(e,t){if(v.getMarketingCloudVisitorID(function(){v.getAudienceManagerBlob(e,!0)})){var a=v._getField(x);if(!a&&N.isTrackingServerPopulated()&&(a=v.getAnalyticsVisitorID(function(){v.getAudienceManagerBlob(e,!0)})),a||!N.isTrackingServerPopulated()){var s=v._getAudienceManagerURLData(),r=s.url;return v._customerIDsHashChanged&&v._setFieldExpire(S,-1),v._getRemoteField(S,r,e,t,s)}}return""},v._supplementalDataIDCurrent="",v._supplementalDataIDCurrentConsumed={},v._supplementalDataIDLast="",v._supplementalDataIDLastConsumed={};var F=!(v.getSupplementalDataID=function(e,t){v._supplementalDataIDCurrent||t||(v._supplementalDataIDCurrent=v._generateID(1));var a=v._supplementalDataIDCurrent;return v._supplementalDataIDLast&&!v._supplementalDataIDLastConsumed[e]?(a=v._supplementalDataIDLast,v._supplementalDataIDLastConsumed[e]=!0):a&&(v._supplementalDataIDCurrentConsumed[e]&&(v._supplementalDataIDLast=v._supplementalDataIDCurrent,v._supplementalDataIDLastConsumed=v._supplementalDataIDCurrentConsumed,v._supplementalDataIDCurrent=a=t?"":v._generateID(1),v._supplementalDataIDCurrentConsumed={}),a&&(v._supplementalDataIDCurrentConsumed[e]=!0)),a});v._liberatedOptOut=null,v.getOptOut=function(e,t){var a=v._getAudienceManagerURLData("_setMarketingCloudFields"),s=a.url;if(u())return v._getRemoteField("MCOPTOUT",s,e,t,a);if(v._registerCallback("liberatedOptOut",e),null!==v._liberatedOptOut)return v._callAllCallbacks("liberatedOptOut",[v._liberatedOptOut]),F=!1,v._liberatedOptOut;if(F)return null;F=!0;var r="liberatedGetOptOut";return a.corsUrl=a.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),a.callback=[r],H[r]=function(e){if(e===Object(e)){var t,a,s=z.parseOptOut(e,t,V);t=s.optOut,a=1e3*s.d_ottl,v._liberatedOptOut=t,setTimeout(function(){v._liberatedOptOut=null},a)}v._callAllCallbacks("liberatedOptOut",[t]),F=!1},D.fireCORS(a),null},v.isOptedOut=function(a,s,e){s||(s=w.OptOut.GLOBAL);var t=v.getOptOut(function(e){var t=e===w.OptOut.GLOBAL||0<=e.indexOf(s);v._callCallback(a,[t])},e);return t?t===w.OptOut.GLOBAL||0<=t.indexOf(s):null},v._fields=null,v._fieldsExpired=null,v._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},v._generateID=ee,v._generateLocalMID=function(){var e=v._generateID(0);return q.isClientSideMarketingCloudVisitorID=!0,e},v._callbackList=null,v._callCallback=function(e,t){try{"function"==typeof e?e.apply(R,t):e[1].apply(e[0],t)}catch(e){}},v._registerCallback=function(e,t){t&&(null==v._callbackList&&(v._callbackList={}),null==v._callbackList[e]&&(v._callbackList[e]=[]),v._callbackList[e].push(t))},v._callAllCallbacks=function(e,t){if(null!=v._callbackList){var a=v._callbackList[e];if(a)for(;0<a.length;)v._callCallback(a.shift(),t)}},v._addQuerystringParam=function(e,t,a,s){var r=encodeURIComponent(t)+"="+encodeURIComponent(a),n=N.parseHash(e),o=N.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+n;var i=o.split("?"),c=i[0]+"?",l=i[1];return c+N.addQueryParamAtLocation(l,r,s)+n},v._extractParamFromUri=function(e,t){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},v._parseAdobeMcFromUrl=t(ae.ADOBE_MC),v._parseAdobeMcSdidFromUrl=t(ae.ADOBE_MC_SDID),v._attemptToPopulateSdidFromUrl=function(e){var t=v._parseAdobeMcSdidFromUrl(e),a=1e9;t&&t.TS&&(a=N.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===s&&a<v.sdidParamExpiry&&(v._supplementalDataIDCurrent=t.SDID,v._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},v._attemptToPopulateIdsFromUrl=function(){var e=v._parseAdobeMcFromUrl();if(e&&e.TS){var t=N.getTimestampInSeconds()-e.TS;if(Math.floor(t/60)>ae.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==s)return;r(e)}},v._mergeServerState=function(e){if(e)try{if(s=e,(e=N.isObject(s)?s:JSON.parse(s))[v.marketingCloudOrgID]){var t=e[v.marketingCloudOrgID];a=t.customerIDs,N.isObject(a)&&v.setCustomerIDs(a),n(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}var a,s},v._timeout=null,v._loadData=function(e,t,a,s){t=v._addQuerystringParam(t,"d_fieldgroup",e,1),s.url=v._addQuerystringParam(s.url,"d_fieldgroup",e,1),s.corsUrl=v._addQuerystringParam(s.corsUrl,"d_fieldgroup",e,1),q.fieldGroupObj[e]=!0,s===Object(s)&&s.corsUrl&&"XMLHttpRequest"===D.corsMetadata.corsType&&D.fireCORS(s,a,e)},v._clearTimeout=function(e){null!=v._timeout&&v._timeout[e]&&(clearTimeout(v._timeout[e]),v._timeout[e]=0)},v._settingsDigest=0,v._getSettingsDigest=function(){if(!v._settingsDigest){var e=v.version;v.audienceManagerServer&&(e+="|"+v.audienceManagerServer),v.audienceManagerServerSecure&&(e+="|"+v.audienceManagerServerSecure),v._settingsDigest=v._hash(e)}return v._settingsDigest},v._readVisitorDone=!1,v._readVisitor=function(){if(!v._readVisitorDone){v._readVisitorDone=!0;var e,t,a,s,r,n,o=v._getSettingsDigest(),i=!1,c=v.cookieRead(v.cookieName),l=new Date;if(c||y||v.discardTrackingServerECID||(c=v.cookieRead(ae.FIRST_PARTY_SERVER_COOKIE)),null==v._fields&&(v._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(i=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)a=(t=c[e].split("-"))[0],s=c[e+1],1<t.length?(r=parseInt(t[1],10),n=0<t[1].indexOf("s")):(r=0,n=!1),i&&("MCCIDH"===a&&(s=""),0<r&&(r=l.getTime()/1e3-60)),a&&s&&(v._setField(a,s,1),0<r&&(v._fields["expire"+a]=r+(n?"s":""),(l.getTime()>=1e3*r||n&&!v.cookieRead(v.sessionCookieName))&&(v._fieldsExpired||(v._fieldsExpired={}),v._fieldsExpired[a]=!0)));!v._getField(x)&&N.isTrackingServerPopulated()&&(c=v.cookieRead("s_vi"))&&1<(c=c.split("|")).length&&0<=c[0].indexOf("v1")&&(0<=(e=(s=c[1]).indexOf("["))&&(s=s.substring(0,e)),s&&s.match(ae.VALID_VISITOR_ID_REGEX)&&v._setField(x,s))}},v._appendVersionTo=function(e){var t="vVersion|"+v.version,a=e?v._getCookieVersion(e):null;return a?X.areVersionsDifferent(a,v.version)&&(e=e.replace(ae.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},v._writeVisitor=function(){var e,t,a=v._getSettingsDigest();for(e in v._fields)L(e)&&v._fields[e]&&"expire"!==e.substring(0,6)&&(t=v._fields[e],a+=(a?"|":"")+e+(v._fields["expire"+e]?"-"+v._fields["expire"+e]:"")+"|"+t);a=v._appendVersionTo(a),v.cookieWrite(v.cookieName,a,1)},v._getField=function(e,t){return null==v._fields||!t&&v._fieldsExpired&&v._fieldsExpired[e]?null:v._fields[e]},v._setField=function(e,t,a){null==v._fields&&(v._fields={}),v._fields[e]=t,a||v._writeVisitor()},v._getFieldList=function(e,t){var a=v._getField(e,t);return a?a.split("*"):null},v._setFieldList=function(e,t,a){v._setField(e,t?t.join("*"):"",a)},v._getFieldMap=function(e,t){var a=v._getFieldList(e,t);if(a){var s,r={};for(s=0;s<a.length;s+=2)r[a[s]]=a[s+1];return r}return null},v._setFieldMap=function(e,t,a){var s,r=null;if(t)for(s in r=[],t)L(s)&&(r.push(s),r.push(t[s]));v._setFieldList(e,r,a)},v._setFieldExpire=function(e,t,a){var s=new Date;s.setTime(s.getTime()+1e3*t),null==v._fields&&(v._fields={}),v._fields["expire"+e]=Math.floor(s.getTime()/1e3)+(a?"s":""),t<0?(v._fieldsExpired||(v._fieldsExpired={}),v._fieldsExpired[e]=!0):v._fieldsExpired&&(v._fieldsExpired[e]=!1),a&&(v.cookieRead(v.sessionCookieName)||v.cookieWrite(v.sessionCookieName,"1"))},v._findVisitorID=function(e){return e&&("object"===G(e)&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&(e=V),e&&(e===V||e.match(ae.VALID_VISITOR_ID_REGEX))||(e="")),e},v._setFields=function(e,t){if(v._clearTimeout(e),null!=v._loading&&(v._loading[e]=!1),q.fieldGroupObj[e]&&q.setState(e,!1),e===T){!0!==q.isClientSideMarketingCloudVisitorID&&(q.isClientSideMarketingCloudVisitorID=!1);var a=v._getField(_);if(!a||v.overwriteCrossDomainMCIDAndAID){if(!(a="object"===G(t)&&t.mid?t.mid:v._findVisitorID(t))){if(v._use1stPartyMarketingCloudServer&&!v.tried1stPartyMarketingCloudServer)return v.tried1stPartyMarketingCloudServer=!0,void v.getAnalyticsVisitorID(null,!1,!0);a=v._generateLocalMID()}v._setField(_,a)}a&&a!==V||(a=""),"object"===G(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&v._setFields(O,t),v._use1stPartyMarketingCloudServer&&t.mid&&v._setFields(A,{id:t.id})),v._callAllCallbacks(_,[a])}if(e===O&&"object"===G(t)){var s=604800;null!=t.id_sync_ttl&&t.id_sync_ttl&&(s=parseInt(t.id_sync_ttl,10));var r=B.getRegionAndCheckIfChanged(t,s);v._callAllCallbacks("MCAAMLH",[r]);var n=v._getField(S);(t.d_blob||t.blob)&&((n=t.d_blob)||(n=t.blob),v._setFieldExpire(S,s),v._setField(S,n)),n||(n=""),v._callAllCallbacks(S,[n]),!t.error_msg&&v._newCustomerIDsHash&&v._setField("MCCIDH",v._newCustomerIDsHash)}if(e===A){var o=v._getField(x);o&&!v.overwriteCrossDomainMCIDAndAID||((o=v._findVisitorID(t))?o!==V&&v._setFieldExpire(S,-1):o=V,v._setField(x,o)),o&&o!==V||(o=""),v._callAllCallbacks(x,[o])}if(v.idSyncDisableSyncs||v.disableIdSyncs)B.idCallNotProcesssed=!0;else{B.idCallNotProcesssed=!1;var i={};i.ibs=t.ibs,i.subdomain=t.subdomain,B.processIDCallData(i)}if(t===Object(t)){var c,l;u()&&v.isAllowed()&&(c=v._getField("MCOPTOUT"));var d=z.parseOptOut(t,c,V);c=d.optOut,l=d.d_ottl,v._setFieldExpire("MCOPTOUT",l,!0),v._setField("MCOPTOUT",c),v._callAllCallbacks("MCOPTOUT",[c])}},v._loading=null,v._getRemoteField=function(a,e,t,s,r){var n,o="",i=N.isFirstPartyAnalyticsVisitorIDCall(a),c={MCAAMLH:!0,MCAAMB:!0};if(u()&&v.isAllowed())if(v._readVisitor(),!(!(o=v._getField(a,!0===c[a]))||v._fieldsExpired&&v._fieldsExpired[a])||v.disableThirdPartyCalls&&!i)o||(a===_?(v._registerCallback(a,t),o=v._generateLocalMID(),v.setMarketingCloudVisitorID(o)):a===x?(v._registerCallback(a,t),o="",v.setAnalyticsVisitorID(o)):s=!(o=""));else if(a===_||"MCOPTOUT"===a?n=T:"MCAAMLH"===a||a===S?n=O:a===x&&(n=A),n)return!e||null!=v._loading&&v._loading[n]||(null==v._loading&&(v._loading={}),v._loading[n]=!0,n===O&&(C=0),v._loadData(n,e,function(e){if(!v._getField(a)){e&&q.setState(n,!0);var t="";a===_?t=v._generateLocalMID():n===O&&(t={error_msg:"timeout"}),v._setFields(n,t)}},r)),v._registerCallback(a,t),o||(e||v._setFields(n,{id:V}),"");return a!==_&&a!==x||o!==V||(s=!(o="")),t&&s&&v._callCallback(t,[o]),o},v._setMarketingCloudFields=function(e){v._readVisitor(),v._setFields(T,e)},v._mapCustomerIDs=function(e){v.getAudienceManagerBlob(e,!0)},v._setAnalyticsFields=function(e){v._readVisitor(),v._setFields(A,e)},v._setAudienceManagerFields=function(e){v._readVisitor(),v._setFields(O,e)},v._getAudienceManagerURLData=function(e){
var t=v.audienceManagerServer,a="",s=v._getField(_),r=v._getField(S,!0),n=v._getField(x),o=n&&n!==V?"&d_cid_ic=AVID%01"+encodeURIComponent(n):"";if(v.loadSSL&&v.audienceManagerServerSecure&&(t=v.audienceManagerServerSecure),t){var i,c,l,d=v.getCustomerIDs(!0);if(d)for(c in d){var u=d[c];if(!z.isObjectEmpty(u)){var m="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(i in u)L(i)&&(l=u[i],o+=m+encodeURIComponent(i)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""))}}e||(e="_setAudienceManagerFields");var b="http"+(v.loadSSL?"s":"")+"://"+t+"/id",p="d_visid_ver="+v.version+(P&&-1!==b.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+P:"")+(C&&-1!==b.indexOf("demdex.net")?"&d_cf="+C:"")+"&d_rtbd=json&d_ver=2"+(!s&&v._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(v.marketingCloudOrgID)+"&d_nsid="+(v.idSyncContainerID||0)+(s?"&d_mid="+encodeURIComponent(s):"")+(v.idSyncDisable3rdPartySyncing||v.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===E?"&d_coop_safe=1":!1===E?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,g=["s_c_il",v._in,e];return{url:a=b+"?"+p+"&d_cb=s_c_il%5B"+v._in+"%5D."+e,corsUrl:b+"?"+p,callback:g}}return{url:a}},v.appendVisitorIDsTo=function(e){try{var t=[[_,v._getField(_)],[x,v._getField(x)],["MCORGID",v.marketingCloudOrgID]];return v._addQuerystringParam(e,ae.ADOBE_MC,o(t))}catch(t){return e}},v.appendSupplementalDataIDTo=function(e,t){if(!(t=t||v.getSupplementalDataID(N.generateRandomString(),!0)))return e;try{var a=o([["SDID",t],["MCORGID",v.marketingCloudOrgID]]);return v._addQuerystringParam(e,ae.ADOBE_MC_SDID,a)}catch(t){return e}};var N={parseHash:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){var s=e.split("&");return a=null!=a?a:s.length,s.splice(a,0,t),s.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){return e===x&&(t||(t=v.trackingServer),a||(a=v.trackingServerSecure),!("string"!=typeof(s=v.loadSSL?a:t)||!s.length)&&s.indexOf("2o7.net")<0&&s.indexOf("omtrdc.net")<0);var s},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){$.remove(e,{domain:v.cookieDomain})},isTrackingServerPopulated:function(){return!!v.trackingServer||!!v.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e}};v._helpers=N;var B=se(v,w);v._destinationPublishing=B,v.timeoutMetricsLog=[];var U,q={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case T:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case A:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case O:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};v.isClientSideMarketingCloudVisitorID=function(){return q.isClientSideMarketingCloudVisitorID},v.MCIDCallTimedOut=function(){return q.MCIDCallTimedOut},v.AnalyticsIDCallTimedOut=function(){return q.AnalyticsIDCallTimedOut},v.AAMIDCallTimedOut=function(){return q.AAMIDCallTimedOut},v.idSyncGetOnPageSyncInfo=function(){return v._readVisitor(),v._getField("MCSYNCSOP")},v.idSyncByURL=function(e){if(!v.isOptedOut()){var t=i(e||{});if(t.error)return t.error;var a,s,r=e.url,n=encodeURIComponent,o=B;return r=r.replace(/^https:/,"").replace(/^http:/,""),a=z.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),s=["ibs",n(e.dpid),"img",n(r),t.ttl,"",a],o.addMessage(s.join("|")),o.requestToProcess(),"Successfully queued"}},v.idSyncByDataSource=function(e){if(!v.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,v.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},De(v,B),v._getCookieVersion=function(e){e=e||v.cookieRead(v.cookieName);var t=ae.VERSION_REGEX.exec(e);return t&&1<t.length?t[1]:null},v._resetAmcvCookie=function(e){var t=v._getCookieVersion();t&&!X.isLessThan(t,e)||N.removeCookie(v.cookieName)},v.setAsCoopSafe=function(){E=!0},v.setAsCoopUnsafe=function(){E=!1},function(){if(v.configs=Object.create(null),N.isObject(a))for(var e in a)L(e)&&(v[e]=a[e],v.configs[e]=a[e])}(),l(),v.init=function(){c()&&(h.optIn.fetchPermissions(g,!0),!h.optIn.isApproved(h.optIn.Categories.ECID))||U||(U=!0,function(){if(N.isObject(a)){v.idSyncContainerID=v.idSyncContainerID||0,E="boolean"==typeof v.isCoopSafe?v.isCoopSafe:N.parseBoolean(v.isCoopSafe),v.resetBeforeVersion&&v._resetAmcvCookie(v.resetBeforeVersion),v._attemptToPopulateIdsFromUrl(),v._attemptToPopulateSdidFromUrl(),v._readVisitor();var e=v._getField(k),t=Math.ceil((new Date).getTime()/ae.MILLIS_PER_DAY);v.idSyncDisableSyncs||v.disableIdSyncs||!B.canMakeSyncIDCall(e,t)||(v._setFieldExpire(S,-1),v._setField(k,t)),v.getMarketingCloudVisitorID(),v.getAudienceManagerLocationHint(),v.getAudienceManagerBlob(),v._mergeServerState(v.serverState)}else v._attemptToPopulateIdsFromUrl(),v._attemptToPopulateSdidFromUrl()}(),function(){if(!v.idSyncDisableSyncs&&!v.disableIdSyncs){B.checkDPIframeSrc();var e=function(){var e=B;e.readyToAttachIframe()&&e.attachIframe()};R.addEventListener("load",function(){w.windowLoaded=!0,e()});try{Q.receiveMessage(function(e){B.receiveMessage(e.data)},B.iframeHost)}catch(e){}}}(),v.whitelistIframeDomains&&ae.POST_MESSAGE_ENABLED&&(v.whitelistIframeDomains=v.whitelistIframeDomains instanceof Array?v.whitelistIframeDomains:[v.whitelistIframeDomains],v.whitelistIframeDomains.forEach(function(e){var t=new W(s,e),a=Y(v,t);Q.receiveMessage(a,e)})))}};Ue.config=B;var qe=H.Visitor=Ue,Ge=function(r){if(z.isObject(r))return Object.keys(r).filter(function(e){return""!==r[e]&&B.getConfigs()[e]}).reduce(function(e,t){var a=B.normalizeConfig(t,r[t]),s=z.normalizeBoolean(a);return e[t]=s,e},Object.create(null))},He=Le.OptIn,Ke=Le.IabPlugin;qe.getInstance=function(s,e){if(!s)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");s.indexOf("@")<0&&(s+="@AdobeOrg");var t=function(){var e=H.s_c_il;if(e)for(var t=0;t<e.length;t++){var a=e[t];if(a&&"Visitor"===a._c&&a.marketingCloudOrgID===s)return a}}();if(t)return t;var r,a=Ge(e)||{};r=a||{},H.adobe.optIn=H.adobe.optIn||function(){var e=z.pluck(r,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=r.optInCookieDomain||r.cookieDomain;t=(t=t||J())===window.location.hostname?"":t,e.optInCookieDomain=t;var a=new He(e,{cookies:$});if(e.isIabContext&&e.doesOptInApply){var s=new Ke;a.registerPlugin(s)}return a}();var n=s.split("").reverse().join(""),o=new qe(s,null,n);a.cookieDomain&&(o.cookieDomain=a.cookieDomain),a.sameSiteCookie&&a.secureCookie&&(o.configs={sameSiteCookie:a.sameSiteCookie,secureCookie:a.secureCookie}),H.s_c_il.splice(--H.s_c_in,1);var i=z.getIeVersion();if("number"==typeof i&&i<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var c,l=function(){try{return H.self!==H.parent}catch(s){return!0}}()&&((c=o).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==c.cookieRead("TEST_AMCV_COOKIE")||(c.removeCookie("TEST_AMCV_COOKIE"),0))&&H.parent?new O(s,a,o,H.parent):new qe(s,a,n);return o=null,l.init(),l},function(){function e(){qe.windowLoaded=!0}H.addEventListener?H.addEventListener("load",e):H.attachEvent&&H.attachEvent("onload",e),qe.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}},settings:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",variables:[{name:"trackingServer",value:"bmwag.d3.sc.omtrdc.net"},{name:"trackingServerSecure",value:"bmwag.d3.sc.omtrdc.net"},{name:"disableIdSyncs",value:"%AAM-disableIDSyncs%"},{name:"cookieDomain",value:"%topLevelDomain%"},{name:"idSyncContainerID",value:"%AAM-containerID%"}],isIabContext:!1,doesOptInApply:!0,previousPermissions:"%ECID-previousPermissions%",isOptInStorageEnabled:!1},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbba09bba93284cafa07ef329983e2c69/"},"bmw-group-utility-kit":{displayName:"Utility Kit",modules:{"bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js":{name:"data-layer-snapshot",displayName:"Data Layer Snapshot",script:function(e,t,a){"use strict";var s=a("../helpers/dataLayerManager");e.exports=function(){return s.getSnapshot()}}},"bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js":{name:"helper-tools",displayName:"Helper Tools",script:function(e,t,a){"use strict";var s=a("../helpers/external_modules/deepFreeze.js")({cache:a("../helpers/cache.js"),hooks:a("../helpers/hooks.js"),privacyManager:a("../helpers/privacyManager.js")});e.exports=function(){return s}}},"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js":{name:"snapshot-attribute",displayName:"Snapshot Attribute",script:function(e,t,a){"use strict";var s=a("../helpers/dataLayerManager");e.exports=function(e){var t=e.snapshotAttribute&&e.snapshotAttribute.path;return s.getSnapshot().get(t)}}},"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js":{name:"take-snapshot",displayName:"Take Snapshot",script:function(e,t,a,s){"use strict";var r=a("../helpers/dataLayerManager"),n=s.getSharedModule("adobe-analytics","get-tracker");e.exports=function(e,t){t.detail=t.detail||{},t.detail.snapshotDL=r.takeSnapshot(t.$rule.name,t.detail.webDL),n&&n().then(function(){r.takeSnapshot(t.$rule.name,t.detail.snapshotDL.snapshot)})}}},"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js":{name:"discard-snapshot",displayName:"Discard Snapshot",script:function(e,t,a,s){"use strict";var r=a("../helpers/dataLayerManager"),n=s.getSharedModule("adobe-analytics","get-tracker");e.exports=function(){r.removeSnapshot(),n&&n().then(function(){r.removeSnapshot()})}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/dataLayerManager.js":{script:function(t,a,s,i){"use strict";function r(e,t,a){if(!e)throw new Error("'takenAt' is a required parameter while instantiating the Snapshot class");this.debug={takenAt:e};var s=i.getExtensionSettings().webDL&&i.getExtensionSettings().webDL.dataElement;t||s?(this.snapshot=JSON.parse(JSON.stringify(t||s)),this.debug.type=a||(t?c.PARAMETER:s?c.WEBDL:c.EMPTY)):(i.logger.warn("NOTE: Website datalayer not available while creating the snapshot"),this.snapshot={},this.debug.type=c.EMPTY)}var n,o=s("./external_modules/deepFreeze"),c={FALLBACK:"CURRENT_DATALAYER_STATE",WEBDL:"WEBSITE_DATALAYER",PARAMETER:"CUSTOM_PARAMETER",EMPTY:"EMPTY"};r.prototype.get=function(t,a){try{for(var s=["","na","not set","n/a","not available","not yet available","not selected","unknown"],r=(t=t||"").split("."),n=this.snapshot,o=0;o<r.length&&n!=undefined;o++)n=Array.isArray(n)&&/-[0-9]+/.test(r[o])?n[n.length-Math.abs(parseInt(r[o]))]:n[r[o]];return"string"==typeof n&&-1<s.indexOf(n.toLowerCase())?a||"datalayer field empty":n||a||"datalayer field missing"}catch(e){i.logger.error("Error:BMW Group Utility Kit:dataLayerManager:Snapshot.get()-",e)}};var l=function(){this.takeSnapshot=function(e,t){return n=new r(e,t),o(n)},this.getSnapshot=function(){return n||(i.logger.info("NOTE: No snapshot available, returning the current web datalayer, if available"),o(new r("NO_SNAPSHOT_AVAILABLE",undefined,c.FALLBACK)))},this.removeSnapshot=function(){n=undefined}};t.exports=new l}},"bmw-group-utility-kit/extension-package-src/lib/helpers/external_modules/deepFreeze.js":{script:function(e){e.exports=function a(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){!t.hasOwnProperty(e)||null===t[e]||"object"!=typeof t[e]&&"function"!=typeof t[e]||Object.isFrozen(t[e])||a(t[e])}),t}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/cache.js":{script:function(e,t,a,s){"use strict";function r(e){return i[e]}function n(e,t){void 0!==r(e)&&s.logger.log('Overwriting cache["'+e+'"]'),i[e]=t}function o(e){return delete i[e]}var i={};e.exports={get:r,set:n,remove:o}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/hooks.js":{script:function(t,a,s,n){function r(e){this.action=e.action,this.type=e.type&&"string"==typeof e.type&&e.type.toLowerCase()}function o(e){this.newReference=undefined,this.reference=e.method,this.hooks=[new r(e)]}function i(){var a=[];this.find=function(e){for(var t=a.length-1;0<=t;t--)if(a[t].reference===e||a[t].newReference===e)return a[t]},this.findIndex=function(e){for(var t=a.length-1;0<=t;t--)if(a[t].reference===e||a[t].newReference===e)return t},this.add=function(e){a.push(e)},this.remove=function(e){var t=this.findIndex(e);if(t)return a.splice(t,1)[0]}}function c(){var s=new i;this.add=function(e){if("object"!=typeof e||!e.method||!e.action||!e.type)throw new Error("'hooks.add' expects an object as parameter with 'method', 'action'and 'type' as required keys");var t=s.find(e.method);return t?t.addHook(e):s.add(new o(e)),s.find(e.method).getNewDefinition()},this.remove=function(e,t){var a=s.find(e);a&&a.removeHook(t)},this.removeAll=function(e){return s.remove(e).reference},this.get=function(e){var t=s.find(e);return t?t.getHooks():[]}}r.prototype.execute=function(t,a){try{return this.action.apply(t,a)}catch(e){n.logger.error("Error:BMW Group Utility Kit:hooks:Hook.prototype.execute()-",e)}},o.prototype.removeHook=function(e){for(var t=this.hooks.length-1;0<=t;t--)this.hooks[t].action===e&&this.hooks.splice(t,1)},o.prototype.addHook=function(e){e.type&&"string"==typeof e.type&&"overwrite"===e.type.toLowerCase()?(this.hooks.length&&n.logger.warn("Following hooks will now be removed as a new 'overwrite' hook is added-",this.hooks),this.hooks=[new r(e)]):"overwrite"===this.hooks[0].type?n.logger.warn("Can't add a 'pre' OR 'post' hook type as an overwrite hook is already present- ",this.hooks[0]):this.hooks=this.hooks.concat(new r(e))},o.prototype.getHooks=function(){return this.hooks},o.prototype.executePreHooks=function(e,t){for(var a=this.hooks.filter(function(e){return"pre"===e.type}),s=0;s<a.length;s++)t=a[s].execute(e,JSON.parse(JSON.stringify(t)))||t;return t},o.prototype.executePostHooks=function(e,t){for(var a=this.hooks.filter(function(e){return"post"===e.type}),s=0;s<a.length;s++)t=a[s].execute(e,[JSON.parse(JSON.stringify(t))])||t;return t},o.prototype.getNewDefinition=function(){var r=this;return r.newReference=r.newReference||function(){var t="overwrite"===r.hooks[0].type?r.hooks[0]:undefined;if(t)return t.execute(this,arguments);var a=Array.prototype.slice.call(arguments);a=r.executePreHooks(this,a);try{var s=r.reference.apply(this,a)}catch(e){n.logger.error("Error:BMW Group Utility Kit:hooks:Method.prototype.getNewDefinition()-",e)}return s=r.executePostHooks(this,s)},r.newReference};var l=new c;t.exports=l}},"bmw-group-utility-kit/extension-package-src/lib/helpers/privacyManager.js":{script:function(t,a,s,r){function n(e){r.logger.error("UTILITY-KIT:"+e),r.logger.debug("UTILITY-KIT:Privacy Manager State-"+this.state),r.logger.debug("UTILITY-KIT:Privacy Manager Type-"+this.type)}function o(e){var t;Object.defineProperty(this,"type",{get:function(){return e}}),Object.defineProperty(this,"state",{get:function(){return t}}),Object.defineProperty(this,"ENUM_TYPE",{get:function(){return l(b)}});var a=this;this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT||this.type==b.CON_TRACKING_API?(t=p.IDENTIFIED,this.onInit(function(){t=p.INITIALIZED,a.type==b.EPAAS_SPLIT&&(c.get=d.add({method:c.get,action:consentcontroller.api.getPersistence,type:"overwrite"}),c.set=d.add({method:c.set,action:function(e,t){return consentcontroller.api.setPersistence(e,t)},type:"overwrite"}))})):t=p.UNKNOWN}var i=s("@adobe/reactor-window"),c=s("@adobe/reactor-cookie"),l=s("./external_modules/deepFreeze.js"),d=s("./hooks"),u=r.getExtensionSettings(),m=u&&u.privacyManager||{},b={EPAAS_SPLIT:"EPAAS_SPLIT",EPAAS_NON_SPLIT:"EPAAS_NON_SPLIT",CON_TRACKING_API:"CON_TRACKING_API",OTHERS:"OTHERS"},p={IDENTIFIED:"WEBSITE_API_IDENTIFIED:WAITING_FOR_INIT",INITIALIZED:"WEBSITE_API_INITIALIZED",UNKNOWN:"WEBSITE_API_NOT_RECOGNIZED"};o.prototype.onInit=function(e){this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?(i.consentcontroller&&i.consentcontroller.api||i).addEventListener("consentcontroller.api.initialized",e):this.type==b.CON_TRACKING_API?i.digital&&i.digital.tracking&&i.digital.tracking.dtmReady!=undefined?e():i.addEventListener("digital:tracking:trackingReady",e):n.call(this,"Privacy Manager can't provide consent status: isTrackingEnabled called without overriding the method")},o.prototype.isTrackingAllowed=function(e){return this.state!=p.INITIALIZED?(r.logger.warn("UTILITY-KIT:"+this.type+" is not initialized, tracking status will be returned as false"),!1):this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?consentcontroller.api.isUsageAllowed(e):this.type==b.CON_TRACKING_API?!i.digital.tracking.isTrackingDisabled():(n.call(this,"Privacy Manager can't provide consent status: isTrackingAllowed called without overriding the method"),!1)},o.prototype.registerOnConsentChange=function(){var e=arguments;this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?this.onInit(function(){consentcontroller.api.registerOnUserConsentChange.apply(null,e)}):this.type==b.CON_TRACKING_API?this.onInit(function(){i.digital.tracking.registerOnConsentChange.apply(i.digital.tracking,e)}):n.call(this,"Privacy Manager can't handle consent change registration: registerOnConsentChange called without overriding the method")},o.prototype.isCookieDrawerShown=function(){return this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?this.state==p.INITIALIZED&&consentcontroller.api.showDisclaimer():this.type==b.CON_TRACKING_API?c.get("cc_ConsentCookie")===undefined:void n.call(this,"Privacy Manager can't get cookie drawer shown status: isCookieDrawerShown called without overriding the method")};try{var g;m.type&&m.type.code&&(g=m.type.code(b))}catch(e){r.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-",e)}g!==b.EPAAS_SPLIT&&g!==b.EPAAS_NON_SPLIT&&g!==b.CON_TRACKING_API&&g!==b.OTHERS&&(r.logger.error("Privacy Manager extension settings does not return 'ENUM_TYPE' value"),g=b.OTHERS);var f=new o(g);try{g===b.OTHERS&&m.methodSettings&&m.methodSettings.code&&m.methodSettings.code(f)}catch(e){r.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-",e)}t.exports=f}}},settings:{webDL:{dataElement:"%webDL%"},privacyManager:{type:{code:function(e){return"true"===_satellite.getVar("splitConsentEnabled")?e.EPAAS_SPLIT:e.EPAAS_NON_SPLIT}},methodSettings:{code:function(){}}}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP2266a5c5e89a41929de2c44a88e78182/"}},company:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg"},property:{name:"BMW .Next - NSC",settings:{domains:["bmw.co.za"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1}},rules:[{id:"RL06386db2d870400cb4cb65bbf4cd3757",name:"TPT - GR - AEM - Doubleclick - History change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5a8401b6b05742a6b37b8ee4132078d3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35fe0f6a2b9247409b217edcc225d5e1",name:"TPT - BE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3cfd8adee9674c4b8c8cd887fb6b08bb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b504b5657ca491bab89f888009243a2",name:"W - All - AEM - AA - Ignition One",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'#_i1_container div[data-group-parent="MCTA"] input[type="radio"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC40ef2fdd5d39401ca818c815b01133bb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1dbd57bf8c6a44b985bce906c3406767",name:"TPT - NL - AEM - Gtag DC/AW - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC89cb0a4b235a490dbc07d3b7cd93db30-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL58b3a532270a4a7e97edca77b11ca87f",name:"TPT - FR - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd92efee9e3224f078c7c05f04e22b46a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81b83eee878e44dc9bcdb48049446335",name:"TPT - AT - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC35b6d0f48bc544cca3c3b4e7fc634187-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c67755b23964f02996161b1f7b4974b",name:"TPT - AT - AEM - Facebook - Contant Number Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-contact-item--phone.ds2-tracking-js--event",elementProperties:[{name:"href",value:"tel.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/footer/metanavigation/contact.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC341937f10e274dcf93417e4da82db903-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8bbae6372c304fbc9ecee86ed62ac4d4",name:"TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC69f87dd971624e48831dbd671ac5c624-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL100c7ce905c9434194f80375532a4df3",name:"TPT - DE - AEM - ContentSquare - Popup Save configuration - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"popup_save_configuration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9672865ff196409b8b951a5ca8304e92-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL59110d56a02343a48d6cf2636237c895",name:"TPT - DE - AEM - ContentSquare - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc1e8c18ca4d943d9beaf77677af47467-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1ad07b4fdd7048669df196556f910be2",name:"TPT - DE - AEM - ContentSquare - Stock Locator Filter - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcefe44e3e64c446f83e4b2e58bb86d0b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdf903c2d922541e6b4068d14c8afe73f",name:"TPT - HU - AEM - TradeDesk - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdb272a488d8442d692921a80c0a27d66-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL54ef19af5b834132a381ca581a443ab8",name:"TPT - NL - AEM - Submit Button Pixel - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7c76a790701f4d5c8b2fdadb40c41be7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7c8730467d954eac89a6819facc3d6bd",name:"TPT - ZA - AEM - Adform - Multiple - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfdb454c2d7754fb9ac7b86d5a3f5f80c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4bb8b6c096874597a86ccb255dfdf761",name:"DCR - ALL - NSC - AA - Visualizer Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_interactions"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.logger.log("Rule: ",t.$rule.name," fired identifier ",t.identifier);var s=_satellite.getVar("snapshotDL"),r=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.eventInfo.effect"),o=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),i="",c="nsc > ";a.linkTrackVars="events,",a.linkTrackEvents="",a.events="",_satellite.getVar("setDefaultVariables",t)(a),("datalayer field missing"!=s.get("product")&&"datalayer field empty"!=s.get("product")&&s.get("product")!=[]||"datalayer field empty"!=s.get("product.-1.productInfo.productName")&&"datalayer field missing"!=s.get("product.-1.productInfo.productName"))&&_satellite.getVar("setProductString")(a),a.prop42="configuration",a.prop19=a.prop54="visualizer",a.prop56="interaction",a.prop53="ux","visualizer start"==r.toLowerCase()||"visualizer finish"==r.toLowerCase()?a.prop53="success":"inactivity"==r.toLowerCase()||"error"==r.toLowerCase()?a.prop53="3rd party backend":"buildability conflict"==r.toLowerCase()&&(a.prop53="automatic"),a.eVar134="web",a.eVar34=r&&"object"!=typeof r?r:"datalayer field missing",a.eVar34.indexOf(c)<0&&(a.eVar34=c+a.eVar34),-1<["change roof top color","change interior trims","change interior upholstery","change exterior mirror caps","change exterior wheels","change exterior color","change view","visualizer finish","visualizer start"].indexOf(r.toLowerCase())?a.eVar34=s.get("event.-1.eventInfo.effect"):-1<["inactivity","error","buildability conflict"].indexOf(r.toLowerCase())&&(a.eVar34=s.get("event.-1.eventInfo.cause")),a.prop55=s.get("event.-1.category.subCategory01"),a.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(s.get("event.-1.eventInfo.eventPoints"))?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),a.prop52=s.get("event.-1.eventInfo.cause"),a.prop55=s.get("event.-1.category.subCategory01"),"360 rotate"==r.toLowerCase()||"roof top close"==r.toLowerCase()||"roof top open"==r.toLowerCase()?a.prop51=s.get("event.-1.eventInfo.effect"):a.prop51=s.get("event.-1.eventInfo.eventName"),a.prop50=s.get("event.-1.eventInfo.element"),a.eVar71=s.get("event.-1.eventInfo.target"),a.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,a.prop2=s.get("page.category.pageType"),a.prop3=s.get("page.category.primaryCategory"),a.prop4=s.get("page.category.subCategory01"),a.prop5=s.get("page.category.subCategory02"),a.prop1=s.get("page.pageInfo.pageName"),a.prop1.indexOf(c)<0&&(a.prop1=c+a.prop1),a.prop28=s.get("page.attributes.virtualPage"),a.prop29=s.get("page.pageInfo.version"),a.linkTrackVars+="prop42,prop19,prop54,prop56,prop53,eVar134,eVar34,prop55,prop51,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar10,prop43,prop2,prop3,prop4,prop5,prop1,prop28,prop29",i="event917,event918","visualizer"==o&&(i+=",event313,event314"),"visualizer finish"==r&&(i+=",event315,event316"),"visualizer start"==r.toLowerCase()&&(i+=",event311,event312"),["inactivity",
"error","buildability conflict"].indexOf(r.toLowerCase())<0&&(i+=",event313,event314"),-1<["Inactivity","Error"].indexOf(r)&&-1<["Page","Popup","Inline message"].indexOf(n)&&(i="event931,event932"),a.eVar34.indexOf("nsc >")<0&&(a.eVar34="nsc > "+a.eVar34),a.events="",a.events=a.apl(a.events,i),a.linkTrackEvents=a.apl(a.linkTrackEvents,i),_satellite.getVar("smartPreviousValueManager").update("pageName",a.prop1)}catch(e){var l={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,l)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL118caaa3222747229170fb246cb16fcc",name:"TPT - IT - AEM - ContentSquare - Stock Locator Filter - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcd172d3a241e42f5a934922d5374836b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfcfe6ce3f398443f92656e409f196c8e",name:"TPT - PL - AEM - DoubleClick - Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC94bcbb2355ee44f49e91bba537f76eee-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL82c737b7c9c1413fb3e3ce507edd6c0b",name:"PLR - All - NSC - All - Custom Code - Set TPT ExecutionFlag",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%splitConsentEnabled%",rightOperand:"false"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCacd4b9b2c2ab4e3a93366f5d5e2a2820-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeba4567819ed423db16bdca8387160e9",name:"TPT - SE - AEM - Adwords - Accessories and Prices - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/sv/avdelning/service-tjanster-och-tillbehor/bmw-tillbehor.html"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0dee88c7e8364266a666e6237e45c711-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c1953ed33ef4b219bcb1fbbb9841ae6",name:" TPT - IE - AEM - Gtag_DC - PHEV Dealer Locator Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe8b1a67c2d3a4c77bfbe8504cb722487-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc19cacee4be54f4fb107b1ef42368723",name:"TPT - DK - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2f82ce1b9a8047fe8a831976f43a6f3a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41971d12e130414da5ca28dc0055a4e0",name:"TPT - IE - AEM - Gtag_DC - 5 Series Enquire Now Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/discover-enquire-now.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/5-series/sedan/2020/highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3e76333f9be346259a6a587e254e0dd4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcefdea9910a743a0a52147235b738a39",name:"TPT - BE - AEM - DoubleClick - Configurator Steps & Save Event - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined||t!==e)return _satellite.setVar("previousStepName",e),!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6d041e0502ff4e1ca290bc1e4f89d33a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1596a9e8e06541b1a2e418f1c972f52d",name:"TPT - MY - AEM - Adwords - All pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC10e8f0b4db6343c492656b40f1b260c7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL58d1daf1a7504ad5ae27fcfa5be8dfa6",name:"TPT - BE - AEM - Doubleclick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC94a7e304e48744b0983618638d56e35a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL929c063aa40c4dfeb0f17cbc1dcfaec6",name:"TPT - NL - AEM - Adwords - iFrame NSF Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC39056e6ed5c147659209af6de76da8a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdbe3a8bb54ce410080b85a8e2ecd80af",name:"TPT - BG - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCab19b6b13ac748ba8489015a95a8c650-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL53eea8206b084d139ddedd763e0ea128",name:"TPT - MY - AEM - Adform - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc64f39df8a7d47659c4a068f768b7afc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf69a033972a487cb77863e057c3b974",name:"TPT - UK - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2313da67f8f14b3d88306a0de5e1a705-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL15b736c6e94c40d3b8e5394fc2486728",name:"TPT - RU - AEM - DoubleClick - Started TDA - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0422\u0435\u0441\u0442-\u0434\u0440\u0430\u0439\u0432"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC39bbc9ae75ae402a9d28976ec518aa48-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf836f74c45d64ef4a25df27218f0ef4c",name:"TPT - IN - AEM - Munchkin - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfbe5c3bd467b42a58fa6ad0c0a03d8c6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL45ca8dc3bb0349c7865ce4cc98b18834",name:"TPT - NL - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC20345179b2374a9982510f87bc998309-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLccbf1e8045c348c4bad53731ac2955c9",name:"TPT - RO - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb2583c1c0d20451e8b64cca61131ca01-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa06fbc8f606e41faa8050de09b227f20",name:"TPT - NO - AEM - Adform - Configurator Section Change - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/ssl/configurator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6da7b255f29443e49c5f3c9df4128dba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2bef26d02c1c4bc38792937ecc74c2e8",name:"EBR - CA - iFrame - AA - ACS Page Load",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(s){try{window.addEventListener("message",function(t){if(-1!=["https://sf-acs.bmw.ca","https://sf-acs-i.bmw.ca"].indexOf(t.origin))if(t.data)try{_satellite.logger.log(JSON.parse(t.data));var a=JSON.parse(t.data);a.detail&&a.detail.custom&&Object.keys(a.detail.custom)&&!Object.keys(a.detail.custom).length&&(_satellite.setVar("acs_event_data",a),s())}catch(e){_satellite.logger.error("EBR: ACS Component Page Load",e)}else _satellite.logger.log("no data in event object",t)})}catch(e){_satellite.logger.error("EBR: ACS Component Page Load",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.ca"}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.getVar("setDefaultVariables",t)(a);var s=_satellite.getVar("acs_event_data").detail,r=s.event.length?s.event[s.event.length-1].eventInfo.eventAction:"datalayer field empty",n=s.event.length?s.event[s.event.length-1].eventInfo.eventName:"datalayer field empty",o=s.event.length?s.event[s.event.length-1].eventInfo.eventPoints:"datalayer field empty",i=s.event.length?s.event[s.event.length-1].eventInfo.type:"datalayer field empty",c=s.event.length?s.event[s.event.length-1].eventInfo.timeStamp:"datalayer field empty",l=s.event.length?s.event[s.event.length-1].eventInfo.cause:"datalayer field empty",d=s.event.length?s.event[s.event.length-1].eventInfo.effect:"datalayer field empty",u=s.component.length?s.component[s.component.length-1].componentInfo.componentID:"datalayer field empty",m=s.component.length?s.component[s.component.length-1].componentInfo.componentName:"datalayer field empty",b=s.component.length?s.component[s.component.length-1].category.componentType:"datalayer field empty",p=s.component.length?s.component[s.component.length-1].category.primaryCategory:"datalayer field empty",g=s.component.length?s.component[s.component.length-1].category.subCategory1:"datalayer field empty";s.component.length&&s.component[s.component.length-1].category.subCategory2,a.prop44=u,a.prop19=m,a.prop41=b,a.prop42=p,a.prop43=g,a.prop56=n,a.prop57=r,(o="na"==o?"datalayer field empty":o)&&parseInt(o)&&!isNaN(parseInt(o))?(6e4<parseInt(o)?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(o)<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+o,",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=o,a.prop53=i,a.prop12=c,a.prop52=l,a.eVar34=d}catch(e){_satellite.logger.error("Error in EBR - CA - iFrame - AA - ACS Page Load: ",e)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLb504689705ae4b25ab2b2cfa32844c4c",name:"TPT - NL - AEM - GTagDC - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC88266117a1904a5c8dd135e12b9b5168-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb593afe66084c8b9c4dad6417593c74",name:"TPT - SK - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCae295363db014955aad5997198215c29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2939b1af33514788a17148684d07eff4",name:"TPT - AT - AEM - Doubleclick - iFrame - RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3804ef2d69a54a869ebf365873838ac3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb9092290e2464e2787d1535305b8075a",name:"TPT - DE - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC47deb4879fdb4039ba38afc9c6d9e5d8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41a2cada618b4dec9824421dc820167c",name:"TPT - DE - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5cd0c78550984ac69757dac4a135a7d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL886a5defdc5c42fcb1948dcb7dbcb2f5",name:"DCR - All - NSC - AA - Cookie Consent Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"cookie_link"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=window.location.href;_satellite.getVar("setDefaultVariables",t)(a);var n,o=s.get("component.-1.componentInfo.componentName"),i=s.get("component.-1.componentInfo.componentID"),c=s.get("event.-1.eventInfo.eventName"),l=s.get("event.-1.eventInfo.effect"),d=s.get("event.-1.eventInfo.cause"),u=s.get("event.-1.eventInfo.target"),m=s.get("event.-1.eventInfo.eventAction"),b=s.get("event.-1.category.primaryCategory"),p=(s.get("event.-1.category.eventSubCategory01"),s.get("event.-1.attributes.consentItemName"));if("Cookie drawer impression"==c)return!(a.abort=!0);a.prop1="nsc > "+s.get("page.pageInfo.pageName"),a.prop56="interaction",a.prop53=-1<c.indexOf("impression")?"automatic":"ux",a.eVar34="nsc > "+l,a.prop51=c,a.prop55=l,a.prop52=d,"accept consent"==c?(a.eVar22="accepted",a.prop50=p):"reject consent"==c?(a.eVar22="rejected",a.prop50=p):"detailed information"==c&&(a.eVar22="detailed information",a.prop50=p),"fallback"==s.get("event.-1.attributes.relatedComponentName")?(a.prop19="fallback",a.eVar136="2020 - 06- 15 fallback"):-1<r.indexOf("cookies.html")?(a.prop19="cookie policy page",a.eVar136="2020 - 06- 15 cookie policy page"):(a.prop19="cookie drawer",a.eVar136="2020 - 06- 15 cookie drawer"),a.prop42="nsc website",a.prop43="cookie consent",a.prop44=i,a.prop3=o,a.prop5=s.get("page.category.subCategory02"),a.prop2=s.get("page.category.pageType"),a.eVar134="web",a.prop54=b,a.prop57=m,a.eVar175=s.get("component.-1.attributes.variant"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(s.get("event.-1.eventInfo.eventPoints"))?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.eVar71=u,a.eVar17=s.get("user.-1.profileInfo.visitorID"),a.linkTrackVars=a.apl(a.linkTrackVars,"prop1,prop2,prop5,eVar22,eVar34,eVar136,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop74,eVar17,eVar71,eVar134,eVar175");var g={global:"event917,event918,event941",strictlyNecessary:"event917,event918,event941",advertising:"event917,event918,event941",analytics:"event917,event918,event941",functional:"event917,event918,event941","consent impression":"event925,event926","consent content open: manual":"event917,event918","more information":"event917,event918","detailed information":"event917,event918","close cookie drawer":"event917,event918","Cookie drawer impression":"event925,event926","cookie drawer impression":"event925,event926","fallback impression":"event925,event926"};n="accept consent"==c||"reject consent"==c?a.apl(n,g[p]):a.apl(n,g[c]),a.events=a.apl(a.events,n),a.linkTrackEvents=a.apl(a.linkTrackEvents,n);var f=s.get("product.-1.attributes.mmdr");if(f){var v=/[a-z]{1}[0-9]{2}/i,h=f.match(v);f=h&&h.length?h[0].toUpperCase():"datalayer field empty"}var P=_satellite.getVar("setDefaultProductVariables");P.id=f,P.category="vehicle",P.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),P.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),P.merchEvars.eVar10=f,P.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),a.products=P.toString(),a.linkTrackVars=a.apl(a.linkTrackVars,"eVar10,eVar52,eVar60,eVar51,products")}catch(e){var C={from:"AA",type:"Rule",name:"DCR - All - NSC - All - AA - Cookie Consent Tracking"};_satellite.logger.error(e,C)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%ev_eve_eventName%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLacde954314674411b3582022270f8566",name:"TPT - SG - AEM - Adwords - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4b6f54ed409d4251b0d09f31c5b99841-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfdcd227668694673b0824b8378f94e5d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL789ecd0f822c4d499fc1374e3ccaa35d",name:"TPT - SI - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2e9ac15bc2ac43d2a22d8b0b9f66f8b0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4affd65855b14112abca945951d345ae",name:"TPT - IT - AEM - GTag DC/AW - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC91253456dae642a5b62baee56db11678-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL63164b1714b849798664ed55de2ba78f",name:"TPT - BR - AEM - Adwords - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC49ca449fbbda48509e3fdcc62596f37c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL03f5aab494c1406793b3e908647646b4",name:"TPT - AT - AEM - Salesbar - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0},{value:"p152.bmw.com",valueIsRegex:!0},{value:"m152.bmw-int3.com",valueIsRegex:!0},{value:"m152.bmw-int1.com",valueIsRegex:!0},{value:"m152.bmw-int9.com",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc15e29f83cc645409bb9776453c0fb24-source.min.js",language:"html",isExternal:!0}}]},{id:"RLd5ed6e75f8ab4be9b700f688d548cfc9",name:"TPT - UK - AEM - Xandr - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCaa44450e5d424630ad194f6d5fd66f5e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1c6314ac9cd348b8bbc4266d92b0d699",name:"TPT - BE - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2693b4d28e114f02899428f9ad0a08ed-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfbef60fa7fbe4eba8b95b48921db5e8c-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdb4638d9e5d640a5b9181cd9737c47d9-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1be6f36472954e1abce7fa70f0408523-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC057285b9e7c64c0bb2192e431afc23dd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb081a6563cff4162a248e2b7edeebf81",name:"TPT - DE - AEM - Pinterest - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd1b7b9f305a045d58367177a828f01f6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL03ea43b9501f4390a818b895fbe931cc",name:"TPT - SG - AEM - Verizon - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC293da801263e41e288fc3d42f6c18bd8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa68dbd06d35d4eba990557d6cfdcfb8d",name:"TPT - JP - AEM - Pardot - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC58821c6b1c944eadbf8ce4faf1e40d69-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc0379237703f47479c40d5943ffa51f8",name:"TPT - ES - AEM - TradeDesk - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC56e1c036ef254abe98be681ff9a4c860-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLea13736eb9264da5a3a447a8cc90384f",name:"TPT - All - AEM - Usabilla NPS 3 - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0},{value:"bmw.co.jp",valueIsRegex:!0},{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd340e5c55c7b4a63aa12af3009421d4e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLec493aeb73944537977474a92015c799",name:"TPT - IT - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdcbdff11da9a4bd09743e667f7d6661e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL34f6b06c72d9416eb194aa144ed2cdf8",name:"TPT - NO - AEM - Adform - Kampanjer Other Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Oversikt over alle BMW (i |)kampanjer",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Kontakt din forhandler",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/tilbud/kampanjer.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4a5cc52cd6f84f6b946eee6c399b7a62-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL11e34eee9d2b401784e9bf8daa4319a5",name:"TPT - ES - AEM - PsymaSurvey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4f7ca95a14a749039dec049a0ab7e5c6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9c8203a0935a4b3c9f0153bf60f39472",name:"TPT - DK - AEM - Adform - Kampagne Other Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Priser",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Specialmodeller",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Find forhandler",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd4956b5490b84a6eafccce13976f82db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL63646f5743ba4c819c5cd1b78d0a748f",name:"TPT - NZ - AEM - LinkedIn - All Pages - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC37013e4144944ae3b69bf5b557841b7c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5928d11cfe4e43ac89c104c0ef985f26",name:"TPT - ZA - All Pages - Set Cookie",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcdf0c88dda944fe7ab486f1f701d8978-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81b51f278cd74304a88e9a9da572cffa",name:"TPT - BG - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC71722229db6d42cd9d2d5fe5776c7e44-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2899b4a20a2c497b93c5a760fc5e46ad",name:"TPT - HU - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd1093e3ac0174dcca86eb08075baa039-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaee0713a09f6465a9c02e7147d3ae403",name:"DCR - All - NSC - AA - Dealer Locator",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_integrated"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_switch_map"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r="nsc > ",n=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));_satellite.getVar("setDefaultVariables",t)(a);var o,c,l,d,u,m,b,p,g,f,v,h,P,C,j=s.get("product.-1.attributes.mmdr"),y=_satellite.getVar("setDefaultProductVariables");y.id=s.get("product.-1.attributes.mmdr"),y.category="vehicle",y.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),y.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),y.merchEvars.eVar10=j,y.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),a.products=y.toString();var R=s.get("event.-1.attributes.relatedComponentID");for(i=0;i<s.get("component").length;i++){var w=i.toString();s.get("component."+w+".componentInfo.componentID")!=R&&s.get("component."+w+".componentInfo.componentId")!=R||(_satellite.logger.log("related component - "+w),c=s.get("component."+w+".componentInfo.componentName",s.get("event.-1.attributes.relatedComponentName",s.get("product.-1.attributes.relatedComponentName"))),o=s.get("component."+w+".componentInfo.componentID",s.get("component."+w+".componentInfo.componentId")),s.get("component."+w+".category.subCategory01"),l=s.get("component."+w+".category.componentType",s.get("component."+w+".componentInfo.componentType")),d=s.get("component."+w+".attributes.errorMessage"),u=s.get("component."+w+".attributes.errorID"),m=s.get("component."+w+".attributes.onsiteSearchBrand",s.get("component."+w+".attributes.onSiteSearchBrand")),b=s.get("component."+w+".attributes.onsiteSearchTerm",s.get("component."+w+".attributes.onSiteSearchTerm")),p=s.get("component."+w+".attributes.onsiteSearchResults"),g=s.get("component."+w+".attributes.onsiteSearchResultsFilters"),f=s.get("component."+w+".attributes.onsiteSearchResultsType"),v=s.get("component."+w+".attributes.distanceFromDealer"),C=s.get("component."+w+".attributes.dealerName"),h=s.get("component."+w+".attributes.outletID"),P=s.get("component."+w+".attributes.dealerID"),variant=s.get("component."+w+".attributes.variant"))}var I,E=s.get("event.-1.eventInfo.eventName"),T=s.get("event.-1.eventInfo.effect"),_=s.get("event.-1.category.subCategory01");if("home dealer locator teaser impression"==E||"home dealer locator teaser click"==E)a.eVar34="home dealer locator teaser click"==E?r+T:r+E,a.eVar136="2020 - 06 - 15  dealer locator teaser",a.prop43="teaser",a.prop51="home dealer locator teaser click"==E?E:T,a.prop55=_;else{var k,A="",x=_satellite.getVar("searchDefaultProduct"),O="DLO Errors"==E?"datalayer field empty":"user selected";x=_satellite.getVar("searchDefaultProduct"),"datalayer field missing"==m&&"datalayer field empty"==m||(k="search;search;;;;"+x+"eVar30=datalayer field missing|eVar31="+O+"|eVar32=brand|eVar33="+m,A=a.apl(A,k)),"datalayer field missing"==g&&"datalayer field empty"==g||"string"==typeof g&&-1<g.indexOf(",")&&(k="search;search;;;;"+x+"eVar30=datalayer field missing|eVar31="+O+"|eVar32="+(g=g.replace(/"/g,"")).replace(/,/g,"~")+"|eVar33="+b.replace(/,/g,"~"),A=a.apl(A,k)),""!=A&&(_satellite.logger.log("dlo search - inside s.Products",A),a.products=a.apl(a.products,A)),a.eVar34="DLO Errors"==E?r+d:r+T,a.eVar40=h,a.eVar41=C,a.eVar42=P,a.eVar136="2020 - 06 - 15 Dealer Locator",a.prop43="search",a.prop50=_,a.prop51=v,a.prop55="DLO Errors"==E?u:p}a.prop1=a.pageName=-1==n.indexOf("nsc >")?"nsc > "+n:n,a.prop3=c,a.prop19=c,a.prop21="dealer",a.prop22=f,a.prop24=p,a.prop41=l,a.prop42="nsc website",a.prop44=o,a.eVar175=variant,a.prop27=s.get("page.pageInfo.pageID"),a.prop4=s.get("page.category.subCategory01"),a.prop5=s.get("page.category.subCategory02"),a.prop2=s.get("page.category.pageType"),a.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(s.get("event.-1.eventInfo.eventPoints"))?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.prop52=s.get("event.-1.eventInfo.cause"),a.prop54=s.get("event.-1.category.primaryCategory"),a.eVar71=s.get("event.-1.eventInfo.target"),a.eVar17=s.get("user.-1.profileInfo.visitorID"),"DLO Errors"==E?(a.prop56="error",a.prop53="backend 3rd party"):(a.prop56=1==("Select Dealer"==E||"Dealer Interaction"==E||"home dealer locator teaser impression"==E)?"interaction":"search",a.prop53=1==("Select Dealer"==E||"Dealer Interaction"==E||"home dealer locator teaser impression"==E)?"ux":"dealer"),a.linkTrackVars=a.apl(a.linkTrackVars,"eVar31,prop57,prop22,eVar17,prop58,prop52,prop54,eVar71,prop1,prop2,prop4,prop5,prop27,eVar175,prop41,pageName,products,eVar34,eVar40,eVar41,eVar42,eVar136,prop19,prop21,prop24,prop42,prop43,prop50,prop51,prop53,prop56,prop55");var S={"DLO Errors":"event931,event932","Brand Selection":"event917,event918","DLO Start":"event271,event272","Select Dealer":"event277,event278,event917,event918","Select Preferred Dealer":"event285,event286,event917,event918","Delete Preferred Dealer":"event917,event918","Dealer Interaction":"event917,event918","home dealer locator teaser impression":"event925,event926","home dealer locator teaser click":"event907,event908,event917,event918","find dealer":"event271,event272,event275,event276","visit dealer":"event277,event288"};I=a.apl(I,S[E]),I=a.apl(I,S[T]),"DLO Search"==E&&(-1<(g=g.toString()).indexOf("Location")?I=a.apl(I,"event273,event274"):-1<g.indexOf("Dealer")&&(I=a.apl(I,"event275,event276"))),"Dealer Interaction"==E&&("Contact Information Show"==T||-1<T.indexOf("@")||-1<T.indexOf("http")?I=a.apl(I,"event279, event280"):"Plan Route"==T?I=a.apl(I,"event281,event282"):"DLO Online appointment"==T&&(I=a.apl(I,"event283,event284"))),a.events=I,a.linkTrackEvents=a.apl(a.linkTrackEvents,I)}catch(e){var V={from:"Analytics",type:"Rule",name:"DCR - All - NSC - All - AA - DLO"};_satellite.logger.error(e,V)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DLO",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLd645ca7b87d14537b80800a465cfee04",name:"TPT - NL - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCeb810fce9d6d43c7bf6c3e78ca72d719-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL054a4689bb79457fa4ae432afd0c9f8d",name:"TPT - BR - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc507f7f5be9c435387cb93b935b9f06c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5c716d42f8684e2992d50bba3ae2d4a5",name:"TPT - JP - AEM - SpeedCurve - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf3b8303f01c549bb9aaf36580fe35275-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaef8315824d64b67a13308a961da576e",name:"HT - All - NSC - Multiple - Fire Mbox",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(t){try{return Boolean(_satellite.getVar("AT-property"))||new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname)}catch(s){var a={from:"Condition",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,a)}}}},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"window.navigator.userAgent",value:"Googlebot",valueIsRegex:!0},negate:!0}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if (_satellite.getVar('topLevelDomain') !== 'bmw.de' && _satellite.getVar('topLevelDomain') !== 'bmw.it'&& _satellite.getVar('topLevelDomain') !== 'bmw.fr'&& _satellite.getVar('topLevelDomain') !== 'bmw.co.uk')\n    return; //Don't run the CS integration script on non-whitelisted markets\n\n/*\n *Name: Adobe Target CS Integration\n *Version: 1.5\n */\n(function() {\n    var tvp = \"AB_AT_\";\n    var tokens = \"\";\n\n    function sendToCS(csKey, csValue) {\n        csKey = tvp + csKey;\n\n        _uxa.push([\"trackDynamicVariable\", {\n            key: csKey,\n            value: csValue\n        }]);\n    }\n\n    function removeDuplicates(myArr, prop) {\n        var mappedObj = {};\n        return myArr.filter(function(obj, pos, arr) {\n            var val = obj[prop]\n            if (mappedObj[val]) {\n                return false;\n            }\n            return (mappedObj[val] = true);\n        });\n    }\n\n    function init() {\n        if (window.CS_CONF) {\n\n            CS_CONF.integrations_handler = CS_CONF.integrations_handler || {};\n            CS_CONF.integrations_handler.adobe_target_tokens = [];\n\n            var uniqueTokens = removeDuplicates(tokens, \"activity.name\");\n            if (uniqueTokens) {\n                uniqueTokens.forEach(function(token) {\n                    var campaignName = token[\"activity.name\"];\n                    var experienceName = token[\"experience.name\"];\n\n                    CS_CONF.integrations_handler.adobe_target_tokens.push({\n                        'CampaignName': campaignName,\n                        'ExperienceName': experienceName\n                    });\n\n                    sendToCS(campaignName, experienceName);\n                });\n            }\n        }\n    }\n\n    function callback() {\n        if (!disableCallback) {\n            disableCallback = true;\n            init();\n\n            if (window.CS_CONF) {\n                CS_CONF.integrations = CS_CONF.integrations || [];\n                CS_CONF.integrations.push(\"Adobe Target\");\n            }\n        }\n    }\n\n    var disableCallback = false;\n\n    function getEventData(e) {\n        if (e && e.detail && e.detail.responseTokens) {\n            tokens = e.detail.responseTokens;\n\n            window._uxa = window._uxa || [];\n            _uxa.push([\"afterPageView\", callback]);\n        }\n    }\n\n    document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, getEventData);\n})();\n//Adobe Target CS Integration End",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var targetParamsManager = _satellite.getVar('AT-TargetParamsManager');\n\ntargetParamsManager.mergeParams({\n    'at_property': _satellite.getVar('AT-property')\n});\n\n// The data element 'AT-AffinityParams' returns a custom object containing categories defined by BMW for calulating the affinity using profile scripts\nvar affinityParams = _satellite.getVar('AT-AffinityParams');\n//The second parameter to mergeParams sets \"once\" : \"true\" meaning that the values will be sent via only one target call\ntargetParamsManager.mergeParams(affinityParams , true);\n\nwindow.targetPageParamsAll = function() {\n    return targetParamsManager.getParams();\n}",language:"javascript"}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body{opacity:0px}",bodyHidingEnabled:!1}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL0dc60332d3eb48acb4f91fe9d0d1af09",name:"TPT - CA - AEM - RAPID RTC Online Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2631320010504a6b8f77ba5bc78bcc69-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC84485e5cf0b847b396de60ebbe6dc1f0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL566a35b845f941dd86d201f9b691cc68",name:"TPT - AU - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger-third-party",function(e){e.detail&&t()})}catch(e){_satellite.logger.error("TPT: Search Tag ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf42ed27d6106432ba4dd601a197b91fa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb679b676eeab41a4ae5bd8b484c9ce00",name:"TPT - AU - AEM - MathTag - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd780cc0d067649f1bbcb157f24822a0c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf71d03b15d884eb88208b9f6b0c0d684",name:"TPT - PL - AEM - Doubleclick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5b32d0021b6e4778ba1e0720ceb3458e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL978c17a4e1df4aee9ee01d07b065e312",name:"PLR - All - AEM - AA - DCS Event Listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=["bmw.de","bmw.it","bmw.be","bmw.fr","bmw.es","bmw.nl","bmw.lu","bmw.ch","bmw.pl","bmw.pt","bmw.at","mini.de","mini.it","mini.fr","mini.at","mini.be","mini.es","mini.nl","mini.lu","mini.ch","mini.pl","mini.pt","bmw-int4.com","bmw-int5.com","mini-int7.com"],a=_satellite.getVar("topLevelDomain");if(-1<t.indexOf(a))return!0}catch(e){_satellite.logger.log("Error in PLR - All - AEM - AA - DCS Event Listener",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try{\n   window.addEventListener('dispatch_event',function(e){\n     _satellite.logger.log(\"Khubruy event fired for event DCS\");\n     _satellite.track('dcs');\n   });\n   window.addEventListener('dispatch_pageload',function(e){\n     _satellite.logger.log(\"Khubruy event fired for pageload DCS\");\n     _satellite.track('dcs_pv');\n   });\n}catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"DCR\",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RL7eb7e3560a754bdd889ea1ac21fbc6df",name:"TPT - HU - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCec14ac292e12400c872fcc5c1a2cf57d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL976765c86db2447ea1406922c2cf36ff",name:"TPT - AT - AEM - Facebook - iFrame RFO Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb9dd4ead111948db9afc6782a24dbafe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3a16bc711b34bb09121c9ba84d00708",name:"TPT - RU - AEM - Calltouch - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2d71ab1f592e4478b3775c24e82bfaf6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3e112fed7d4e4caca48bd81c11518ca7",name:"PLR - ALL - NSC - AA - share Campaign with IUCP",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    \n    function checkCampaignParameter(){\n      if (window.location.search && window.location.search != "") {\n        var campaignParameter = window.location.search;\n        campaignParameter = "campaignParameter:" + campaignParameter;\n        _satellite.logger.log("**INCOMING CALL TO IUCP, over**");\n        //var iframeContent = document.querySelector("#iframestage__columncontrol__par-4col__iframeadaptive");\n        var iframeContent = document.querySelector("#iframepar__iframeadaptive");\n        if(!iframeContent){\n          iframeContent = document.querySelector("#externalContentIFrame-iframeintegrationadaptive");\n        }\n        iframeContent.contentWindow.postMessage(campaignParameter, \'*\');\n      }\n    }\n\n    //&& self.location.href.indexOf(\'usedcar\') > -1 && (_satellite.getVar(\'topLevelDomain\') == "bmw.co.kr" || _satellite.getVar(\'topLevelDomain\') == "bmw.de")\n    if (self == top) {\n        self.addEventListener("message", function (event) {\n            //if (event.origin != "https://bps.bmw.com" && event.data != "IncomingCall") {\n            if (((event.origin.indexOf(\'bps.bmw.com\') < 0) && (event.origin.indexOf(\'mn.mini.com\') < 0)) && (event.data != "IncomingCampaignCall")) {\n                return;\n            }\n            _satellite.logger.log("**MESSAGE RECEIVED**");\n            checkCampaignParameter();\n        })\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: "TPT",\n        type: "Rule",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}',language:"javascript"}}]},{id:"RLe07c489a7fef4216ac837664616eda43",name:"TPT - ES - AEM - AdWords - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe1ed820116054a81bf9eb94eccd89bc5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf59f30952e4a48a9a959b9d1690de1bb",name:"DCR - All - AEM - AA - Stock Locator Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.getVar("flatMapping")(a),_satellite.getVar("setDefaultVariables",t)(a);var s=_satellite.getVar("snapshotDL"),r=s.get("event.-1.eventInfo.effect"),n=s.get("event.-1.eventInfo.eventName"),o=_satellite.getVar("smartPreviousValueManager");if(a.prop27=s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",s.get("page.pageInfo.pageID")),a.eVar135=s.get("page.pageInfo.sysEnv"),a.prop1=s.get("page.pageInfo.pageName"),a.prop1.indexOf("sl >")<0?a.prop1="stock > "+a.prop1:a.prop1=a.prop1.replace("sl >","stock > "),a.pageName=a.prop1,a.eVar34=s.get("event.-1.eventInfo.effect"),a.eVar34.indexOf("sl >")<0?a.eVar34="stock > "+a.eVar34:a.eVar34=a.eVar34.replace("sl >","stock > "),-1!=r.indexOf("/ssl/requests/rfo")||-1!=r.indexOf("/topics/offerte")||-1!=r.indexOf("contact.bmw.fr")?(a.events=a.apl(a.events,"event375,event376"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event375,event376")):"sl > start"==n&&(a.events=a.apl(a.events,"event371,event372"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event371,event372")),a.prop42="stock locator",a.prop43=-1!=s.get("component.-1.componentInfo.componentName").indexOf("digital > new car stock locator")?"new car stock locator":_satellite.getVar("AA-componentDefaultValues").subCat,
a.prop19=-1!=s.get("component.-1.componentInfo.componentName").indexOf("digital > new car stock locator")?"central new car stock locator":_satellite.getVar("AA-componentDefaultValues").componentName,o.update("pagePrimaryCategory",a.prop19),void 0===r||-1==r.indexOf("banner slided right")&&-1==r.indexOf("vehicle details clicked")&&-1==r.indexOf("banner slided left")&&-1==r.indexOf("back")&&-1==r.indexOf("banner slided with pagination dot")&&-1==r.indexOf("ss : show vehicle details clicked")&&-1==r.indexOf("disclaimer layer closed")&&-1==r.indexOf("ss : see more vehicles clicked")&&-1==r.indexOf("show all vehicles")&&-1==r.indexOf("accordion")?void 0===r||-1==r.indexOf("search filter selected")&&-1==r.indexOf("dealer selection")&&-1==r.indexOf("sort lowest price")&&-1==r.indexOf("location selection")&&-1==r.indexOf("sort")?void 0===r||-1==r.indexOf("stock locator started")&&-1==r.indexOf("ss : similarity search started")&&-1==r.indexOf("disclaimer layer opened")||(a.prop53="automatic"):a.prop53="success":a.prop53="ux",a.products)-1<a.products.indexOf("search")&&(i=_satellite.getVar("setDefaultProductVariables"),a.products+=i.toString());else{var i=_satellite.getVar("setDefaultProductVariables");a.products=i.toString()}a.linkTrackVars+="prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,prop33,eVar28,prop31,eVar14,prop53,products"}catch(e){var c={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Stock Locator Event"};_satellite.logger.error(e,c)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"stocklocator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL75c4fa35618b4b6aad863a654c595723",name:"TPT - NL - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC395625f474cd44638fa88bd27c69b32c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1bc5268943654136ba1d418719728474",name:"TPT - GR - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd4e4bf4d138f4565898e3f5dfcecad57-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6895ebfc72de4be69dbb9895ebe2d281",name:"TPT - AT - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc7c674ccca604fdaa92c9c2d7029140c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL108bca42be2a4cb2953c93d0981c8e53",name:"TPT - ES - AEM - Sizmek - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC400bf0038cf24be5b6fc0168b91501db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a20ccaecacf4b26a5765b3500c77b5f",name:"TPT - KR - AEM - AddingBoldStyle - All pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.kr"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf6fbb14085e34fb7937888ada9e8cdc2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a80ed4a1e9e43ea954a642b78fe0d55",name:"TPT - ES - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe28cbe99f0d2475e9fd25e73dbddb7e8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1baf6490836640748f0f7e5baaf9c43c",name:"TPT - IE - AEM - Adwords - Dealer Locator Overlay Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/fastlane/dealer-locator.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1bfcd540ea4e455ebf636faedfc77a40-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83718babd66d4ba283817cdaed9752bf",name:"TPT - FI - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/tarjoukset/kampanjat.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb7b7aacfdb3147fbb382e921126bc957-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5655a38b3a1b4406b4b859edbc9603be",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Settle - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_settle"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd563f532f1d04855906a834667bc11b4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0959eb5c65ed412cb3f270861174d9aa",name:"DCR - All - AEM - AA - Stock Locator Page",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("smartPreviousValueManager");_satellite.getVar("flatMapping")(a),_satellite.getVar("setDefaultVariables",t)(a);var r=_satellite.getVar("snapshotDL");a.prop27=r.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",r.get("page.pageInfo.pageID")),a.eVar135=r.get("page.pageInfo.sysEnv"),a.prop50="page title",a.prop17=a.prop44=a.eVar71=a.prop54=a.prop11=a.prop7=a.prop8=a.prop6=a.prop55=a.prop51=a.prop24=a.prop21=a.prop52=a.eVar34=a.prop57=a.prop56=a.prop58=a.prop12=a.prop53=a.eVar23=a.eVar24="","undefined"==a.products&&(a.products=""),a.prop1=r.get("page.pageInfo.pageName"),a.prop1.indexOf("sl >")<0?a.prop1="stock > "+a.prop1:a.prop1=a.prop1.replace("sl >","stock > "),a.pageName=a.prop1,s.update("pageName",a.prop1,!0),a.prop42="stock locator",a.prop43=-1!=r.get("component.-1.componentInfo.componentName").indexOf("digital > new car stock locator")?"new car stock locator":_satellite.getVar("AA-componentDefaultValues").subCat,a.prop19=-1!=r.get("component.-1.componentInfo.componentName").indexOf("digital > new car stock locator")?"central new car stock locator":_satellite.getVar("AA-componentDefaultValues").componentName,s.update("pagePrimaryCategory",a.prop19,!0),s.update("componentSubcategory1",a.prop43,!0),s.update("url",a.eVar4,!0),s.update("pageSubCategory01",a.prop4,!0),a.eVar14=s.get("url"),a.prop31=s.get("pagePrimaryCategory"),a.prop32=s.get("pageSubCategory01"),a.prop33=s.get("pageName"),a.eVar28=s.get("componentSubcategory1")}catch(e){var n={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Stock Locator Page"};_satellite.logger.error(e,n)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLa264b631a9204e38b93a807964d9238d",name:"TPT - ZA - AEM - MediaMath - Multiple - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4becf4015504498e95234971d5226c39-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd5d4782c7b4c41768e24005c9bf76824",name:"TPT - MX - AEM - Retargetly - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa6cdbf38559a48e3a64b90c89ab8a322-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdfe4508cfe2b4c20b64c405fcba6c8a7",name:"TPT - MX - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC369e28effd894694b700cf92480212b5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35a6d35ec9c24aed8b1392aa6b3591ac",name:"TPT - PT - AEM - Facebook - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"PT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC02e7f8b5d4534f0f8e79fe7f15839716-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf9d274fb965942628cb03d64dd7ad65a",name:"TPT - IE - AEM - DoubleClick - Configurator Submit Button Confirmation - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#h5vco-engine-selection-list > div > article > div.h5vco-next-button-container.h5vco-clearfix > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe3128771c3d345e799aeb90741f7fba2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL05bf0848242c409ba14f4e056b076fe9",name:"PLR - All - AEM - Custom Code - Performance timing",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){function t(){try{var t=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;return"unavailable"!=(t||"unavailable")?0<t.getEntriesByType("navigation")[0].duration?"ok":"wait":"unavailable"}catch(e){var a={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,a)}}function a(){try{var t=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;_satellite.logger.info(t);var a,s,r,n,o,i,c,l,d,u={};"unavailable"!=(t||"unavailable")&&(a="ok",_satellite.logger.info("SATELLITE : performance tracking : "+a),s=document.location.protocol+"//"+document.location.hostname+document.location.pathname,r=document.location.search,n=document.location.hash,o=t.getEntriesByType("navigation")[0].requestStart,i=t.getEntriesByType("navigation")[0].responseStart,c=t.getEntriesByType("navigation")[0].domInteractive,l=t.getEntriesByName("first-contentful-paint")[0].startTime,(d=t.getEntriesByType("navigation")[0].duration)<0&&(d=0),u={status:a,path:s,query:r,hash:n,timeServer:o,timeServerReact:i,timeDOM:c,timeContent:l,timePageReady:d},(o<0||6e4<o||i<0||6e4<i||c<1||d<0||l<0||1e5<c||1e5<l||2e5<d)&&(u.status="error"),"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&_satellite.cookie.set("bmwdtm_hq_perf",JSON.stringify(u)))}catch(e){var m={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,m)}}try{if("hidden"!=document.visibilityState){window.perfTime=window.perfTime||[];var s=t();if("ok"==s||"unavailable"==s)a();else var r=0,n=setInterval(function(){r++,"ok"==(s=t())||"unavailable"==s?(clearInterval(n),a()):100<r&&clearInterval(n)},50)}else"hidden"==document.visibilityState&&_satellite.logger.log("khubruy performance timing hidden!!")}catch(e){var o={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,o)}}},trackerProperties:{}}}]},{id:"RL7032664de4094e5c9d542910f77fd8f0",name:"TPT - MX - AEM - Applink - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC24212995116b4357a798a42707154400-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2d25e82366e44d6af92cc0a3ba0a316",name:"TPT - ZA - AEM - Adform - i8 Model Buy Now - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/forms/buy-now.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/bmw-i/i8-coupe/2017/at-a-glance.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4f9c6d3d2c5744939158e018d39e60cb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7422cdce4e94d5c9081bec6ad04f69e",name:"TPT - NL - AEM - Inbenta Chat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/nl/shop/voorraad-nieuw/checkout/",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6bc7b4a621864a64a9bed0e4919004ba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL08ef79e8722c46cdbb6a3948f80683e7",name:"TPT - NL - AEM - Bing - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8f8b1fc2939c4461860d90b3a17c5ad7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfeb54312a4804220a98cc37889033c8c",name:"PLR - ALL - NSC - AA - ActivityMap for link and region",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0b0e9cd0e92f43dc95d4082578d7b4aa-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){function n(e){var t=["vin","token"];for(var a in t)-1<e.indexOf(t[a])&&(e=e.split(t[a])[0]);return e}try{_satellite.logger.log("ActivityMap: Initialized"),a.ActivityMap.superLink=a.ActivityMap.superLink||a.ActivityMap.link,a.ActivityMap.link=function(e,t){if("false"===_satellite.getVar("isAdobeAnalyticsAllowed"))return!1;if("object"!=typeof e)return!1;if(t)return _satellite.logger.log("ActivityMap: linkID from linkName:"+t),t;var a="";e||(e="");try{e&&(a=e.getAttribute("data-tracking-linkid")||e.getAttribute("data-name")||(e.getAttribute("href")&&e.innerText?e.innerText.replace(/[:>\s\/\n]+/g," ").trim()+":"+e.getAttribute("href"):null))||(a=this.superLink(e,t)),a&&(a=a.toLowerCase().replace(/[\s\/\n]/g," "),_satellite.logger.log("ActivityMap: Custom linkID: "+a)),a&&(a=n(a))}catch(s){_satellite.logger.error(s),a=""}return a},a.ActivityMap.superRegion=a.ActivityMap.superRegion||a.ActivityMap.region,a.ActivityMap.region=function(e){if("object"!=typeof e)return!1;var t;try{_satellite.logger.log("ActivityMap: getting RegionID");for(var a=e;a&&(a=a.parentNode);){var s=a.getAttribute("data-tracking-regionid")&&a.getAttribute("data-tracking-regionid")||a.nodeName.match(/HEADER|MAIN|FOOTER|/i).join();if(":"!=s&&""!=s||(s=""),s&&":"!==s&&(t=s+(t?">"+t:"")),"BODY"==a.nodeName){t!=undefined&&t.match(/^(HEADER|MAIN|FOOTER)/i)||(t="main"+(t?">"+t:""));break}}}catch(r){(console.error||console.log).call(console,r.stack||r)}return t&&(t=n(t)),t=t?(t||"").toLowerCase().replace(/[\s\/\n]/g," "):this.superRegion(e),_satellite.logger.log("ActivityMap: Custom regionID: "+t),t}}catch(e){var s={from:"PLR",type:"ActivityMap",name:t.$rule.name};_satellite.logger.error(e,s)}}},trackerProperties:{}}}]},{id:"RLf850e54fc93843f68048a94519318711",name:"TPT - RU - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa9c4a4fbaef841ebabc5d376fa5bb5b9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLda5d9e51a78f49bba0f3340bcd7a3b59",name:"TPT - FR - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2066153e1a7742f89bc9b8e277696dbf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5ec22ea374144dae9816f5782c3aca92",name:"TPT - NL - AEM - Submit Button Pixel - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0e76c57a7cb94a5b948879455cf9b033-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc75d9a0d894a4446b071fb531fd7222f",name:"TPT - NL - AEM - IgnitionOne - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa6b8d986d79f483390a8b2983a182e80-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbcf3c52da56847ac9b8317007c6025d4",name:"TPT - ID - AEM - Adwords - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC657f95f527d04e96913a4798f451f09c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3e4106ec14e4392b45cbb61f355a9f0",name:"TPT - ZA - AEM - VeInteractive - All Pages - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/1-series/5-door/2015/start.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb6ea66772829494a96855058abf0d36f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdf5673fd79e64c90ac01048c84881fbc",name:"TPT - ZA - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0ed5567e25924080b4793947129bb38d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc7377ae846bc43c6a407c3e29202370e",name:"TPT - SI - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe8ad596b68754fd7b342f42bdb0ab44e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b929a391bfa4e6191aeab46087f0f5b",name:"TPT - DE - AEM - GTagDC - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0c7ec36fa4334ca3881a704ecb7bc423-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL82421849827143d18e262599819bae91",name:"TPT - PL - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfb18ce57b9534015bf85c1e5719752d2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf44a4da418ad4863bcbe081746692961",name:"TPT - CH - AEM - DoubleClick - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formtda [gcdm-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3c716743dc8f4c22a49fc103a337002f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3cc58e3aaec41568c32b1e4f99b7baf",name:"TPT - DE - AEM - GTagDC - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc41bf24b80b347a586b0ad95c86fda50-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2a492e5b3b34abdb4cc9af3ddbfc45b",name:"TPT - BG - AEM - FX Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC622d1c2daff04e759b6fa26f7a157da4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c5510dab2d242ca98980ae0b35db8ff",name:"TPT - ES - AEM - Twitter - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCaa6497e6ace14a3f822b0425c9358aaf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9dbc32f7eeeb49aa9c257e3d6270572e",name:"TPT - FI - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf260543751a94d75b55d9df6f4dc8045-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL38a4812795c64b259453230b170ff5b3",name:"TPT - DE - AEM - Criteo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8ab17a7a16e7454baef5e2ba7bc4c5b2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa64c8158e1b4a0ca6381aaae155e931",name:"TPT - IE - AEM - Doubleclick - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb37a2458153c4967ba75312e995b09e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe6377c8548ee44dd969d5ed8d30f6138",name:"TPT - DE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC95b3d17474984131ac82b4ca870cebb9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb9fdf3d8d6b94178ba18592f04789177",name:"TPT - BE - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0b38fb991e35435eaca11ad8f48ed1bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL097d206c2a254b2996d4eba97aa75493",name:"TPT - IN - AEM - Lotame - 3 Series Download Brochure - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa2ddb1c3638e44f7879f6edb2969216b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc7a0eca517a4d43bfee277ba0c68024",name:"TPT - CH - AEM - DoubleClick - Dealer-Partner_Loctor_Selection - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbf7ef35d11b648999eee7abe662c9dde-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL79a03261534046b89c2a617aa0e83f75",name:"TPT - FI - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb41ee9fac49342879219c57d5d1ca37c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a7c655750e9417cbcab5df3b65d6198",name:"TPT - AT - AEM - Facebook - Used Car Btn - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw-boerse.at/"].ds2-quickactions-link-js.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdb17582598d4416587b50540bdf9d692-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e66cf8ea3264ec49139bb134ae2c4ae",name:"TPT - DK - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCeb5abce1a0ea47318dbb5a401102b60d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3cb08892c80d473380aa3639cf584022",name:"TPT - SI - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC23b1ffe30a964680a1765aaa12ff00c6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5f0aaba3935f4c88bea51ef5a0e96433",name:"TPT - SI - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC62b9ed951c4f4b05b58564575ed04402-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0d02be2a730f468ab001cb9931302af1",name:"TPT - IT - AEM - Usabilla - Adhoc Survey - Stock Locator - RFO Form Finish",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc30039883a234a469c2cd91f937fe348-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd28e93e22f14439faf0fce1b77b0b13c",name:"TPT - BG - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC445fb031261a450c9ef6cc21ff2e3640-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd112b48e0b544a7be1bcd02b0ad511a",name:"TPT - AT - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC658ab0b76ad74ed5bf58bbab8c0c5211-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL442dbe9368e34b98bacda5c87a0af519",name:"TPT - MY - AEM - Sizmek - Financing Rates From 0.33% (Test Drive Click) - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Test Drive",valueIsRegex:!1}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/exclusive-offers/attractive-financing-rates.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1bb983659ad047dfa15e5ae6b9dc7bfb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a36c255df2e43bbac1a061d9ecc1472",name:"TPT - SG - AEM - Adform - Price list Download - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".is-sticky.ds2-sticky-sales-bar--uxn.is-visible > ul > li:nth-child(3) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC89258a2265ee48a99ae163973bae1c37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL53fa9e7ec5b543a7836a856f8a3f5e5c",name:"TPT - FR - AEM - StickyBar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"\\/fr\\/voiture-neuve.html*",valueIsRegex:!0},{value:"\\/fr\\/stocklocator.html*",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcc8a187821ca47df8482f8b847f2f48e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3961f701fa7a4e56a09975593cb9c75e",name:"TPT - PL - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe272e992181f498eb92f59c7059639a7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLacdfc4b953444310b56fa7adec2f8907",name:"TPT - DE - AEM - ContentSquare - Confirm Save Configuration - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"confirm_save_configuration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC029158d68d094386adbaea257b9e58d1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6d906c0c38984031a61a693372e1a986",name:"TPT - DE - AEM - Webchat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html",valueIsRegex:!0}]},negate:!0},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/forms/angebotsanfrage/angebot-anfordern.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1e4d5b123e4440309fc3f4f23fa9fc7b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL785d154f1c2145ada892017f9dbb438f",name:"TPT - SG - AEM - Adform - E-Brochure Download - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Download e-brochure",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m2-coupe/2018/m-240i-coupe.html",valueIsRegex:!0},{value:"/en/all-models/2-series/activetourer/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/2-series/grantourer/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/6-series/gran-turismo/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/8-series/convertible/2018/bmw-8-series-convertible.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X2/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X2/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X4/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X5/2018/bmw-x5-at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/x7/2018/bmw-x7-inspire.html",valueIsRegex:!0},{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m2-coupe/2018/bmw-m2-competition.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m3-sedan/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m4-coupe/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m5-sedan/2017/bmw-m5-competition.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC982c8afc4f8a44e58a9e725c1afbc9b3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL506fef605b0f403eb30e0e814001daa0",name:"TPT - LU - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa6b8e4b8c83845508ba3d087eeaddc4c-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa87c24ac63d04119bf70fb8ac840a02b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4d1f2bdfcaac49b0b6c50e58e49abc4b",name:"TPT - ZA - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd6f039852eb74e62aa5fef5ee8242d1f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3c929a486b3c4df590143dd8a72cc28c",name:"TPT - GR - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbc63ad240813410b879305e31582a230-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3236accd03744a439ba76c8ad530cb71",name:"TPT - ZA - AEM - Effectivemeasure - All Pages - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC126e4786117242da9a7ec34e49d04d87-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL14e2df54fdd54369b87d1ce6e63bfdab",name:"TPT - PL - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5271095b71f94750a4d8a8fc1559010f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL589ffd971b914e4ba384fe0a53d58f44",name:"TPT - DE - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neuwagensuche.html",valueIsRegex:!0},{value:"/de/publicPools/search-results/search-results.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC43cb1f929c7b4828805c74274e08f4df-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5cceaacefe9e43089ae96d92aeec27a9",name:"TPT - NL - AEM - Bing - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC86a5a5b13f4648b59bb94c3c288447d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL850e4d4a91a8479bbca8bcb6009b2e10",name:"TPT - PT - AEM - Adwords - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC85f288e3b85e459e9e90934d0930edbc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a6734efaf8140fba6c211b8b13f3595",name:"TPT - AT - AEM - Pinterest - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC81359185ce1448f99b692f8038adf8dd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7229ce3321be47348ac89d5c9055adf6",name:"TPT - SK - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC701f1a8562b84ae3aabee36a8ea137a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL40fceb7895c0448c94f5134db1dfd0a5",name:"TPT - RU - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd94edfe208224f56ad3e0d6b63ed98ae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLccf36786a0124a04b6308f64c5d11b94",name:"TPT - FI - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd05cda4d27e44f0f84e8ac5bd4df6821-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb6e63ce3c54d4f51b61dd4a2ab3f89f1",name:"PLR - ALL - NSC - AA - share MID with IUCP",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    function checkMID() {\n        if (typeof s != "undefined") {\n            if (s && s.visitor) {\n                var mid = s.visitor.getMarketingCloudVisitorID();\n                _satellite.logger.log("**INCOMING CALL TO IUCP, over**");\n                var iframeContent = document.querySelector("#iframepar__iframeadaptive");\n                if(!iframeContent){\n                  _satellite.logger.log("**sending to iframe**");\n                  iframeContent = document.querySelector("#externalContentIFrame-iframeintegrationadaptive");\n                }\n                _satellite.logger.log("**sending to iframe**", mid);\n                iframeContent.contentWindow.postMessage(mid, \'*\');\n            }\n        }\n    }\n\n    //&& self.location.href.indexOf(\'usedcar\') > -1 && (_satellite.getVar(\'topLevelDomain\') == "bmw.co.kr" || _satellite.getVar(\'topLevelDomain\') == "bmw.de")\n    if (self == top) {\n        self.addEventListener("message", function (event) {\n            //if (event.origin != "https://bps.bmw.com" && event.data != "IncomingCall") {\n            if (((event.origin.indexOf(\'bps.bmw.com\') < 0) && (event.origin.indexOf(\'mn.mini.com\') < 0)) && (event.data != "IncomingCall")) {\n                return;\n            }\n            _satellite.logger.log("**MESSAGE RECEIVED**");\n            checkMID();\n        })\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: "TPT",\n        type: "Rule",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}',language:"javascript"}}]},{id:"RLda57366dd0514213bd53b56672161932",name:"TPT - BG - AEM - Doubleclick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9a385a44c4144b5dad991730c32f0bd9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c737891b02346a1b3b99fdd09e1eaf4",name:"TPT - NO - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf6700341ad6f41fa8939e016169c8420-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL12a1908d61c54c5887f310d59b201628",name:"TPT - DE - AEM - Adobe Campaign Pixel - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC907586f62c614b6ba74e87865a26e9ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL312db2fc14b24215ad24709cb3d92a1d",name:"TPT - UK - AEM - GTagDC - iFrame RFS Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0d24eceecf214ccbba3c8765ffef30c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL057ab874ceff49b5bfe186ef69794989",name:"TPT - RO - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc5b033813c074ff287ccf94a75ca17b7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8e1da6bbd4034cfbacd8a7e13f4f5b4a",name:"TPT - FI - AEM - Adform - Yritysmyynti Buttons Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Premium Selection -vaihtoautot",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Lue lis\xe4\xe4 Laakkosen sivuilta",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"BMW Vakuutus",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Rakenna oma BMW",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Hinnastot ja esitteet",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Varaa huolto",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/yritysmyynti.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc76dd2c0ade14a0f82bac748baf85d6a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5d9c23768e1e47489a3bd345e766f57b",name:"TPT - IT - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdf6bbf6d6fbb49f2b3296ffd2f61454a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL18a19e6ac654458cb6f52590bdd8defa",name:"TPT - NL - AEM - Facebook - iFrame - RFS Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC85602290f821492790b8721fe385aeac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd97a33eb86304ab4a4cc9ab9a61659b5",name:"TPT - JP - AEM - TradeDesk - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd51d0de36a054c2fb0846a720696ddc3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc031561423c84eeb994b4a0374646b3f",name:"TPT - DK - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4561772cf6b348c28b97956da989179b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa7ea8e3572fe4c578550455fd5b6c534",name:"TPT - HU - AEM - GTagDC - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{
modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC792702c943ef4d2188b488a6d7049ddd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL501eb02e5cee484dbbd887695ca89e43",name:"TPT - DE - AEM - Outbrain - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0a4f1583833540fca42fb04511118376-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb8e53c58e98743ef8760dfec00643873",name:"TPT - DE - AEM - Nero - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int.+.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC39ac278dac6d4dfbba05fc5d43daf0b3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6be444c276e1415b8ca4ef6c82837d2d",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice Copy - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_invoice_copy"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1b085d1a4c45464ba5ec4935874223e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL984150eb085d49c984dd0f67508cdc93",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli BMW Bus Demo - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_bmw_bus_demo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf20fe5f2ccee45e39b976b388585bd87-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbff655cdd24d4599bcc3c05c8b89dcf2",name:"TPT - IT - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC13f3f89283544838804bba85aab9a924-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb954a64a470e4d61b1167935cfdba021",name:"TPT - FR - AEM - Sizmek - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8bf1a8bfce96443a849dc87bd04fcf11-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC72c8f3a085724953a0842935a4945f2e-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbc3d4e474f484fd7be61e5b3593153cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL361ce464d2eb4620b63f441cfe542b94",name:"DCR - All - AEM - AA - Accessory Configurator",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_steps"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){function s(){a.prop56="interaction",a.prop53="success",a.eVar34=-1==i.indexOf("con >")?"con > "+i:i,a.prop54="accessory configurator",a.prop55="datalayer field missing",a.prop51=o,a.prop52=c,a.prop19=a.prop43="accessory configurator",a.prop42="configurator",a.linkTrackVars=a.apl(a.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop19,prop42,prop43")}function r(){a.prop56="form",a.prop53="central form",a.prop54="RFA",a.prop55=i,a.prop51="lead",a.prop52=c,a.prop6="central form",a.prop11="RFA",a.prop7="datalayer field missing",a.prop10="dedicated forms",a.prop18="lead",a.prop17="datalayer field missing",a.prop19=_satellite.getVar("AA-componentDefaultValues").componentName,a.prop42="configurator",a.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,a.linkTrackVars=a.apl(a.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop6,prop11,prop7,prop10,prop18,prop17,prop19,prop42,prop43")}try{a.linkTrackVars="events,",a.linkTrackEvents="",a.events="";var n=_satellite.getVar("snapshotDL"),o=n.get("event.-1.eventInfo.eventName"),i=n.get("event.-1.eventInfo.eventAction"),c=n.get("event.-1.eventInfo.cause"),l=n.get("component.-1.componentInfo.componentName"),d=(n.get("component.-1.category.subCategory01"),n.get("page.pageInfo.pageName",n.get("event.-1.attributes.relatedPageName")));_satellite.getVar("setDefaultVariables",t)(a),a.prop57=n.get("event.-1.eventInfo.eventAction"),n.get("event.-1.eventInfo.eventPoints")&&parseInt(n.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(n.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(n.get("event.-1.eventInfo.eventPoints"))?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(n.get("event.-1.eventInfo.eventPoints"))<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+n.get("event.-1.eventInfo.eventPoints"),",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=n.get("event.-1.eventInfo.eventPoints"),a.prop12=n.get("event.-1.eventInfo.timestamp"),a.prop52=n.get("event.-1.eventInfo.cause"),a.prop55=n.get("event.-1.category.subCategory01"),a.prop50=n.get("event.-1.eventInfo.element"),a.eVar71=n.get("event.-1.eventInfo.target"),a.eVar17=n.get("user.-1.profileInfo.visitorID"),a.eVar136="2020 - 06- 15 accessories configurator",a.prop27=n.get("page.pageInfo.pageID"),a.prop3=l,a.prop5=n.get("page.category.subCategory02"),a.prop2=n.get("page.category.pageType"),a.prop28="virtual"==n.get("page.category.pageType")?"virtual page":"",a.prop1=a.pageName=-1==d.indexOf("con >")?"con > "+d:d,a.linkTrackVars=a.apl(a.linkTrackVars,"prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop52,prop55,prop50,eVar71,pageName");var u=n.get("event.-1.attributes.mmdr",n.get("product.-1.attributes.mmdr")),m=n.get("event.-1.attributes.engine");if(m){var b=/[0-9]{3}[a-z]{1}/i,p=/xdrive[0-9]{2}[a-z]{1}/i,g=/sdrive[0-9]{2}[a-z]{1}/i,f=m.match(b)||m.match(p)||m.match(g);-1<m.indexOf("i3 (120 ah)")||-1<m.indexOf("i3 (120ah)")||-1<m.indexOf("i3 120ah")?m="i3 (120 ah)":-1<m.indexOf("i3s (120 ah)")||-1<m.indexOf("i3s (120ah)")||-1<m.indexOf("i3s 120ah")?m="i3s (120 ah)":f&&f.length&&(m=f[0].toUpperCase())}var v=_satellite.getVar("setDefaultProductVariables");v.id=n.get("event.-1.attributes.mmdr",n.get("product.-1.attributes.mmdr")),v.category="vehicle",v.merchEvars.eVar47=n.get("event.-1.attributes.colour"),v.merchEvars.eVar52=n.get("event.-1.attributes.productName",n.get("product.-1.attributes.modelName")),v.merchEvars.eVar60=n.get("event.-1.attributes.manufacturer",n.get("product.-1.productInfo.manufacturer")),v.merchEvars.eVar10=u,v.merchEvars.eVar51=n.get("event.-1.attributes.bodyType",n.get("product.-1.attributes.bodyType")),v.merchEvars.eVar54="new car"==n.get("product.-1.category.primaryCategory")?"build to order":"",v.merchEvars.eVar50=n.get("event.-1.attributes.serie",n.get("event.-1.attributes.series")),v.merchEvars.eVar55=n.get("product.-1.category.subCategory01"),v.merchEvars.eVar58=m,v.merchEvars.eVar65=n.get("event.-1.attributes.productName");var h=_satellite.getVar("setDefaultProductVariables");switch(h.id=n.get("event.-1.attributes.wishlist.-1").split("~")[2],h.category="accessory",h.events=["event856="+n.get("event.-1.attributes.wishlist.-1").split("~")[3]],a.events=a.apl(a.events,"event856"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event856"),v.append(h),a.products=v.toString(),a.linkTrackVars=a.apl(a.linkTrackVars,"products"),o){case"Model Selection":"AC iFrame - Accessory Configurator Step"==i&&(a.events=a.apl(a.events,"event917,event918,event257,event253,event254"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event257,event253,event254"),s());break;case"ac start":"AC iFrame - Accessory Configurator Step"==i&&(a.events=a.apl(a.events,"event917,event918,event251, event252, event253, event254"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event251, event252, event253, event254"),s());break;case"ac model update":"AC iFrame - AC Model Change Intention"==i&&(a.events=a.apl(a.events,"event917,event918,event258, event253, event254"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event258, event253, event254"),s());break;case"ac start after model change":"AC iFrame - Accessory Configurator Step"==i&&(a.events=a.apl(a.events,"event917,event918,event251, event252, event258, event253, event254"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event251, event252, event258, event253, event254"),s());break;case"Summer Complete Wheels":case"Winter Complete Wheels":case"M Performance":case"Transport Solutions":"AC iFrame - Accessory Configurator Step"!=i&&"AC iFrame - Accessory Add"!=i&&"AC iFrame - Detail Click"!=i&&"AC iFrame - Visualisation Change"!=i&&"AC iFrame - Started wishlist Share"!=i&&"AC iFrame - Finished wishlist Share"!=i&&"AC iFrame - Download wishlist"!=i||(a.events=a.apl(a.events,"event253,event254,event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event253,event254,event917,event918"),s(),"AC iFrame - Finished wishlist Share"==i?(a.events=a.apl(a.events,"event905,event906"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event905,event906")):"AC iFrame - Download wishlist"==i?(a.events=a.apl(a.events,"event903,event904"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event903,event904")):"AC iFrame - Detail Click"==i?(a.prop53="ux",a.linkTrackVars=a.apl(a.linkTrackVars,"prop53")):"AC iFrame - Visualisation Change"==i?(a.prop53="ux",a.linkTrackVars=a.apl(a.linkTrackVars,"prop53")):"AC iFrame - Started wishlist Share"==i?(a.prop53="success",a.linkTrackVars=a.apl(a.linkTrackVars,"prop53")):"AC iFrame - Finished wishlist Share"==i?(a.prop53="success",a.linkTrackVars=a.apl(a.linkTrackVars,"prop53")):"AC iFrame - Download wishlist"==i&&(a.prop53="ux",a.linkTrackVars=a.apl(a.linkTrackVars,"prop53")));break;case"RFA: Selected Accessories":"AC iFrame - Accessory Configurator Step"==i&&(a.events=a.apl(a.events,"event253,event254,event917,event918,event29,event30,event3,event4,event9,event10"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event253,event254,event917,event918,event29,event30,event3,event4,event9,event10"),r(),a.eVar34="con > form started",a.prop8="form started",a.prop16="selected accessories",a.prop9="step 1/4",a.linkTrackVars=a.apl(a.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Personal Data":"AC iFrame - Accessory Configurator Step"==i&&(a.events=a.apl(a.events,"event253,event254,event917,event918,event7,event8,event9,event10"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),r(),a.eVar34="con > form step 2",a.prop8="form step 2",a.prop16="personal information",a.prop9="step 2/4",a.linkTrackVars=a.apl(a.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Dealer Selection":"AC iFrame - Accessory Configurator Step"==i&&(a.events=a.apl(a.events,"event253,event254,event917,event918,event7,event8,event9,event10"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),r(),a.eVar34="con > form step 3",a.prop8="form step 3",a.prop16="dealer locator",a.prop9="step 3/4",a.linkTrackVars=a.apl(a.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Legal Notice":"AC iFrame - Accessory Configurator Step"==i&&(a.events=a.apl(a.events,"event253,event254,event917,event918,event7,event8,event9,event10"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),r(),a.eVar34="con > form step 4",a.prop8="form step 4",a.prop16="marketing consent",a.prop9="step 4/4",a.linkTrackVars=a.apl(a.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Finish":"AC iFrame - Accessory Configurator Step"==i&&(a.events=a.apl(a.events,"event253,event254,event917,event918,event31,event32,event15,event16,event9,event10"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event253,event254,event917,event918,event31,event32,event15,event16,event9,event10"),r(),a.eVar34="con > form finished",a.prop8="form finished",a.prop16="request success",a.prop9="request success",a.linkTrackVars=a.apl(a.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"AC full screen view":"iFrame - fullscreen"==i&&(a.events=a.apl(a.events,"event253,event254,event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event253,event254,event917,event918"),s());break;case"AC Toggle M Sport Package":"iFrame - toggle"==i&&(a.events=a.apl(a.events,"event253,event254,event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event253,event254,event917,event918"),s());break;case"ac error page":"AC iFrame - Accessory Configurator Step"==i&&(a.events=a.apl(a.events,"event931,event932"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event931,event932"),a.prop56="error",a.prop53="error 404",a.pageType="errorPage",a.eVar34=i,a.prop54="datalayer field missing",a.prop55="404",a.prop51="datalayer field missing",a.prop52=c,a.linkTrackVars=a.apl(a.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,pageType"))}}catch(e){var P={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,P)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accessory Configurator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL79176078ee5b4709bd33e6184eacc133",name:"TPT - BR - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0599cd003b12493b899f2d6671cd5c56-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL444a7f2b2096425c8b5f1ee17d390a0c",name:"TPT - LU - AEM - Doubleclick - History Change Configurator Steps & Save Event - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("pa_pag_pageName"),a=_satellite.getVar("previousStepName");if(a==undefined||a!==t)return _satellite.setVar("previousStepName",t),!0}catch(e){_satellite.logger.error("TPT - LU - Programmatic - History Change"+e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC92b539f443b649f8933488f02fcb8e1e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLae592a010e784de98ffb219a2f4a200d",name:"TPT - IT - AEM - GTagDC - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC43e6451b078041b493004ff85aafabde-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4776b8792e784b298f499f80d9bd5159",name:"TPT - BE - AEM - Adwords - All Pages - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.be"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCce9141001c91412dadc4b0a7ffbcb2c9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1ac5765bba4b4d558a14cb93226468af",name:"TPT - NZ - AEM - TradeDesk - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5b6b0d0a15ea4d68964c31ecfcb27e81-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL788d36eb278b4e5cb5eed2d8bb770760",name:"TPT - TH - All Pages - Facebook",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger-third-party",function(e){e.detail&&t()})}catch(e){_satellite.logger.error("TPT: Facebook Pixel ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"TH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4c31baf069ca4692a3973d0150908661-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL604fb6a7ace14764a8638008d38c7a1f",name:"TPT - SE - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2d50cb068d8e468f844b8873734a12e5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL296c0394b77444b9bed6e904c4d6ecfd",name:"TPT - UK - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8cd70b2cccaf449e8c711e92cc35a574-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL14b6dc241fd9459697afefd6f63c8c06",name:"TPT - NO - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC045cc75374d2473ca3f1b102ddfbad60-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb7e1e3c4af6c4bd0af68cccc5f4366d7",name:"TPT - DK - AEM - Hotjar - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0bc61e19b49243a184b30410b9a61338-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcccee179e10d4969b25d41e5e7bb4f17",name:"TPT - NL - AEM - Submit Button Pixel - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4d24c3331ca74dbe90f0a24d157b9f42-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd75702e5a7a7460a91fdb69bced54c1b",name:"TPT - IE - AEM - DoubleClick - Configurator Section Tracker - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined)return _satellite.setVar("previousStepName",e),!0;if(t!==e)return _satellite.setVar("previousStepName",e),!0}catch(a){_satellite.logger.error("TPT - IE - Configurator Section Tracker \n",a)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1a74f520841c4d4c98deba8e710be107-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc976b7b6ad9e4794a79306a0f07a2edf",name:"TPT - AT - AEM - Facebook - Make an appointment online - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.next-best-action.ds2-dlo-dealer-details--button.dlo-button.ng-binding.ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa26b89dcd40247ef9be2afd260fd5c64-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd6c89a571734706924fa44e81443174",name:"TPT - NO - AEM - Adform - Firmabil Offer Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Salgskampanjer",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/firmabil.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC41421d4059f24be48ff2b0645b57dda0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc449de8e40ae4ec9a528033c3a5ded43",name:"TPT - CH - AEM - DoubleClick - ContactForm-Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCab842529833749569d0149ea5cf0a4a6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL36780cfdd3e74929939ce8ff10e4e681",name:"TPT - IT - AEM - Sophus3 - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCaaa6c88618b446c19b72d18caef71606-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL36a97658b66e49bdb5e654436f2b2ec8",name:"TPT - AT - AEM - FacebookChat - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa606b19f4c9d4d7d9a3f089fe86b0a03-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL105596ba8ac74ad880bc74c82b44b7c3",name:"TPT - SK - AEM - Daktela Chat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC314a2b72dd7047a28846e6378c6fbe81-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e5b88e98c374a129ef939381397b236",name:"TPT - IT - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it$",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC170cae9701b9470db60cda21bc49020c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL713eebf33d6b42828af7c700c796fee7",name:"TPT - ID - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4a787537a5ac42b186eb3045bdf7929f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf4066a5aa6ec4766b13d54d458518187",name:"TPT - IE - AEM - QuantCast - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7e90be9096684fe285f32ee61d4f1c3f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL480f10319e864027bfbf3baa1b85952a",name:"TPT - AT - AEM - Facebook - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC461452f5928f42848ffa6264dfc8f1ae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL129f9df10e054af694552f3e865f3795",name:"TPT - DK - AEM - Adform - Salesbar Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"DK"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/firmabil.html",valueIsRegex:!0},{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8ec953424f544c6bbdc7bab3da7b1ee7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4d3c934c06f149ba9c59eac199bc4c0e",name:"TPT - NL - AEM - Submit Button Pixel - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC95b226fe08f24e48b52c292a69c3c702-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe4436d7a69cd4bbaabf691019058c15f",name:"TPT - PT - AEM - Livechat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC081340556dbd476ea75af412796df2c6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL667cc859e9f24ceead69266cf35e7116",name:"TPT - MY - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{
type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc109bfba94da4d349fbea954f980c8ae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc74d8d786317475785740b38d50fb965",name:"PLR - All - NSC - All - Custom Code - Cookie Transfer",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger-cookie-transfer",function(){t()})}catch(e){_satellite.logger.error("PLR: Cookie consent transfer ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=["bmw.in"],a=_satellite.getVar("topLevelDomain");return-1<t.indexOf(a)||"true"!=_satellite.getVar("splitConsentEnabled")}catch(e){var s={from:"AA",type:"Data Element",name:"AA-conWithoutConsentController"};_satellite.logger.error(e,s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc94a022143474057950e6b0d8a40f46e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL349e04a8560c4a74abcdc6bcc69f3377",name:"TPT - DE - AEM - Adwords - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8bd762ac7cc84dfaa5098b4911e8ce6e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc60d4e31ff934ca598df2440c65683ae",name:"TPT - NL - AEM - Adwords - My_BMW_Registration - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return"button expand"==this.className}catch(e){_satellite.logger.error("TPT - AT Custom condition floodlight - retriggering",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc9d4b80e50cc4ccabdabc121c98632d1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6111e52f7e454feea862e0af619c0ac7",name:"TPT - UK - AEM - Facebook - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC70724c5240cd46109819da1f77d286c1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3cf2b54a40b4fc68f2e539994ccddd6",name:"TPT - IE - AEM - Adwords - 2 Series View Offer Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9a19842ca5674e858d8f188975f7dd01-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc859ecfba47243bdab22aeeffb5908ae",name:"TPT - SE - Multiple - Usabilla",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SE"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2fdd8a6ccb224577bc0448347a919a37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde66f06846a646e19e5ba2bcdc23ac5f",name:"PLR - ZA - AEM - Custom Code - Campaign String to Cookie",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("consentMap");return"true"==("true"==_satellite.getVar("splitConsentEnabled")?consentcontroller.api.isUsageAllowed(t.campaignCookieTracking).toString():_satellite.getVar("isRegulationAccepted_Tags"))}catch(a){_satellite.logger.error("PLR - All - AEM - Custom Code - Campaign String to Cookie"+e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfa739ff099e847b6838c2f20230a63e0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41054d1a12c94cb7b728df474fb5675d",name:"TPT - DE - AEM - Outbrain - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC403a1767fa774ba7946cd8b875100ea1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7abebf24cb8b445584e2cfb9a0e633eb",name:"TPT - ID - AEM - Yellow Messenger Chat - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC128a606d6ddc482b8514c99a7494f14b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6bb26f9edc124829ad7c58e6637e1818",name:"TPT - DE - AEM - Adobe Campaign Pixel - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4abd52bcdcf64f1f9693e5efdb92d4ad-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL988e2800d7be4c52b781d5eb7c9df46a",name:"PLR - All - AA - Custom Code - JS error event listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=["bmw.ch"],a=_satellite.getVar("topLevelDomain");return-1<t.indexOf(a)}catch(e){var s={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"window.addEventListener('error', function(event) {\n  _satellite.logger.log(event, \"error register\"); \n  var errObj = event;\n  _satellite.track('track_js_error', errObj);\n})\n",language:"javascript"}}]},{id:"RL3ed5cf7afeef4e89935b7827461100ed",name:"TPT - AT - AEM - Facebook - iFrame TDA Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC77a1af0667414df18282a18298f14241-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL56190438797a4789886ed11c21b9dbf9",name:"TPT - NL - AEM - Facebook - iFrame - RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCad236b8d35f64edeaf58e360eb2c7091-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLecd2a69acbbb460a9119bd5a5da21e3a",name:"TPT - SE - AEM - Adwords - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.se/sv/ssl/sok-aterforsaljare-serviceverkstad.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bmw-hoest-vinter-tillbehoer.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbc5c9b25cb5847a4bf66ca3bd2a99503-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL63ef06af7df248e185cf1e49d54718a1",name:"TPT - AT - AEM - Facebook - Form Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf8a1eb831d54427c9b3bf6152ded741b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL20975563caa345398e925a2ab25c5ac9",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC476823b191e34701bf822ca8d8ff4602-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d8b7a0b2cf043c28223fb70b9ced0ac",name:"TPT - CH - AEM - GTagDC - WheelConfiguratorSubmit - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title=dlo]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC49961b05a374458ba24314e82030aded-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5354f7aa99964f9da6abee17d1b81740",name:"TPT - SK - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6c2fde1e99074eef9098676a5f981dc8-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa201c4289df443288a7cf9068921499b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL154d6aaa2d7a4ef0964d7c73084f9297",name:"TPT - JP - AEM - Line - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf14d3018b8de4ff0b864f4d86ee87f72-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd175dbef34924007ad31b974f9230c76",name:"TPT - BR - AEM - Facebook - Packages and Services - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Veja mais informa\xe7\xf5es"===this.innerHTML}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCddac365a01214bfea97b1d595c921431-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9155ecf411584b258825ea4926873b29",name:"TPT - IE - AEM - Gtag_DC - CON_Open_Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC57847473c71b48528e2096d46b63eeba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7c7616f85130494fa4aac4c460ff62cf",name:"TPT - SI - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdda4f50968f8438992d170fcfa8df64b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLffa2ec754eee421f9cc882fe58ba2aeb",name:"TPT - DE - AEM - Active Agent/Adition (AD) pixel - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int.+\\.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC375ac64645a344aa89011e2d3e36f84f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7fa22afc4caa47e98d8e6d5f4f60eb2b",name:"TPT - IT - AEM - ContentSquare - Stock Locator Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5b3c3134dc834bb8b55f1f4a6e40a7a8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa1d5d81ee8ed435cbf4c95d763a9f204",name:"HT - All - NSC - All - Custom Code - RegisterOnConsentChange",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n\n    var currentRuleName = event.$rule.name;\n    var privacyManager = _satellite.getVar('KIT-helpers').privacyManager;\n    var cache = _satellite.getVar('KIT-helpers').cache;\n    var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n    var ENUM_USER_CONSENT = {\n        \"GIVEN\": \"GIVEN\",\n        \"REVOKED\": \"REVOKED\",\n        \"UNKNOWN\": \"UNKNOWN\"\n    };\n\n    var handleSplitConsentMarkets = function() {\n        var consentMap = _satellite.getVar('consentMap');\n\n        //Register for Adobe Analytics consent change\n        privacyManager.registerOnConsentChange(consentMap.AdobeAnalytics, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AdobeAnalytics);\n                adobe.optIn.approve(adobe.OptInCategories.ECID);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS);\n                smartPreviousValueManager.saveDeferredObject();\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AdobeAnalytics);\n                cache.set('analyticsConsentRejected', 'true');\n                //moved to AA custome code plugin in registerPostTrackCallback function                \n                //adobe.optIn.deny(adobe.OptInCategories.ECID);\n                //adobe.optIn.deny(adobe.OptInCategories.ANALYTICS);\n            }\n        });\n        //Register for Adobe Target consent change\n        privacyManager.registerOnConsentChange(consentMap.Target, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.Target);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.Target);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET);\n            }\n        });\n        //Register for AAM consent change\n        privacyManager.registerOnConsentChange(consentMap.AAM, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AAM);\n                adobe.optIn.approve(adobe.OptInCategories.AAM);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AAM);\n                adobe.optIn.deny(adobe.OptInCategories.AAM);\n            }\n        });\n        //nothing needs to be done for TPTs on split consent markets as re-triggerring is handled by p15r\n    }\n\n    var handleNonSplitConsentMarkets = function() {\n        var CATEGORY_ENUM = {\n            'ANALYTICS': 'analytics',\n            'ADVERTISING': 'advertising'\n        };\n        privacyManager.registerOnConsentChange(function(consent, category) {\n            if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.GIVEN)) {\n                _satellite.logger.log('Approving the consent for- ECID, AA and AT');\n                adobe.optIn.approve(adobe.OptInCategories.ECID, true);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET, true);\n                adobe.optIn.complete();\n                smartPreviousValueManager.saveDeferredObject();\n                _satellite.getVar('Trigger-AnalyticsConsentChangeEvent')();\n            } else if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.REVOKED)) {\n                _satellite.logger.log('Revoking the consent for- ECID, AA and AT');\n                adobe.optIn.deny(adobe.OptInCategories.ECID, true);\n                adobe.optIn.deny(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET, true);\n                adobe.optIn.complete();\n            } else if (category === CATEGORY_ENUM.ADVERTISING && (consent === ENUM_USER_CONSENT.GIVEN)) {\n                _satellite.logger.log('Approving the consent for- AAM');\n                adobe.optIn.approve(adobe.OptInCategories.AAM);\n                _satellite.getVar('Trigger-pageLoadTPT')(currentRuleName); //the variable 'currentRuleName' is declared at the top of this entire code\n            } else if (category === CATEGORY_ENUM.ADVERTISING && (consent === ENUM_USER_CONSENT.REVOKED)) {\n                _satellite.logger.log('Revoking the consent for- AAM');\n                adobe.optIn.deny(adobe.OptInCategories.AAM);\n                _satellite.getVar('clearCookies')();\n            }\n        });\n    }\n\n    if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_SPLIT)\n        handleSplitConsentMarkets();\n    else if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_NON_SPLIT)\n        handleNonSplitConsentMarkets();\n\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: currentRuleName\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RLf2a17368088845d0b13c9aaa7ff67d94",name:"TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfiguratorBrochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_interaction"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7f12591a665a40f59eb19ab9cc8701c0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3d97434736fa4ffca94f6d3edbe6bfa5",name:"TPT - DK - AEM - Doubleclick - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.dk/da/ssl/find-forhandlere-vaerksteder.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"bmw-efterar-vinter-tilbehor.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9de5d98f413049359282ae04da019b40-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL17b4cf253cd34e55bc1b25ba419c5658",name:"TPT - IE - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC46f9857bab9b43f7af4d306c8061f774-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb3a9cf9cc07d41f8b80252e989c490ce",name:"TPT - ES - AEM - Doubleclick - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8f88a4255bfe458bb52ea824a7a8ed8a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2f870eb155b468daa7874c7ba255a25",name:"TPT - All - DCS Pages - AA - Usabilla Adhoc DCS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf06cf2cd3c2a407fb7ab2e2bb8c189d2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce4bf5a6329f4f7b840df83d1d8467fd",name:"TPT - NZ - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe7c2f816d1594af7ad2f3c04758cc2b6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe104bd6a28634f15967763bf47290d06",name:"TPT - AU - AEM - GTagDC - MINI Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.mini.com.au/corporatebenefits/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC30b5ec955f974f4cb7c033cb12c40e1c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL96f87b6131f44592a622a9b1971c3119",name:"TPT - CZ - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbf02702b826f44558b9c9c21c9960f25-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5001f354f9bc499da65ce3707c8e2155",name:"TPT - RO - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC63850229b2534c2fadd5fba7472452f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7234113499014d4e928e6c5b0cc60735",name:"TPT - FI - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1d2ac7bcd920461baef19bd4d2679d05-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a5732ab3d384c6bb439ca8e8fc710b9",name:"TPT - AU - AEM - GTagDC - Finance Offer - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC637653fcd9894fa8a43a228f5de20802-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1b84fa31eca34bdda1a9444dfe926fbe",name:"TPT - HU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa84367aa83fb4b15a1cbb900ba48050a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8eacba41f2c64e5fab06a2608641c870",name:"TPT - RO - AEM - GTag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8ccbf67dff094317b23fa56ff50dafb1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbce978d68cb24ac48f036ff11b5bf479",name:"TPT - DE - AEM - Usabilla - Adhoc Survey - From Konfigurator to model Selection - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{
value:"de/konfigurator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC95894904e69f4733a209e5070aeae077-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9ad42f443f1b4036be31d128268a72e4",name:"DCR - ALL - AEM - AA - ZSO Interaction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"zso_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){function s(){a.prop56="search",a.prop53="accessory",a.eVar34=-1==i.indexOf("nsc >")?"nsc > "+i:i,a.prop54=d,a.prop55="ZSO Select series"==o?c:l,a.prop51=o,a.prop52="default",a.linkTrackVars=a.apl(a.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52")}function r(){var e;switch(b.category="search",b.id="search",o){case"ZSO Select series":e="series";break;case"ZSO Select Modell range":e="model";break;case"ZSO Select Categories":e="category";break;case"ZSO Select Product":e="product"}b.merchEvars.eVar30="datalayer field missing",b.merchEvars.eVar31="user selected",b.merchEvars.eVar32=e,b.merchEvars.eVar33=l,m.append(b),a.products=m.toString(),a.prop21="accessory",a.prop22="drop down menu",a.prop24=c,a.linkTrackVars=a.apl(a.linkTrackVars,"prop21,prop22,prop24,products")}try{a.linkTrackVars="events,",a.linkTrackEvents="",a.events="";var n=_satellite.getVar("snapshotDL"),o=n.get("event.-1.eventInfo.eventName"),i=n.get("event.-1.eventInfo.eventAction"),c=n.get("event.-1.eventInfo.cause"),l=n.get("event.-1.eventInfo.effect"),d=n.get("event.-1.attributes.relatedComponent.componentInfo.componentName",n.get("component.-1.componentInfo.componentName")),u=(n.get("component.-1.category.subCategory01"),n.get("page.pageInfo.pageName",n.get("event.-1.attributes.relatedPageName"))),m=_satellite.getVar("setDefaultProductVariables"),b=_satellite.getVar("setDefaultProductVariables");_satellite.getVar("setDefaultVariables",t)(a),a.prop57=n.get("event.-1.eventInfo.eventAction"),n.get("event.-1.eventInfo.eventPoints")&&parseInt(n.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(n.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(n.get("event.-1.eventInfo.eventPoints"))?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(n.get("event.-1.eventInfo.eventPoints"))<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+n.get("event.-1.eventInfo.eventPoints"),",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=n.get("event.-1.eventInfo.eventPoints"),a.prop12=n.get("event.-1.eventInfo.timestamp"),a.prop44=n.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),a.prop50=n.get("event.-1.eventInfo.element"),a.eVar71=n.get("event.-1.eventInfo.target"),a.eVar17=n.get("user.-1.profileInfo.visitorID"),a.eVar136="2020 - 06- 15 ZSO_accessories",a.eVar60=n.get("event.-1.attributes.manufacturer",n.get("product.-1.productInfo.manufacturer")),a.eVar55=n.get("product.-1.category.subCategory01"),a.eVar65=n.get("event.-1.attributes.productName"),a.prop27=n.get("page.pageInfo.pageID"),a.prop3=d,a.prop19=d,a.prop42="nsc website",a.prop43="accessories",a.prop5=n.get("page.category.subCategory02"),a.prop2=n.get("page.category.pageType"),a.prop28=n.get("page.attributes.virtualPage"),"virtual"==a.prop28&&(a.prop28="virtual page"),a.prop1=a.pageName=-1==u.indexOf("nsc >")?"nsc > "+u:u,a.linkTrackVars=a.apl(a.linkTrackVars,"prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop50,eVar71,pageName,eVar60,eVar55,eVar65,prop19,prop42,prop43,prop44");var p=n.get("event.-1.category.mmdr",n.get("product.-1.attributes.mmdr"));switch(m.id=p,m.category="vehicle",b.merchEvars.eVar10=p,b.merchEvars.eVar53="new car",b.merchEvars.eVar54="build to order",a.products=m.toString(),a.linkTrackVars=a.apl(a.linkTrackVars,"products"),o){case"ZSO Select series":"select series"==i&&(a.events=a.apl(a.events,"event917,event918,event251,event252,event253,event254"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event251,event252,event253,event254"),s(),r());break;case"ZSO Select Modell range":"select model range"==i&&(a.events=a.apl(a.events,"event917,event918,event253,event254,event257"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event253,event254,event257"),s(),r());break;case"ZSO Select Categories":"select categories"==i&&(a.events=a.apl(a.events,"event917,event918,event253,event254"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event253,event254"),s(),r());break;case"ZSO Select Product":"select product"==i&&(a.events=a.apl(a.events,"event917,event918,event253,event254"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event253,event254"),s(),r())}}catch(e){var g={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,g)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"ZSO Interaction",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL35ff0f5d9bc94188aa67d75b52cb4515",name:"TPT - RU - AEM - Netrox - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd92530a2d36a4786a294545f74e4a210-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd2d6657bbf3d40e1b471dcecca93b428",name:"TPT - PL - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9c771f1c46ca482e89a4e3e1b0c28c5c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL32aae53a3e3f4207ba7c75496fb74343",name:"TPT - ES - AEM - MediaMath - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC287c8556803d4dfaa465c0dd69b93bd6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa1d3d70fecaf46d9af807cdcb131d23d",name:"DCR - All - AEM - AA - Onsite Search",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{a.linkTrackVars="events,",a.linkTrackEvents="",a.events="";var s=_satellite.getVar("snapshotDL"),r=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.eventInfo.eventAction"),o=s.get("event.-1.eventInfo.cause"),i=s.get("event.-1.eventInfo.effect"),c=s.get("component.1.componentInfo.componentName"),l=s.get("component.-1.attributes.onsiteSearchResults"),d=s.get("component.-1.attributes.onsiteSearchType"),u=(s.get("component.-1.category.subCategory01"),s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")));_satellite.getVar("setDefaultVariables",t)(a),a.prop56="search",a.prop53="content",a.eVar34="",a.prop51=c,a.prop54="onsite search",a.prop55=l,a.prop19="onsite search",a.prop42="nsc website",a.prop43="search",a.eVar136="2021 - 02- 19 onsite search",a.eVar17=s.get("user.-1.profileInfo.visitorID"),a.prop13="bmw",a.prop1=a.pageName=-1==u.indexOf("nsc >")?"nsc > "+u:u,a.prop28="simulated page"==s.get("page.category.pageType")?"virtual page":"real page",a.prop44=s.get("component.-1.componentInfo.componentID",s.get("event.-1.attributes.relatedComponentID")),a.eVar134="web",a.prop21="content",a.prop22=d,a.prop24=l,a.prop57=s.get("event.-1.eventInfo.eventAction"),a.prop52=o,a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.evar71=n,a.events=a.apl(a.events,"event331,event332"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event331,event332"),-1<s.get("page.category.primaryCategory").indexOf("Error")?(a.prop56="error",a.prop53="web links",a.eVar34="nsc > "+u,a.prop21="web links",a.events=a.apl(a.events,"event925,event926,event931,event932"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event925,event926,event931,event932")):"More Search Results"==r&&(a.eVar34="nsc > onsite search more results clicked",a.prop55=a.prop24=i,a.events=a.apl(a.events,"event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918"));for(var m=s.get("component"),b=0;b<m.length;b++)if(m[b].attributes&&m[b].attributes.onsiteSearch&&"General"===m[b].attributes.onsiteSearch){var p="true";break}if("true"==p){a.prop51=m[b].componentInfo.componentName,a.prop55=a.prop24=m[b].attributes.onsiteSearchResults,a.prop22=m[b].attributes.onsiteSearchType,a.eVar34="nsc > onsite search results shown",a.events=a.apl(a.events,"event925,event926,event331,event332"),a.prop44=m[b].componentInfo.componentID;var g=m[b].attributes.onsiteSearchTerm;a.linkTrackEvents=a.apl(a.linkTrackEvents,"event925,event926,event331,event332")}var f=_satellite.getVar("searchDefaultProduct"),v=_satellite.getVar("setDefaultProductVariables");v.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),v.merchEvars.eVar53="new car",a.products=v.toString(),a.products+=",search;search;;;;"+f+"eVar30=datalayer field missing|eVar31=user selected|eVar32="+s.get("event.-1.attributes.onsiteSearch")+"|eVar33="+g,a.linkTrackVars=a.apl(a.linkTrackVars,"products,prop56,prop53,eVar34,prop51,prop54,prop55,prop19,prop42,prop43,eVar136,eVar17,prop13,prop1,prop28,prop44,eVar134,eVar34,prop21,prop22,prop24,prop57,prop52,prop58,eVar71")}catch(e){var h={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,h)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accessory Configurator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLe21c09601d1142c2a9edba39347b6ffb",name:"TPT - UK - AEM - Xandr - RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC186de2809d2244cbb7343a784eb39616-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa4c1af15cbef47609fa23299ae19b14e",name:"DCR - All - IFrame - AA - Local Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_campaign"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfp"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=_satellite.getVar("smartPreviousValueManager");if("Local-Request"!=s.get("event.-1.category.primaryCategory")&&"Local-request"!=s.get("event.-1.category.primaryCategory"))return void(a.abort="true");_satellite.getVar("setDefaultVariables",t)(a);var n=s.get("event.-1.category.subCategory01"),o=s.get("event.-1.category.subCategory02"),i=s.get("event.-1.category.subCategory03"),c=s.get("event.-1.category.subCategory04"),l=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")),d=s.get("event.-1.attributes.dealerInfo",s.get("event.-1.attributes.dealerinfo")),u=s.get("event.-1.eventInfo.eventName"),m=s.get("event.-1.attributes.fuelType");-1!=m.indexOf("|")&&(m=m.replace(/\|/g,"~")),a.events="",a.prop19="local form",a.prop42="locally developed",a.prop43="forms",a.prop56="form",a.eVar34=-1==u.indexOf("nsc >")?"nsc > "+u:u,a.prop8=u,a.prop53=a.prop6="local form",a.prop11=n.toUpperCase(),a.prop7=o,a.prop18=i,a.prop16=s.get("event.-1.attributes.stepName"),a.eVar9=s.get("event.-1.eventInfo.target"),void 0!==d&&(a.eVar41=d.substring(0,d.indexOf("|")),a.eVar42=d.substring(d.indexOf("|")+1,d.indexOf("_")),a.eVar40=d.substring(d.indexOf("_")+1));var b={RFS:"service",RFA:"accessory"},p=_satellite.getVar("setDefaultProductVariables");p.id=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr")),p.category=b[n]||"vehicle";var g=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr"));if(g&&-1==g.indexOf("/")){var f=/[a-z]{1}[0-9]{2}/i;g=(j=g.match(f))&&j.length?j[0].toUpperCase():"datalayer field empty"}var v=s.get("event.-1.attributes.motorization");if(v){var h=/[0-9]{3}[a-z]{1}/i,P=/xdrive[0-9]{2}[a-z]{1}/i,C=/sdrive[0-9]{2}[a-z]{1}/i,j=v.match(h)||v.match(P)||v.match(C);-1<v.indexOf("i3 (120 ah)")||-1<v.indexOf("i3 (120ah)")||-1<v.indexOf("i3 120ah")?v="i3 (120 ah)":-1<v.indexOf("i3s (120 ah)")||-1<v.indexOf("i3s (120ah)")||-1<v.indexOf("i3s 120ah")?v="i3s (120 ah)":j&&j.length&&(v=j[0].toUpperCase())}switch(p.merchEvars.eVar53="New Cars"==c?"new car":"Used Cars"==c?"used car":"datalayer field empty",p.merchEvars.eVar52=s.get("event.-1.attributes.productName",s.get("product.-1.attributes.modelName")),p.merchEvars.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),p.merchEvars.eVar10=g,p.merchEvars.eVar51=s.get("event.-1.attributes.bodyType",s.get("product.-1.attributes.bodyType")),p.merchEvars.eVar57=s.get("event.-1.attributes.hybridVersion"),p.merchEvars.eVar50=s.get("event.-1.attributes.serie"),p.merchEvars.eVar56=m,p.merchEvars.eVar58=v,a.products=p.toString(),a.prop2=s.get("page.category.pageType",s.get("event.-1.attributes.relatedPageCategory.pageType")),a.prop3=s.get("page.category.primaryCategory",s.get("event.-1.attributes.relatedPageCategory.primaryCategory")),a.prop4=s.get("page.category.subCategory01",s.get("event.-1.attributes.relatedPageCategory.subCategory01")),a.prop5=s.get("event.-1.attributes.relatedPageCategory.primaryPurpose"),a.prop1=-1==l.indexOf("nsc >")?"nsc > "+l:l,a.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(s.get("event.-1.eventInfo.eventPoints"))?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.prop12=s.get("event.-1.eventInfo.timestamp"),a.prop52=s.get("event.-1.eventInfo.cause"),a.prop54=a.prop55=n,a.prop50=s.get("event.-1.eventInfo.element"),a.eVar71=s.get("event.-1.eventInfo.target"),a.eVar39=s.get("page.attributes.outletName"),a.eVar20=s.get("user.-1.segment.userSelectedCountry"),a.eVar23=s.get("user.-1.segment.userSelectedPreferredContactMethod"),a.eVar24=s.get("user.-1.segment.userSelectedGender"),a.eVar25=s.get("user.-1.segment.userSelectedYearofBirth"),a.eVar26=s.get("user.-1.segment.userSelectedCurrentVehicle"),u){case"Form Start":var y={Lead:"event17,event18",Handraiser:"event21,event22",RAO:"event25,event26",RFA:"event29,event30",RFC:"event33,event34",RFCD:"event37,event38",RFD:"event41,event42",RFI:"event45,event46",Download:"event49,event50",Postal:"event57,event58",RFO:"event61,event62",RFP:"event65,event66",RFS:"event69,event70",ROI:"event73,event74",Newsletter:"event81,event82","Keep Me Informed":"event77,event78",TDA:"event85,event86","Online TDA":"event89,event90",Registration:"event93,event94",CAMPAIGN:"event97,event98","FS RFO":"event101,event102",Loan:"event105,event106","Operational Lease":"event109,event110","Private Lease":"event113,event114",Quote:"event117,event118",Insurance:"event121,event122","not set":""};a.events=a.apl(a.events,y[n]),a.linkTrackEvents=a.apl(a.linkTrackEvents,y[n]),a.events=a.apl(a.events,y[o]),a.linkTrackEvents=a.apl(a.linkTrackEvents,y[o]),a.events=a.apl(a.events,y[i]),a.linkTrackEvents=a.apl(a.linkTrackEvents,y[i]),a.events=a.apl(a.events,"event3,event4"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event3,event4"),"RFI"==n&&"Generic"==o&&(a.events=a.apl(a.events,"event53,event54"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event53,event54")),a.eVar34="nsc > form started",a.prop8="form started";break;case"Form Success":var R={Lead:"event19,event20",Handraiser:"event23,event24",RAO:"event27,event28",RFA:"event31,event32",RFC:"event35,event36",RFCD:"event39,event40",RFD:"event43,event44",RFI:"event47,event48",Download:"event51,event52",Postal:"event59,event60",RFO:"event63,event64",RFP:"event67,event68",RFS:"event71,event72",ROI:"event75,event76",Newsletter:"event83,event84","Keep Me Informed":"event79,event80",TDA:"event87,event88","Online TDA":"event91,event92",Registration:"event95,event96",CAMPAIGN:"event99,event100","FS RFO":"event103,event104",Loan:"event107,event108","Operational Lease":"event111,event112","Private Lease":"event115,event116",Quote:"event119,event120",Insurance:"event123,event124","not set":""};a.events=a.apl(a.events,R[n]),a.linkTrackEvents=a.apl(a.linkTrackEvents,R[n]),a.events=a.apl(a.events,R[o]),a.linkTrackEvents=a.apl(a.linkTrackEvents,R[o]),a.events=a.apl(a.events,R[i]),a.linkTrackEvents=a.apl(a.linkTrackEvents,R[i]),a.events=a.apl(a.events,"event15,event16"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event15,event16"),"RFI"==n&&"Generic"==o&&(a.events=a.apl(a.events,"event55,event56"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event55,event56")),a.eVar34="nsc > form finished",a.prop8="form finished";break;case"First Interaction":a.events=a.apl(a.events,"event5,event6",","),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event5,event6",","),a.eVar34="nsc > form first interaction",a.prop8="form first interaction";break;case"Form Step 1":case"Form Step 2":case"Form Step 3":case"Form Step 4":case"Form Step 5":a.events=a.apl(a.events,"event7,event8",","),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event7,event8",","),a.eVar34="nsc > "+u,a.prop8=u;break;case"Local Form Interaction":a.events=a.apl(a.events,"event9,event10",","),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event9,event10",","),a.eVar34="nsc > form interactions",a.prop8="form interactions"}r.update("pageName",a.prop1),a.linkTrackVars+="events,prop42,prop43,prop56,prop19,eVar34,prop53,eVar6,prop8,prop11,prop7,prop18,prop16,eVar9,products,prop2,prop3,prop4,prop5,prop6,prop1,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar39,eVar20,eVar23,eVar24,eVar25,eVar26,eVar41,eVar42,eVar40"}catch(e){var w={from:"AA",type:"Rule",name:"DCR - ZA - IFrame - AA - Local Forms"};_satellite.logger.error(e,w)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%AA-subCategory01%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL2b667c5a8f844c748baa84eaea8d53a9",name:"TPT - RU - AEM - MailRU - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"RU"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3fa9bac8e2034f16a85b56eb4085f12c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ec31306270a4c359ac095f360e55bfe",name:"PLR - All - AEM - AA - Trigger Central Forms",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:51}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcc1ba94278c64bc0b2c28b04895dd0cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdcb7244869694994ac1f2674558b777a",name:"TPT - NO - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC24c2c09afb0a4bfe99583115e010306f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa7aa265eadae49ce8966fb9be220ff3d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5789bfa052ce4830999d5dfe929c2b32",name:"TPT - NZ - AEM - DoubleClick - iFrame Form TDA - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC53b816171acc4993b076b4426ceec3d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc9dcd388636c4707bacef091e864345c",name:"TPT - CZ - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC448dad64e3f140399e54ff8f5c96d8f0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL820cad00940340688b9874241ae43e9a",name:"TPT - IN - AEM - Lotame - Download Brochure - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb8e4d99aed6f4ad9ab35bb70862f8ca6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9701d34f862744aebc1b4c88dbfc174d",name:"TPT - PT - AEM - Doubleclick - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6ddd7ea5ac4a487ba73acc62f60700e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd2ffefbbe97f4228a12db95c535f297e",name:"TPT - ES - AEM - Amazon - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC671dc4655d1947ce806fe2ee0868c9bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5e469ee2dbaa430c90ba4a5f2e2eb53c",name:"TPT - AT - AEM - Facebook - BMW Card CTA - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="//www.bmwcard.at/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/finanzierung-versicherung/bmw-card.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa230738b82d94ee29cb5e288088bf96c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0fb84c085704457592a9dc673bef2d81",name:"TPT - AR - AEM - Adwords - iFrame Form RFI - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/solicitud-de-contacto.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3f56bd4fd1a242b380c09e63613f7fc6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c291153d7814dcb89b33858cb27481b",name:"TPT - SE - AEM - Live Chat - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(avdelning\\/tj%C3%A4nster\\/finansiera|finansiering$)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC18b3dc743fc14c9abbc069664d5dfd71-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7e1baad2a0dd435fb284b4ec5f2eeb97",name:"TPT - SK - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3b70c4a4e04d4a8e991f2b235cd12ae0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL65775e6ccc9d477e8038608c1dd605fd",name:"TPT - KR - AEM - Mathtag - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.kr"}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5867981a1dd54d33bc8dc4ecec0fd5ec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9361aaa167bb49ba8045f00b626c6ba3",name:"W - All - AEM - AA - BMW Registration Start",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#loginform > div > div > ul > li.small-12.medium-6.columns.s-order-2 > a > span, a.ds2-login-js--to-register > font, a.login-box__button-secondary > span > font > font,a.login-box__button-secondary,a.ds2-login-js--to-register,#loginform > div > div.login-box__container.login-box__bullet-container.column > ul.ds2-buttonlist.row > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",t)(a),a.prop1=a.pageName=-1==r.indexOf("nsc >")?"nsc > "+r:r,a.prop11="Registration",a.prop8="form started",a.eVar34="nsc > form started",a.prop19="registration",a.prop6=a.prop53="central form",a.prop7=a.prop55="My BMW Registration",a.prop17=s.get("transaction.-1.transactionID"),a.prop54="registration",a.prop56="form",a.prop10="dedicated forms",0!=s.get("product").length){var n=s.get("event.-1.category.mmdr");if(n){var o=/[a-z]{1}[0-9]{2}/i,i=n.match(o);n=i&&i.length?i[0].toUpperCase():"datalayer field empty"}var c=_satellite.getVar("setDefaultProductVariables");c.id=s.get("event.-1.category.mmdr"),c.category="vehicle",c.merchEvars.eVar10=n,a.products=c.toString()}a.events=a.apl(a.events,"event93,event94,event3,event4"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event93,event94,event3,event4"),a.linkTrackVars=a.apl(a.linkTrackVars,"prop1,eVar34,prop11,prop8,prop19,prop6,prop53,prop7,prop55,prop17,prop54,prop56,prop10,products")}catch(e){var l={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,l)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"regi_Start",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{
id:"RLaf392a2fd1074ab7a6c57ddad049379f",name:"TPT - DE - AEM - GTagDC - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC990f7b8308b54930b219707db93ac08c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL22cce5fe2d85453aa206b0b64d9d992c",name:"PLR - DE - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:40},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger",function(e){e.detail&&e.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&t()})}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try{!function(){"use strict"\nfunction addDimension(e,i,o){e[i]=o}function removeDimension(e,i){delete e[i]}function weight_value(e,i){return{weight:e,value:i||0}}function updateBucket(e,i,o){var r=e[i]\nfor(var t in r)t==o?score_obj[i][t].value=1:score_obj[i][t].value=0\nif(shouldCalculateScore){var n=calculateScore(score_obj)\nshouldDisplayScore&&_satellite.logger.log("Visitor Reco Value = "+n)}}function calculateDimensionScore(e,i){var o=0,r=e[i]\nfor(var t in r)r[t]!={}&&(o+=r[t].weight*r[t].value)\nreturn o}function calculateScore(e){var i=0\nfor(var o in e)i+=calculateDimensionScore(e,o)\nreturn rawScore=1e3/(1+Math.exp(-i)),finalScore=Math.round(100/(1+Math.exp(-i))),_satellite.setVar("raw_score",rawScore+""),_satellite.setVar("final_score",finalScore+""),isScoreSame=prevScore!=rawScore?!1:!0,isScoreSame||"true"!=_satellite.getVar("isAdobeAnalyticsAllowed")||_satellite.track("send_reco_value"),prevScore=rawScore,finalScore}function setCookie(e,i,o,r){var t=""\nif(o){var n=new Date\nif(r){switch(r){case"m":n.setTime(n.getTime()+60*o*1e3)\nbreak\ncase"h":n.setTime(n.getTime()+60*o*60*1e3)\nbreak\ncase"d":n.setTime(n.getTime()+24*o*60*60*1e3)\nbreak\ndefault:n.setTime(n.getTime()+24*o*60*60*1e3)}t="; expires="+n.toGMTString()}}"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&(document.cookie=e+"="+(JSON.stringify(i)||"")+t+"; domain=bmw.de; path=/")}function getCookie(e){for(var i=document.cookie.split(";"),o=e+"=",r=0;r<i.length;r++){for(var t=i[r];" "===t.charAt(0);)t=t.substring(1,t.length)\nif(0===t.indexOf(o))return t.substring(o.length,t.length)}return null}function getParsedCookie(e){var i=getCookie(e)\nreturn JSON.parse(i)||{}}function getParameterByName(e,i){i||(i=window.location.href),e=e.replace(/[\\[\\]]/g,"\\\\!@#TOKEN172!@#")\nvar o=RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=o.exec(i)\nreturn r?r[2]?decodeURIComponent(r[2].replace(/\\+/g," ")):"":null}function listener(e,i){}function check_device_type(){navigator&&navigator.userAgent&&(navigator.userAgent.match(/mobile/i)?updateBucket(score_obj,"device_type","mobile"):navigator.userAgent.match(/iPad|Android|Touch/i)?updateBucket(score_obj,"device_type","tablet"):updateBucket(score_obj,"device_type","desktop"))}function check_session_duration(){shouldDisplayScore=!0\nvar e=getParsedCookie("v_reco_data"),i=+e.session_duration||0\n7>=i?updateBucket(score_obj,"session_duration","leq7"):43>=i?updateBucket(score_obj,"session_duration","g7_leq43"):99>=i?updateBucket(score_obj,"session_duration","g43_leq99"):200>=i?updateBucket(score_obj,"session_duration","g99_leq200"):359>=i?updateBucket(score_obj,"session_duration","g200_leq359"):618>=i?updateBucket(score_obj,"session_duration","g359_leq618"):i>=619&&updateBucket(score_obj,"session_duration","g618")\nvar o=setInterval(function(){var e=_satellite.getVar("isAdobeAnalyticsAllowed")\nif("false"==e)clearInterval(o)\nelse{var i=getParsedCookie("v_reco_data"),r=+i.session_duration||0\nr++,1==r?updateBucket(score_obj,"session_duration","leq7"):8==r?updateBucket(score_obj,"session_duration","g7_leq43"):44==r?updateBucket(score_obj,"session_duration","g43_leq99"):100==r?updateBucket(score_obj,"session_duration","g99_leq200"):201==r?updateBucket(score_obj,"session_duration","g200_leq359"):360==r?updateBucket(score_obj,"session_duration","g359_leq618"):r>=619&&(updateBucket(score_obj,"session_duration","g618"),clearInterval(o)),i.session_duration=r+"",setCookie("v_reco_data",i)}},1e3)}function check_configurator_session_duration(){var e=getParsedCookie("v_reco_data"),i=+e.configurator_session_duration||0\nif(i&&(45>=i?updateBucket(score_obj,"session_duration_configurator","leq45"):179>=i?updateBucket(score_obj,"session_duration_configurator","g45_leq179"):398>=i?updateBucket(score_obj,"session_duration_configurator","g179_leq398"):842>=i?updateBucket(score_obj,"session_duration_configurator","g398_leq842"):i>=843&&updateBucket(score_obj,"session_duration_configurator","g842")),URL.indexOf("configure.bmw")>-1)var o=setInterval(function(){var e=_satellite.getVar("isAdobeAnalyticsAllowed")\nif("false"==e)clearInterval(o)\nelse{var i=getParsedCookie("v_reco_data"),r=+i.configurator_session_duration||0\nr++,1==r?updateBucket(score_obj,"session_duration_configurator","leq45"):46==r?updateBucket(score_obj,"session_duration_configurator","g45_leq179"):180==r?updateBucket(score_obj,"session_duration_configurator","g179_leq398"):399==r?updateBucket(score_obj,"session_duration_configurator","g398_leq842"):r>=843&&(updateBucket(score_obj,"session_duration_configurator","g842"),clearInterval(o)),i.configurator_session_duration=r+"",setCookie("v_reco_data",i)}},1e3)}function check_channel(){var e=getParsedCookie("v_reco_data")\nif(e.last_channel&&"other"!=e.last_channel)updateBucket(score_obj,"last_channel",e.last_channel)\nelse{e.last_channel="other"\nfor(var i=0;i<queryPaidParameters.length;i++)if(getParameterByName(queryPaidParameters[i],URL)){e.last_channel="paid_search"\nbreak}if("other"==e.last_channel){var o=getParameterByName("tl",URL)||""\n0==o.indexOf("sea")||0==o.indexOf("Sea")?e.last_channel="paid_search":(0==o.indexOf("dis")||0==o.indexOf("Dis"))&&(e.last_channel="display")}updateBucket(score_obj,"last_channel",e.last_channel)}setCookie("v_reco_data",e)}function getSiteSection(url){if(-1==url.indexOf("configure.bmw")&&-1==url.indexOf("www.bmw.de/de/ssl/configurator.html")&&-1==url.indexOf("www.bmw.de/konfigurator")&&-1==url.indexOf("myconfig"))var hierarchyEvar=_satellite.getVar("hierarchyEvar")\nfor(var siteSectionObject={"(url.indexOf(\'www.bmw.de/de/neufahrzeuge\') > -1)":"Showroom","(url.indexOf(\'www.bmw.de/de/index.html\') > -1 || url.indexOf(\'www.bmw.de/de/home.html\') > -1)":"Index","(url.indexOf(\'configure.bmw\') > -1 || url.indexOf(\'www.bmw.de/de/ssl/configurator.html\') > -1 || url.indexOf(\'www.bmw.de/konfigurator\') > -1 || url.indexOf(\'myconfig\') > -1 || url.indexOf(\'konfigurator\') > -1)":"Configurator","(url.indexOf(\'/topics/\') > -1)":"Strategic Topics","(url.indexOf(\'/gebrauchtfahrzeuge/\') > -1)":"Used Cars","(url.indexOf(\'mein-bmw.html\') > -1)":"My BMW logged in area","(url.indexOf(\'/landingpage/\') > -1)":"Landing Page","(url.indexOf(\'/footer/\') > -1)":"Footer","(url.indexOf(\'brand-switch-rfi\') >-1 || url.indexOf(\'rfi-type-switch-bmw.html\') > -1)":"Form RFI","(url.indexOf(\'need-analyzer\') > -1)":"Need Analyzer","(url.indexOf(\'/publicPools/search-results\') > -1)":"Internal Search","(url.indexOf(\'rfo\') > -1)":"Form RFO","(url.indexOf(\'bmw-partner\') > -1 || url.indexOf(\'dealer-locator\') > -1)":"Dealer Locator","(url.indexOf(\'/brand-switch-tda\') >-1 || url.indexOf(\'tda\') > -1)":"Form TDA","(url.indexOf(\'/service-zubehoer/\') > -1)":"Accessories and Services","(url.indexOf(\'/login/\') > -1)":"Login Activation Page","(url.indexOf(\'roi\') > -1)":"Form ROI","((url.indexOf(\'/ssl/requests\') > -1 && url.indexOf(\'rfc\') > -1) || ((url.indexOf(\'/ssl/formulare\') > -1 && (url.indexOf(\'rueckruf-anfordern\') > -1 || url.indexOf(\'/ssl/formulare/\') > -1))))":"Form RFC","(url.indexOf(\'reset\') > -1 || url.indexOf(\'/login/reset\') > -1)":"Reset Password","(url.indexOf(\'sport-events\') > -1)":"Sport Events","(url.indexOf(\'/ssl/requests\') > -1 && url.indexOf(\'rfo\') > -1)":"Form RFO","(url.indexOf(\'/grosskunden-behoerden/\') > -1 || url.indexOf(\'/corporate-sales/\') > -1)":"Fleet","(url.indexOf(\'/fastlane/\') > -1)":"fastlane","(url.indexOf(\'connecteddrive\') > -1 || url.indexOf(\'connectedDrive\') > -1)":"Connected Drive","(url.indexOf(\'/profile\') > -1)":"Profile","(url.indexOf(\'/ssl/requests\') > -1 && url.indexOf(\'rfa\') > -1)":"Form RFA","(url.indexOf(\'lease\') > -1 || url.indexOf(\'leasing\') > -1 || url.indexOf(\'finanzieren-versichern\') > -1)":"Finance","(url.indexOf(\'zubehoer\') > -1)":"Shop","(url.indexOf(\'/trainingspool\') > -1)":"trainingspool","(url.indexOf(\'home.html\') > -1)":"Home","((url.indexOf(\'/ssl/requests\') > -1 && url.indexOf(\'rfs\') > -1) || url.indexOf(\'/brand-switch-rfs/\') > -1)":"Form RFS","(url.indexOf(\'www.bmw.de/de/ssl/login/logged_out_page.html\') > -1)":"Logout","(url.indexOf(\'ssl\') > -1)":"ssl","(url.indexOf(\'neuwagensuche\') > -1)":"Search","(url.indexOf(\'mybmw\') > -1)":"Mybmw","(url.indexOf(\'content\') > -1)":"Content","(hierarchyEvar && hierarchyEvar.indexOf(\'all-models\') > -1)":"All Models","(hierarchyEvar && hierarchyEvar.indexOf(\'error\') > -1)":"Error Page"},siteSectionKeys=Object.keys(siteSectionObject),i=0;i<siteSectionKeys.length;i++)if(eval(siteSectionKeys[i]))return siteSectionObject[siteSectionKeys[i]]\nreturn"Not Defined"}function check_pageview_metrics(){var e=getParsedCookie("v_reco_data"),i=JSON.parse(JSON.stringify(e.pages_viewed||{})),o=JSON.parse(JSON.stringify(e.site_sections_viewed||{})),r=0,t=0,n=!0,a=!0\ni[URL]?i[URL]+=1:i[URL]=1\nfor(var s in i)r++\n3>r?updateBucket(score_obj,"distinct_pageview","g0_leq2"):r>=3&&(updateBucket(score_obj,"distinct_pageview","g2"),r>3&&(n=!1)),n&&(e.pages_viewed=i,setCookie("v_reco_data",e))\nvar d=getSiteSection(URL)\no[d]?o[d]+=1:o[d]=1\nfor(s in o)t++\n2>t?updateBucket(score_obj,"distinct_page_category_visit","g0_leq1"):2==t?updateBucket(score_obj,"distinct_page_category_visit","eq2"):t>2&&(updateBucket(score_obj,"distinct_page_category_visit","g2"),t>3&&(a=!1)),a&&(e.site_sections_viewed=o,setCookie("v_reco_data",e))}function check_visitor_type(){var e=getParsedCookie("v_reco_data")\ne&&updateBucket(score_obj,"user_type",e.user)}function init(){var e={},i={},o={},r={},t={},n={},a={},s={}\nif(addDimension(s,"always_on",weight_value(-6.60318,1)),addDimension(e,"g0_leq2",weight_value(0)),addDimension(e,"g2",weight_value(1.03603)),addDimension(i,"g0_leq1",weight_value(0)),addDimension(i,"eq2",weight_value(-.47664)),addDimension(i,"g2",weight_value(-.27858)),addDimension(o,"leq7",weight_value(0)),addDimension(o,"g7_leq43",weight_value(.93749)),addDimension(o,"g43_leq99",weight_value(2.01747)),addDimension(o,"g99_leq200",weight_value(2.52205)),addDimension(o,"g200_leq359",weight_value(2.81251)),addDimension(o,"g359_leq618",weight_value(2.86476)),addDimension(o,"g618",weight_value(2.9113)),addDimension(r,"leq45",weight_value(0)),addDimension(r,"g45_leq179",weight_value(.52377)),addDimension(r,"g179_leq398",weight_value(1.01499)),addDimension(r,"g398_leq842",weight_value(1.55684)),addDimension(r,"g842",weight_value(1.70535)),addDimension(t,"new",weight_value(0)),addDimension(t,"returning",weight_value(.5321)),addDimension(n,"mobile",weight_value(.4129)),addDimension(n,"tablet",weight_value(.56654)),addDimension(n,"desktop",weight_value(.88621)),addDimension(a,"paid_search",weight_value(-.14965)),addDimension(a,"display",weight_value(-.89081)),addDimension(a,"other",weight_value(0)),addDimension(score_obj,"distinct_pageview",e),addDimension(score_obj,"distinct_page_category_visit",i),addDimension(score_obj,"session_duration",o),addDimension(score_obj,"session_duration_configurator",r),addDimension(score_obj,"user_type",t),addDimension(score_obj,"device_type",n),addDimension(score_obj,"last_channel",a),addDimension(score_obj,"intercept",s),check_device_type(),check_channel(),check_pageview_metrics(),check_visitor_type(),check_configurator_session_duration(),check_session_duration(),getCookie("bmwdtm_hq_sid"))shouldSendScore=!0\nelse{setTimeout(function(){shouldSendScore=!0},3e4)}}var score_obj={},shouldSendScore=!1,isScoreSame=!1,shouldCalculateScore=!0,shouldDisplayScore=!1,URL=document.location.href,rawScore,finalScore,prevScore,queryPaidParameters=["wt.mc_id","bmw","WT.mc_id","gclid","utm_campaign"]\nwindow.addEventListener("score_visitor",listener),_satellite.getVar("setUserTypeForReco"),init()}()}catch(err){_satellite.logger.error("Error in Visitor Reco Script ",err)}',language:"javascript"}}]},{id:"RLfccf9f60f1d24f4f85981d3ab644edec",name:"TPT - AT - AEM - SalesforceChat - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCeac36ba2439b4623ab29f11bb8af36de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa090f6a49ac74bb79c734c04c34490d1",name:"TPT - CH - AEM - GTagDC - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formtda [gcdm-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcad4f9b251b44fbb8404ebc9ddaf88a4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLabecbf6724154a58b6f4ae63b58096fc",name:"TPT - DE - AEM - Facebook - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9baf87464b874d2389b222094969c6d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb397931a16df4b1db2f67d57a9cd69b7",name:"TPT - IT - AEM - Content Square - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9636ab72162049cea8cf4bd4b8707224-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL361cafd11021451b8531c345ac24bcb9",name:"TPT - MY - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc51a26905f33440b8df5f2a169238565-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa88059a0133f4de1af7d720833c05377",name:"TPT - CH - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0cc29f638b5e4adeaae2bcfe9b9f57c7-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3bdcaea75e5f46bb9ec88939fa6abcf0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdf1097adc3744015b3c1fc0438544af7",name:"TPT - NL - AEM - Gtag DC/AW - iFrame - RFO Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9321c7dd28854fd5b79bf49acda7610a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe16c8f20b16c4d3ebb0b98118778f9f8",name:"DCR - ZA - AEM - AA - Mood Configuration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"mood_pre_configuration_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.eventInfo.effect"),o=s.get("event.-1.attributes.relatedPageName",s.get("page.pageInfo.pageName")),i=(s.get("event.-1.category.subCategory01"),s.get("product.-1.attributes.fuelType")),c=_satellite.getVar("smartPreviousValueManager"),l=["vehicle","service","search","accessory"];-1!=i.indexOf("|")&&(i=i.replace(/\|/g,"~")),_satellite.getVar("setDefaultVariables",t)(a),a.prop1=-1==o.indexOf("nsc >")?"nsc > "+o:o,a.prop41=s.get("component.-1.category.componentType"),a.prop45=s.get("component.-1.category.componentVersion"),a.prop56=r,a.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(s.get("event.-1.eventInfo.eventPoints"))?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.prop53=s.get("event.-1.eventInfo.type"),a.prop12=s.get("event.-1.eventInfo.timeStamp"),a.eVar34=-1==n.indexOf("nsc >")?"nsc > "+n:n,a.prop52=s.get("event.-1.eventInfo.cause"),a.prop54=s.get("event.-1.category.primaryCategory"),a.prop55=s.get("event.-1.category.subCategory01",s.get("event.-1.category.subCategory1")),a.eVar71=s.get("event.-1.attributes.requestedURL"),a.prop44=s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"),a.prop27=s.get("event.-1.attributes.linkedPage.pageInfo.pageID"),a.prop13="bmw";var d=s.get("product.-1.attributes.internalCode"),u=s.get("product.-1.attributes.engine");if(u){var m=/[0-9]{3}[a-z]{1}/i,b=/xdrive[0-9]{2}[a-z]{1}/i,p=/sdrive[0-9]{2}[a-z]{1}/i,g=u.match(m)||u.match(b)||u.match(p);-1<u.indexOf("i3 (120 ah)")||-1<u.indexOf("i3 (120ah)")||-1<u.indexOf("i3 120ah")?u="i3 (120 ah)":-1<u.indexOf("i3s (120 ah)")||-1<u.indexOf("i3s (120ah)")||-1<u.indexOf("i3s 120ah")?u="i3s (120 ah)":g&&g.length&&(u=g[0].toUpperCase())}var f=_satellite.getVar("setDefaultProductVariables");f.id=s.get("event.-1.attributes.linkedProduct.productInfo.productID",s.get("product.-1.productInfo.productID"));var v=s.get("product.-1.category.subCategory1");-1<l.indexOf(v)?f.category=v:f.category="datalayer field missing",f.merchEvars.eVar58=u,f.merchEvars.eVar10=d,f.merchEvars.eVar56=i,a.products=f.toString(),a.prop59=s.get("product.-1.attributes.configID"),a.eVar59=s.get("product.-1.attributes.configLink"),"interaction"==r?(a.events=a.apl(a.events,"event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918")):"error"==r&&(a.events=a.apl(a.events,"event931,event932"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event931,event932")),a.linkTrackVars+="prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19",c.update("pageName",a.prop1)}catch(e){var h={from:"AA",type:"Rule",name:"DCR - ZA - AEM - AA - Mood Configuration"};_satellite.logger.error(e,h)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Pre configuration",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL6343d9c1be4141689a6a68d3243da664",name:"TPT - NL - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC977d11e33a20407f9cb415bb4a38af57-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL69b9f2c3b2cd4aa4b5cd7982b8799c32",name:"TPT - NL - AEM - Gtag DC/AW - RFI - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/specials/prijslijst-brochure.html",valueIsRegex:!0},{value:"/nl/ssl/aanvraag/brochure-prijslijst.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe60fce1e39484ba48009fd37ba6b51d0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3610cb2e80b4cd88d1f495ecd9cf8d0",name:"TPT - NO - AEM - Adform - CON Open Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0af7f9347a064b7eaa946cbb45ece854-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42fd083635df4d09ae1c7cff7f0c9ede",name:"TPT - RU - AEM - Doubleclick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd8f0f082e02d4d7db2de26ba60a944e7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2a5c53bbb6584dbc80eb87fdc156ff56",name:"TPT - AT - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5347c073d3c94c27ab489898c9b18a30-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa0d9ee60b08940339e3f2cde036cbbf6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd32a3280870d4f8d8451dd5445da669f",name:"TPT - NL - AEM - Bing - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0c2833c0098641d698a1644f00026a99-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbadc5cce083c49d0b3f4efdc742ccad4",name:"TPT - SK - AEM - Doubleclick - DBM_Tag_Configurator_Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(a){_satellite.logger.error("TPT - SK - DBM Tag Configurator Steps err \n",a)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC221d85e32b8f473496d27f373aad5b4d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2c34b5310ab94eac912f95efe29f8da1",name:"TPT - FR - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5d52ecf13c0842118b8acef657da39f1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcf92d4de65df489394cf587534756e90",name:"TPT - IE - AEM - Gtag_DC - Build Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en_IE/configure/G30",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/5-series/sedan/2020/highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3da2a3173b914db79c20ce6490cb2955-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8378eb2bb011418a9cbed30258fbea69",name:"TPT - RO - AEM - Doubleclick - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC649a36b4e4b24ce2b29efc2c40011bbb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b631654208d46ac8fade808bf332cca",name:"TPT - AT - AEM - Doubleclick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6e7aa42021064d0cbd4fb2bd4412db3d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL667bc250e7214c7d9516f3baede52a14",name:"TPT - FR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"FR"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb57c54b81bd24de7962c93f029a688d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd7d83821e6b4da4b9ab434ac6b0c33a",name:"TPT - SG - AEM - Adform - Download catalogue - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Download catalogue",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/original-bmw-accessories/accessories-catalogue.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8ff0c119663e41a0a7783f5beda6009a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8e02d8891f23496694c614383e2cd489",name:"TPT - SE - AEM - Hotjar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2ba5c2b165f64a8f8144a90e317bc74c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe9e67c9067ce4ec1ba259a1dd1dfaa55",name:"TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfigurator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_steps"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC39c3d6595e594a6880be174616a1ed3e-source.min.js",language:"javascript",
isExternal:!0}}]},{id:"RLa5c656fe4d3d4ffebf9f905bda3d6cd3",name:"TPT - HU - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc3622496e2ac4d03bae6ed87bbabdd7a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb30a591d6f6445b8fc3b83a1f92ac74",name:"TPT - CH - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa8594f95e4824ce2864a1f781e4a3e05-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC91412bc7341a470a95d88cf56e901108-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL538c08a6db3c428a8bd8c974e77d3dab",name:"TPT - FI - AEM - Adform - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8b423192271449e7b49a21a190e97718-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb4d7fb369a5c48919fdc8412658a0148",name:"TPT - GR - AEM - IgnitionOne - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe2f2944abd3c4a24b313c16f2a271ce1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL22f3376df5c446c69c568929707178b9",name:"DCR - DE - All Models -  Adobe Target - Send Visitor Reco",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neufahrzeuge",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa8f63a8ee9404c53a23e5978c15d6043-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa482599120e44b0aaf4c534cfdbefd56",name:"TPT - ZA - AEM - Adform - PriceList and Brouchure Download - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe087143bcb354b0da79cf5a72d736a29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6d480cfea8b547fc8243249c8fa89f50",name:"TPT - AT - AEM - Facebook - BMW Prime - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://meinprime.bmw.at"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/bmw-prime/prime.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd94307b63cd94a1cb9216690307e5cdf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0a3f02469d62441395b303264226e571",name:"TPT - IT - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3fe294279970444c8c1e0fdae12d8327-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b33f399fa4c426fb44019f4d28ccc86",name:"TPT - ZA - AEM - DoubleClick - Test Drive - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"form[id='bmw-form formstrap']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/G05/2018/testdrive",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC894070a9d2ee424cac9a5c70fdfbf0a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9a0fdb6c3a3649d282033c3b4ce0854c",name:"TPT - IT - AEM - GTagDC - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC00e5009956d84f1a846de67638fa96c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL15df7348ba6240dca9a9dfe0e41a5f45",name:"TPT - UK - AEM - Xandr - RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC62778ee7ac9f4e9aade5c72d0ac28ccd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLebf24d8c4f6542e0962200f3c1e319b2",name:"TPT - NO - AEM - Adform - Services & Accessories - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/offers-and-services/bmw-tilbehor.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5f9da7e8d2774a9bbd0f32f0deb426c0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLff029a39b62f4149a1bd414e000e08a8",name:"TPT - ES - AEM - Ignition One - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"ES"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/",valueIsRegex:!0},{value:"/es/campanas/plan-moves-2020.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe3c25a8d70204197aaffec3e887a4afc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b928f35335c4f98ba1d8d0b1166917d",name:"TPT - NO - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb1d7d799a3f04731b4e368e50755f963-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe6e3daab00534e508960940065b1c67a",name:"TPT - AT - AEM - Facebook - BMW Lifestyle Collection - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/content/dam/bmw/marketAT/bmw_at/topics/offers-and-services/bmwlifestyle2020/BMW_Lifestyle_Catalogue_2020_1.pdf.asset.1600159738677.pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/bmw-lifestyle-2020/bmw-lifestyle.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC93b42be440c94f75a4b855a6cc05f03b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdee033b88e3d44a8bc41500428d7bb75",name:"TPT - BG - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"BG"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC21f146927209466aa7d81d8cfdb50eae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8d6ad5c20e714a0dbf0be250c2fd6321",name:"W - All - AEM - AA - BMW Submit Registration",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formregistration .before-success .multistepline__submit button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",t)(a),a.prop1=a.pageName=-1==r.indexOf("nsc >")?"nsc > "+r:r,a.prop11="Registration",a.prop8="form finished",a.eVar34="nsc > form finished",a.prop19="registration",a.prop6=a.prop53="central form",a.prop7=a.prop55="My BMW Registration",a.prop17=s.get("transaction.-1.transactionID"),a.prop54="registration",a.prop56="form",a.prop10="dedicated forms",0!=s.get("product").length){var n=s.get("event.-1.category.mmdr");if(n){var o=/[a-z]{1}[0-9]{2}/i,i=n.match(o);n=i&&i.length?i[0].toUpperCase():"datalayer field empty"}var c=_satellite.getVar("setDefaultProductVariables");c.id=s.get("event.-1.category.mmdr"),c.category="vehicle",c.merchEvars.eVar10=n,a.products=c.toString()}a.events=a.apl(a.events,"event95,event96,event15,event16"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event95,event96,event15,event16"),a.linkTrackVars=a.apl(a.linkTrackVars,"prop1,prop11,prop8,eVar34,prop19,prop6,prop53,prop7,prop55,prop17,prop54,prop56,prop10,products"),document.getElementById("formregistration").classList.contains("ng-invalid")&&(a.abort=!0)}catch(e){var l={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,l)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"regi_Submit",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL773d4e41db494c78831df39a5583c96d",name:"TPT - SK - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9c27a9e037a440c3910defd3f1eeee89-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5360d4a3330942cb850d379999672931",name:"TPT - DE - AEM - Dynatrace - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9793cc74de8d4c5092f2b4fcdae2ab11-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd70bce98086243dd98f1557d648f4fad",name:"TPT - GR - AEM - Doubleclick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcc42ead79e434a3498df4470364f37fe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL665a97385fe9479f8853f7e00b7d83f5",name:"TPT - SE - AEM - Add Cookie - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0e26e8b6028a4856832c775cba7b528c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2d7db6a1bdd74be3b574abded896bb2b",name:"TPT - AR - AEM - Adwords - Click bot\xf3n mail Contact us - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"es/footer/footer-section/contact-us.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd60c6439ddf549f78f79ed9df4d99f48-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3c34396688fb4572a29be4fdd411655b",name:"TPT - FR - AEM - iAdvize - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1c69228795734ef791009165305fb60b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5f785f6b569946e195f24fb2c9b130e3",name:"TPT - MY - AEM - Sizmek - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0921264bbc8e4c9aae7103be60410d23-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCff85788dd19348eb9db9dfafb804f40b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0e84f611bdb143c0999de9f5a7406f5a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC181d6df9ecc0475d9141519be18489cb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcaebb915baf745dfa65849070f96b217",name:"TPT - CZ - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC209c5aa010db4b7d9da8748d2ff1141a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbea612a55b2c4f1e84e308f883b8550b",name:"TPT - IT - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC459472e346644361a70c8d73665670a1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c1e70e14b814115bc928295b45d444d",name:"TPT - UK - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3ac67eb3e89341248224187087f6a80b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcbe7d85382534f69884705d8d053455d",name:"TPT - ZA - AEM - Adform - Test Drive Click - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Book a test drive",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3b13243fa7494c2a88ae3e8b43e117bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL313c0db3949d4ac5ad20050364bc40ff",name:"TPT - IE - AEM - Gtag_DC - Configurator_Section_Tracker - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb9bd0e4021a848aba5cb420649a8e474-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0a87a0cc237246e9a351377855920c47",name:"TPT - NL - AEM - GtagDC - Service Inclusive Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCabe1d4acd16242d7a03ba656276d0cb7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe86ba4d49e6b4249b97e5ceb0402f330",name:"TPT - UK - AEM - Doubleclick - Multiple - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div#action-bar div:nth-child(1) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div#custom-dealer-container a.location__detail-website",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"title",value:"Book a service"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("URLNoParam");"www.bmw.co.uk/en/all-models"==t?_satellite.setVar("ruleType","floodlight_price_list_item"):"www.bmw.co.uk/en/footer/contact/find-a-bmw-centre.html"==t?_satellite.setVar("ruleType","floodlight_dealer_confirmation"):"www.bmw.co.uk/en/topics/owners/service-workshop/servicing/overview.html"==t&&_satellite.setVar("ruleType","floodlight_find_your_bmw")}catch(e){_satellite.logger.error("TPT FloodLight UK",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCff17b723c8c74e71a9a93612649dce30-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL545cc6bc482e42e4bd5cdf9795808506",name:"TPT - NZ - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC278ea6de554842ffb4a68ca5416cf884-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL294d2b7e2e664b12b7d1d8f320421554",name:"TPT - BG - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa54fc8ef07c54cecaf20569bec97a6e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf1a1714201fd44a2bd6f0154166b8303",name:"PLR - DE - All Models - Custom Script - Visitor Reco Target",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neufahrzeuge",valueIsRegex:!0},{value:"/all-models",valueIsRegex:!0},{value:"/index",valueIsRegex:!0},{value:"/home",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdefb2682acca45ff9f7baa2a0bc148ba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7cb349fbef747bc9a4c2b3467a28b32",name:"DCR - All - AEM - AA - Tech Hub",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_filter"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_series_selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_body_selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_load_more"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_open"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_close"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_link"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_link"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=_satellite.getVar("smartPreviousValueManager"),n=s.get("page.pageInfo.pageName");_satellite.getVar("setDefaultVariables",t)(a);var o=_satellite.getVar("setDefaultProductVariables");o.category="vehicle",o.merchEvars.eVar53="new car",o.merchEvars.eVar54="build to order",a.products=o.toString(),a.prop59=s.get("product.-1.attributes.configID"),a.eVar59=s.get("product.-1.attributes.configLink"),a.eVar135=s.get("page.pageInfo.devEnv"),a.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,r.update("pageName",a.prop1);var i=_satellite.getVar("AA-componentDefaultValues");a.prop2=s.get("page.category.pageType"),a.prop3=s.get("page.category.primaryCategory"),a.prop5=s.get("page.category.subCategory02"),a.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),a.prop42=i.primaryCat||"datalayer field empty",a.prop43=i.subCat||"datalayer field empty",a.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID");var c=s.get("event.-1.eventInfo.eventName"),l=s.get("event.-1.eventInfo.effect"),d=s.get("event.-1.eventInfo.eventAction"),u=s.get("event.eventInfo.cause");switch(a.prop12=s.get("event.-1.eventInfo.timeStamp"),a.prop13="bmw",a.prop50=s.get("event.-1.eventInfo.element"),a.prop52="default",a.prop53="ux",a.prop54=s.get("event.-1.category.primaryCategory"),a.prop55=c,a.prop56="interaction",a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.eVar17=s.get("user.-1.profileInfo.visitorID"),a.eVar34="nsc > "+l,a.eVar71=s.get("event.-1.attributes.requestedURL"),a.eVar136="2020 - 06- 15 tech_hub",d){case"tech hub filter":a.prop51=d,a.prop57="internal click";break;case"tech hub series selection":a.prop51=d,a.prop57="drop-down menu";break;case"tech hub layer open":a.prop51=d,a.prop57="open content";break;case"tech hub series selection":a.prop51=d,a.prop57="close content";break;case"tech hub link":a.prop51=u,a.prop57="internal click";break;default:a.prop51=d,a.prop57="internal click"}a.linkTrackVars=a.apl(a.linkTrackVars,"products,eVar17,eVar34,eVar59,eVar71,eVar136,prop1,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59"),a.events=a.apl(a.events,"event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918")}catch(b){var m={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,m)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Tech Hub",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLea930a56da7841b291370877eb4b28b2",name:"TPT - AT - AEM - Doubleclick - GCDM Forms - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#brochure-submit",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCffab0d59713840ecabfda0bfe690e25a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb5bdb895c2b540cca726d4142874cbe3",name:"TPT - CA - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa553842acd6c424fa2f69639b1ea05a4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL519a5fcdae3345ffb82012ce838787b5",name:"TPT - UK - AEM - GTagDC - iFrame DC Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_dc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3c976bc0aee6431c85f5501cb4ab916c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL663ba7f57d5c42b8a43ebc2c093b072e",name:"TPT - NZ - AEM - ContentSquare - Simulated Page - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{
value:"/configurator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5847384854ba4386b74ee4cfe6981882-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL536584565b244474a410678e5e194620",name:"TPT - NL - AEM - Facebook - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf419074760bc4e81969ba2c5bb231ba5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL31ab6af496c14e8d80cbd259d8c12901",name:"TPT - RO - AEM - LinkedIn - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC28f722fe81b144b08106d1f1bf5186cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7bb43c8a34644826b956c000ca436a18",name:"TPT - DE - AEM - Adobe Campaign Pixel - BMW Submit Registration - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formregistration .multistepline__submit div:nth-child(2) button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC561898ae165c4747893962c96a0e518d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd07ef114fb64a829ffb4bce8fe1449c",name:"TPT - LU - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc5109d1e6b944b728100e7bc880e8cd1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd4e03a61a02842b5955323217aeca0b2-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC76bb845ce44c443d9a6e1e8a8f2b7659-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc68cc715731a412cbb2e2086e04cabe5",name:"TPT - UK - AEM - Facebook - iFrame RFC Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC370abd48fd90419fafaed418fa46b488-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc0d2f8e6e0ee454babdd27251eee883f",name:"TPT - FI - AEM - Adwords - Retailers - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".buttonLarge.ds2-tracking-js--event",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t|Retailers",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbe34aae778494ce9bf237df2b28b5ed5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd5d28fefa06e473286b26ad7a732e4ad",name:"TPT - NL - AEM - Adwords - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6b1cb628b2ec49e798f5d97854183640-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL13f8ea7540cf4e3b915a3dc16c58b38d",name:"TPT - AT - AEM - Facebook - iFrame Campaign Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_campaign"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5777b8cc23554a9a990bb65ba79c88ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL378cb1761e1f4a5ab52e1473ec0ecebd",name:"TPT - IN - AEM - Search Tag - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC928e3411a0374fc29c2db24eeeaf2c1e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7e75e9d2b4014ce0b7e48aabe5f06076",name:"TPT - RU - AEM - Clever Data - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0},{value:"m122.bmw-int6.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd3dc8ae20b1d41a58f8027e5bd11b810-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9bf5315d1d024496a33ab62ca5c4c0d5",name:"TPT - DE - AEM - Facebook - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfe778207d8004905ab5132f2debaebf1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9c5086a3be094820af5a1e2d4087de62",name:"TPT - IE - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC81a2efec52e5415fb6203c4657b2c6fe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb5c5c814ff01402d811f4d7b5d3051ca",name:"TPT - IT - AEM - Gtag AW - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1e76924a44f7474ba64df53734f63318-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL53712918689341f898458de65309c309",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS General - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_general"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC496aada38d4b48ae96a6cc0817bc633e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLccd1386b4461485aa76a6547951badf2",name:"TPT - PT - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3a6cdf08f7624d05b9718f158f954911-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL261eca97097146858c917ab304e29ba4",name:"TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7995f048e7d747e39b013464014eb8aa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb2ea77aca4a45a988b5ec55307adc35",name:"TPT - CZ - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0f2a6478c52f4b27a3536215b6175ab4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL767910e7ef4d4dddabf4b88533aa8e5f",name:"TPT - ID - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2f46ab1e1bce453997f9a2b630bea3e5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL609c0047a4cf4890b6d15e0354aab89f",name:"TPT - BE - AEM - Doubleclick - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5d2513a0b096431fa8102fda6d2233a1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL312f2e87f83548658c8718cc15016ffa",name:"TPT - RU - AEM - DoubleClick - Started Accessory Configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc515d3896d174c8791e8b40cb1d831ab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL84aa59b9630843d381127d4a62c94c37",name:"TPT - PL - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC61de333c381b491f955beda238f548de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60981615e2cc4d29a0662aa96924cebc",name:"PLR - PL - AEM - AT - Determine TargetExperience Name",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isTargetAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    var topLevelDomain = _satellite.getVar('topLevelDomain');\n    if (topLevelDomain == \"bmw.pl\") {\n        (function () {\n            document.addEventListener(\"at-request-succeeded\", function (e) {\n                if (typeof (e) !== 'undefined' && typeof (e.detail) !== 'undefined' && typeof (e.detail.responseTokens) !== 'undefined' && e.detail.responseTokens.length > 0) {\n                    for (var i = 0; i < e.detail.responseTokens.length; i++) {\n                        if (typeof (e.detail.responseTokens[i]) !== 'undefined' && typeof (e.detail.responseTokens[i]['activity.name']) !== 'undefined' && typeof (e.detail.responseTokens[i]['experience.name']) !== 'undefined') {\n                            var k = e.detail.responseTokens[i]['activity.name'];\n                            var v = e.detail.responseTokens[i]['experience.name'];\n                            sendTestToCS(decodeURI(k), decodeURI(v));\n                        }\n                    }\n                }\n            });\n\n            function sendTestToCS(cskey, csValue) {\n                _satellite.logger.log(\"Target Activities Names captured: \", cskey);\n                //if (cskey.indexOf('BMW_DE_X5_Onepager_Short_Prod_200810') > -1) {\n                    setTimeout(function () {\n                        //_satellite.cookie.set('target_experience', csValue, {\n                            //'domain': _satellite.getVar('topLevelDomain'),\n                        //})\n                        var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n                        smartPreviousValueManager.update(\"targetExperience\", csValue);   \n                    }, 10000);\n                //}\n            };\n        })();\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: \"PLR\",\n        type: \"AT\",\n        name: \"PLR - PL - AEM - AT - Determine TargetExperience Name\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RLdb63d7c200c74d208456b8b3ae5204ac",name:"TPT - FR - AEM - DLO Search Function - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"FR"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4c5b679adb4e40448492610f0cf77be2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a21595e240744c79ae5c6026fb78d57",name:"TPT - ID - AEM - Facebook - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC55179277dfca429196ec87a2a9657ad9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42a81977e4a74a70a42991ae5b14e9b6",name:"TPT - SG - AEM - Adform - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC09525dee0514478abf583e1117e0151b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35ac95f6e9e94b6db3defb5a23f6e003",name:"TPT - IE - AEM - GTagDC - 2 Series Get Quote Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(1) > div > a[href="/en/redirect/discover-get-a-quote.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC80dd8a01726743989e2a93002fe26762-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6481b5dc67ea48a49a41431524eb9309",name:"TPT - MY - AEM - Korex - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe13eacd7c82e442fa3e6241929635eff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b51dd0b9d29489b81971460bec3621f",name:"TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.successpagerfidownload__base > form > div > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6027ae35b6bd4bf7843b6586923bd535-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL85eecea757d24b50b8d25ac5f118d503",name:"TPT - IE - AEM - DoubleClick - Brochure download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb14fa0bdb64e46ecb55066aae2d3732f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3cb84ed8b5b04dedb8f928f85adecfe3",name:"TPT - DK - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa0753278b9544d7cb84d951b1e1b4429-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdf24e58e7653444d9804a258775dcd02-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL76bbc64978004acba74e35730c28c2b0",name:"TPT - IE - AEM - Gtag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IE"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC885f0076464d4a81a5acc18fe73fb2f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4907d968798d4b5681cbee120491a126",name:"TPT - UK - AEM - Klick2Contact - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9daf5a692b734bf4aca8c4d39a77b804-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc22017d283cb438698a24a760ff7e688",name:"TPT - DK - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdc46c9a142524daeb8890f462105797f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb1806014b49d4a4e9b905628220e452d",name:"TPT - IE - AEM - Adwords - Get A Quote - EBR  - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa83a324969ad44d7a8ab45deafe9fe3a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL09abd12fb0314d2fbd08db232767eb1a",name:"DCR - All - AEM - AA - DCS Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.getVar("flatMapping")(a),_satellite.getVar("setDefaultVariables",t)(a);var s=_satellite.getVar("snapshotDL"),r=s.get("event.-1.eventInfo.effect");if(s.get("event.-1.eventInfo.eventName"),a.prop27=s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",s.get("page.pageInfo.pageID")),a.eVar135=s.get("page.pageInfo.sysEnv"),a.prop1=s.get("page.pageInfo.pageName"),a.prop1.indexOf("sales >")<0&&(a.prop1="sales > "+a.prop1),a.pageName=a.prop1,a.prop4=s.get("page.category.subCategory1"),a.linkTrackVars+="prop4,",a.eVar34=s.get("event.-1.eventInfo.effect"),a.eVar34.indexOf("sales >")<0&&(a.eVar34="sales > "+a.eVar34),a.eVar151=s.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),a.eVar152=s.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),a.eVar153=s.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),a.eVar154=s.get("component.-1.attributes.referringComponent"),a.eVar155=s.get("cart.attributes.offerID"),a.eVar156=s.get("page.attributes.checkoutID"),a.prop42="vehicle sales platforms",a.prop43="indirect sales",a.prop19="digital checkout solution","sales > dcs: order submit success"==r){var n=s.get("page.attributes.purchaseID");a.events=a.apl(a.events,"purchase"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"purchase"),a.purchaseID=n}var o=_satellite.getVar("topLevelDomain");"mini.de"!=o&&"mini.fr"!=o&&"mini.it"!=o&&"mini-int7.com"!=o||(a.prop13="mini"),a.linkTrackVars+="prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,,prop33,eVar28,prop31,eVar14,purchaseID"}catch(e){var i={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - DCS Event"};_satellite.logger.error(e,i)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DCS",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL53fc9dd4592849e1894cae62c35f7f68",name:"TPT - CZ - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5a80fbcdd55b490889864c362a528c54-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6de14020f4ac4fde9c66b064edb68254",name:"TPT - IE - AEM - Adwords - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC49cbe2c1a0b74858a97c7eeab0caf612-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcd5846aab2b841d3b7a296e8e813d77e",name:"TPT - CH - AEM - GTagDC - Dealer Selector - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1a557973989d4955909a12c0a5ea5e97-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9c9dd983949b475eac6c1e09e369b82e",name:"TPT - SG - AEM - Precision - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3d9169d887a349ee8f6571282edb907d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6628e663e00c41f2a704d530c4537833",name:"TPT - SK - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf95daaac4b564d1baae0ab63a876b5ba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8759826fc62b454eb2fb2748bc8e6dbe",name:"TPT - JP - AEM - YDN - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf1f5466521b84cc9abeef4c9c63154ec-source.min.js",language:"html",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe0691964cf8649aaa5d386820b317f40-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a871398923e4f1d85160c15663d0b88",name:"TPT - FR - AEM - Sizmek - 2019-02-BMW-FilRougeConsideration-Visite1Min-Arrivee-AllModels - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC829283884c8f42549b0eae3483a57956-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL69eef503b89b49b4bafe7e2ea2c8635d",name:"TPT - SK - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3451423ab71f47ccbd910b2218695d25-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe544149c29e5429db0120ddc6608375d",name:"TPT - UK - AEM - GTagDC - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3c898ce30bd743dda2e9e226c1b16ca3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLac65d78e2f4d4156a38b7ccd70adc6d7",name:"TPT - NL - AEM - Facebook - RFI - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/specials/prijslijst-brochure.html",valueIsRegex:!0},{value:"/nl/ssl/aanvraag/brochure-prijslijst.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC60bcb942357b430aa61b87ab9a8ce4bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL06dec34813ed4fe0a04d7263bab4f51b",name:"TPT - DE - AEM - BMW Connected Appstore Cookie Drawer (without p15r) - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.de",valueIsRegex:!0},{value:"m156.bmw-int3.com",valueIsRegex:!0},{value:"m156.bmw-int9.com",valueIsRegex:!0},{value:"m14.bmw-int1.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/faszination-bmw/connecteddrive/bmw-connected"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd74f3e7031f44972a31003a172488809-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC245d2ade315147848f2b328c27805dc1-source.min.js",language:"html",isExternal:!0}}]},{id:"RL74a370e40e6f4b2388f5d2e40e0d1120",name:"TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe6fc90843d1449ae902c525f986cedee-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL10150437cc804984bd58def331ec9a2a",name:"TPT - MX - AEM - IgnitionOne - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC26bb041bc3ef427e96bebd735b0228f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL475b4f1014364a4aa44e2e045a75beea",name:"TPT - NL - AEM - Adwords - Dealer Search Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.button-blue",elementProperties:[{name:"title",value:"Zoeken"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC07748d95de5e4ee19fa61a3a70bae15f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe77663af37f3488f985f45607101fa8e",name:"TPT - UK - AEM - Sophus - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc5e8e660de8841e5b9f436e5ec26164c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb8f61b1da0854eb28b5a0631e521ea30",name:"TPT - FI - AEM - Adwords - Open Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb8a34a435a2c4bf7a34ac0cc4e4e7d3a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL01f6d959a49f4416babf64d75db1c301",name:"TPT - NL - AEM - Facebook - iFrame ROI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC289cf16673f44703b7a18d51e76cee1c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL53eafa4dfc2e4d549160a049e03f4630",name:"TPT - KR - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.kr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9e620627d5954a418ba828940d1e3fa0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8ea346728db549e59b76d2e48d167a58",name:"TPT - AR - AEM - Adwords - Correo Servicios Financieros - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"contacto@bmwfs.com.ar",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/topics/fascination-bmw/bmw-financial-services.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC83b1c1162ddd4cb79bb0f7ca7cc04060-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6c6a4a46f848471fbecf4116327bd2b8",name:"TPT - RU - AEM - Facebook - Agile Need Analyzer - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"INPUT",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0bfa7d3df0fc4250860bd9dce502d136-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d474c65983e4667ab994e023040ea54",name:"TPT - NO - AEM - Adform - Kampanjer series click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/tilbud/kampanjer.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6cfd49a7790e466fb02292bc06b7f924-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd2560c938ae1455ca7436b735365fb8d",name:"TPT - GR - AEM - SizmekAds - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC24b540a41be04b5e88492ae68eb076a3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a7518d9b6a54d70bf0732c2b040df0b",name:"TPT - ZA - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6529cf256ddb4816ba3ea9b86410d87b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLba260c478e9340ddaac8a06d9924bc0c",name:"TPT - RU - AEM - DoubleClick - Need Analyzer Extended - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa055ae93a0ff42869a6d9debb5cf2a85-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8ca2b8dacfc545ee8af7314c407a5b1b",name:"TPT - ZA - AEM - Adform - Buy Now Btn - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://buy.bmw.co.za",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/topics/fascination-bmw/buy-bmw.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCad467b7ba92a4720ae7b7fc2a47d2546-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1a1a1372d70c42eda89b419df4d752bf",name:"TPT - DE - AEM - Adwords - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC09c2ec245d374986b8bb14812c49b920-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbfd4ab53759146cd8b7834972b519b59",name:"TPT - ES - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9d49f2baf2f54584b8a20af8ce9b4bc7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf31f63b9bb414f47a3eeab0167e79ca3",name:"TPT - ID - AEM - LinkedIn - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5c4a2828c4504366b23dbbb9567e1818-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLef6c866f64ed41be8f50bfc43722ee69",name:"TPT - LU - AEM - Doubleclick - History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.lu",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("pa_pag_pageName"),a=_satellite.getVar("previousStepName");if(a==undefined||a!==t){if("fr-LU"==_satellite.getVar("pa_pag_language"))return _satellite.setVar("previousStepName",t),"Select Engine"==_satellite.getVar("pa_pag_pageName")&&"G31"==_satellite.getVar("pr_att_mmdr");if("de-LU"==_satellite.getVar("pa_pag_language"))return _satellite.setVar("previousStepName",t),"Select Engine"==_satellite.getVar("pa_pag_pageName")&&"G31"==_satellite.getVar("pr_att_mmdr")}}catch(e){_satellite.logger.log("TPT - LU - Custom Code condition")}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1e5e778bad9d49af80cc8bcadf1d1f1e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLffd6478f560e46e2b9a01d08afc07a16",name:"TPT - ES - AEM - TradeDesk - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe1ecdf0abcb64c2d9346a41502268037-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe49dee34ae4a4c59a3f066a61bb69b2a",name:"TPT - RO - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5d67782d38a7438fabf1ab62ff3eba35-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL89a378ce81204d42b5949beb14f16342",name:"TPT - DE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd5e19d060f86457ebba1df4da29699b5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe1000b77e620490eaaee24a9805d8d03",name:"TPT - PL - NSC - AA - preconfiguration interstitial page",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(t){try{return-1<window.location.href.indexOf("icp=pl_precon-entry")}catch(e){var a={from:"Condition",type:"PLR",name:t.$rule.name};_satellite.logger.error(e,a)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9d8c266f8b524b4e884b7d4ea31c31b6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb23d4384fa784281b57166d9f12804ea",name:"PLR - All - NSC - AA - Initialize Plugins",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetDaysSinceLastVisit.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeApl.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{a.getPercentPageViewed=function(e,t){var a=this,s=a.c_r("s_ppv");(s=-1<s.indexOf(",")?s.split(","):[])[0]=a.unescape(s[0]),e=e||(a.pageName?a.pageName:document.location.href),a.ppvChange=void 0===t||1==t,"undefined"!=typeof a.linkType&&"o"===a.linkType||(a.ppvID&&a.ppvID===e||(a.ppvID=e,a.c_w("s_ppv",""),a.handlePPVevents()),a.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",a.handlePPVevents,!1),window.addEventListener("click",a.handlePPVevents,!1),window.addEventListener("scroll",a.handlePPVevents,!1)),a._ppvPreviousPage=s[0]?s[0]:"",a._ppvHighestPercentViewed=s[1]?s[1]:"",a._ppvInitialPercentViewed=s[2]?s[2]:"",a._ppvHighestPixelsSeen=s[3]?s[3]:"",a._ppvFoldsSeen=s[4]?s[4]:"",a._ppvFoldsAvailable=s[5]?s[5]:"")},a.handlePPVevents=function(){if("undefined"!=typeof s_c_il&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")){for(var e=0,t=s_c_il.length;e<t;e++)if(s_c_il[e]&&(s_c_il[e].getPercentPageViewed||s_c_il[e].getPreviousPageActivity)){var a=s_c_il[e];break}if(a&&a.ppvID){var s=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+r,t=Math.min(Math.round(e/s*100),100);var n=Math.floor(e/r);r=Math.floor(s/r);var o="";if(!a.c_r("s_tp")||a.unescape(a.c_r("s_ppv").split(",")[0])!==a.ppvID||a.p_fo(a.ppvID)||1==a.ppvChange&&a.c_r("s_tp")&&s!=a.c_r("s_tp")){if((a.unescape(a.c_r("s_ppv").split(",")[0])!==a.ppvID||a.p_fo(a.ppvID+"1"))&&a.c_w("s_ips",e),a.c_r("s_tp")&&a.unescape(a.c_r("s_ppv").split(",")[0])===a.ppvID){a.c_r("s_tp");var i=-1<(o=a.c_r("s_ppv")).indexOf(",")?o.split(","):[];o=i[0]?i[0]:"",i=i[3]?i[3]:"";var c=a.c_r("s_ips");o=o+","+Math.min(Math.round(i/s*100),100)+","+Math.min(Math.round(c/s*100),100)+","+i+","+n}a.c_w("s_tp",s)}else o=a.c_r("s_ppv");var l=o&&-1<o.indexOf(",")?o.split(",",6):[];s=0<l.length?l[0]:escape(a.ppvID),i=1<l.length?parseInt(l[1]):t,c=2<l.length?parseInt(l[2]):t;var d=3<l.length?parseInt(l[3]):e,u=4<l.length?parseInt(l[4]):n;l=5<l.length?parseInt(l[5]):r,0<t&&(o=s+","+(i<t?t:i)+","+c+","+(document.body.scrollHeight==(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)?e:d<e?e:d)+","+(u<n?n:u)+","+(l<r?r:l)),"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&a.c_w("s_ppv",o)}}},a.p_fo=function(e){var t=this;return t.__fo||(t.__fo={}),!t.__fo[e]&&(t.__fo[e]={},!0)}}catch(e){var s={from:"AA",type:"PLR",name:"Initialize Plugins"};_satellite.logger.error(e,s)}}},trackerProperties:{}}}]},{id:"RL0212525c04604ce6a7a4114b0b994d32",name:"TPT - GR - AEM - IgnitionOne - iFrame Forms RFC - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC650e01f657a24feb92d7dac01e3e5ad2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL860b36568ffb4003a0c11c719a8ddb7e",name:"DCR - All - AEM - AA - Bounce Timer",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bounce_timer"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",t)(a),0!=s.get("product").length){var n=s.get("product.-1.attributes.mmdr"),o=_satellite.getVar("setDefaultProductVariables");o.id=s.get("product.-1.attributes.mmdr"),o.category="vehicle",o.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),o.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),o.merchEvars.eVar10=n,o.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),a.products=o.toString()}a.linkTrackVars=a.apl(a.linkTrackVars,"products,prop1"),a.events=a.apl(a.events,"event976"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event976"),a.eVar34="nsc > bounce timer",-1==a.linkTrackVars.indexOf("eVar34")&&(a.linkTrackVars+=",eVar34"),"digital checkout solution"==s.get("page.category.primaryCategory")?(a.prop1=a.pageName=r,a.eVar34="sales > bounce timer",a.prop1.indexOf("sales >")<0&&(a.prop1=a.pageName="sales > "+a.prop1)):a.prop1=a.pageName=-1==r.indexOf("nsc >")?"nsc > "+r:r}catch(e){var i={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Bounce Timer"};_satellite.logger.error(e,i)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"bounce timer",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLdff179bc846f492b999f7ce416eb1f2e",name:"TPT - BR - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8d30d31ed0bb4e36bb44f613d1ceec10-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1aa3b8ec27f94278bd5f7688c39eff19",name:"DCR - All - AEM - AA - DCS PV",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("smartPreviousValueManager");_satellite.getVar("flatMapping")(a),_satellite.getVar("setDefaultVariables",t)(a);var r=_satellite.getVar("snapshotDL");a.prop27=r.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",r.get("page.pageInfo.pageID")),a.eVar135=r.get("page.pageInfo.sysEnv"),a.prop50="page title",a.prop17=a.prop44=a.eVar71=a.prop54=a.prop11=a.prop7=a.prop8=a.prop6=a.prop55=a.prop51=a.prop24=a.prop21=a.prop52=a.eVar34=a.prop57=a.prop56=a.prop58=a.prop12=a.prop53=a.eVar23=a.eVar24="","undefined"==a.products&&(a.products=""),a.prop1=r.get("page.pageInfo.pageName"),a.prop1.indexOf("sales >")<0&&(a.prop1="sales > "+a.prop1),a.pageName=a.prop1,a.prop4=r.get("page.category.subCategory1"),a.linkTrackVars+="prop4",a.eVar151=r.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),a.eVar152=r.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),a.eVar153=r.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),a.eVar154=r.get("component.-1.attributes.referringComponent"),a.eVar155=r.get("cart.attributes.offerID"),a.eVar156=r.get("page.attributes.checkoutID"),s.update("pageName",a.prop1,!0),a.prop42="vehicle sales platforms",a.prop43="indirect sales",a.prop44=r.get("component.-1.componentInfo.componentID"),a.prop19="digital checkout solution",s.update("pagePrimaryCategory",a.prop19,!0),s.update("componentSubcategory1",a.prop43,!0),s.update("url",a.eVar4,!0),a.eVar14=s.get("url"),s.update("pathName",a.eVar12),a.eVar29=s.get("pathName"),a.prop31=s.get("pagePrimaryCategory"),a.prop33=s.get("pageName"),a.eVar28=s.get("componentSubcategory1");var n=_satellite.getVar("topLevelDomain");"mini.de"!=n&&"mini.fr"!=n&&"mini.it"!=n&&"mini-int7.com"!=n||(a.prop13="mini")}catch(e){var o={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - DCS PV"};_satellite.logger.error(e,o)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL2e86aa9e3db1449ca57e0c0690279e46",name:"TPT - SI - AEM - Doubleclick - History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC564dfb54e35b4624abab857a53b3f642-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL38f6ce72c1be45bbae4595236fea399d",name:"TPT - AU - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC28921245e34149c09a98d83489c079c9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8d2568035df541fa98ab2c629cdb5b32",name:"TPT - IE - AEM - Gtag_DC - Get A Quote Click - EBR - p15r[c] ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/redirect/discover-get-a-quote.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCad0ed58dba644d2ea1d14ea7614232e9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83969ea550774e93a5319b0ab648f106",name:"TPT - GR - AEM - Trade Desk - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf14f099df1e64c92a3b23ba698baf786-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL23859b8b1f16491687e3d80583e702b8",name:"TPT - PL - AEM - Adwords - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9ea0a61b12eb4f709aa6997a4f60ec57-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2c41b2bca45450b9a684a935efc21ad",name:"TPT - AT - AEM - Facebook - EV CTAs - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/fascination-bmw/electromobility2020/elektroautos.html",valueIsRegex:!0}]}}],actions:[{
modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC126decccd0954e608822f68bc8aaad64-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb883f2430cb748bd95d7c39975f4fd8c",name:"TPT - HU - AEM - Doubleclick - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc51f9596e9694fe49c52bbd3bd46867c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1afa2e52b8e342c9918bf7fbb3a2dcbc",name:"TPT - ZA - AEM - GTagDC - google_site_tag_ZA_TestDriveSubmit - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"google_site_tag_ZA_TestDriveSubmit"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc0f998c3e64c4fee8170ea3ba0f673cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8c23f399b2f644aa9da9d8bbf38dcb32",name:"TPT - DE - AEM - ContentSquare - Stock Locator Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe9c83c2c7bb9426186fc82574b4da58c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLba246872943c4df4b6bbe01a704e4d3c",name:"TPT - NO - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC199bdea4f37c4a16b1c796746768b491-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6209076f05904e48b3efeef413b983fb",name:"DCR - ALL - NSC - AA - Ignition One Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ignitionOneTracking"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.logger.log("Rule: ",t.$rule.name," fired identifier ",t.identifier);var s=t.detail&&t.detail.ignitionOneData?t.detail.ignitionOneData.eventType:window.ignitionone.eventType,r=t.detail&&t.detail.ignitionOneData?t.detail.ignitionOneData.formType:window.ignitionone.formType;r=r&&"contact"==r.toLowerCase()?"RFC":r,window.ignitionone.previousFormType=window.ignitionone.formType,window.ignitionOne=window.ignitionOne||{},window.ignitionOne=Object.assign(window.ignitionOne,window.ignitionone),delete window.ignitionone.previousFormType,_satellite.getVar("setDefaultVariables",t)(a);var n=_satellite.getVar("snapshotDL");switch(a.prop5="dedicated forms",a.prop6="ignitionOne",a.prop9="step 1/1",a.prop10=window.ignitionOne.isCombo?"combo forms":"dedicated forms",a.prop41="pop-up",a.prop42="locally developed",a.prop43="forms",a.prop53="ignitionOne",a.prop56="form","Impression"!=s&&"impression"!=s||(a.prop8="form started",a.prop16="ignitionOne form",a.eVar34="nsc > form started"),"Start"!=s&&"start"!=s||(a.prop8="first form interaction",a.prop16="ignitionOne form",a.eVar34="nsc > first form interaction"),"End"!=s&&"end"!=s||(a.prop8="form finished",a.prop16="request success",a.eVar34="nsc > form finished"),a.prop1=-1<n.get("page.pageInfo.pageName").indexOf("nsc > ")?n.get("page.pageInfo.pageName"):"nsc > "+n.get("page.pageInfo.pageName"),a.prop2="form",a.prop3=r,a.prop7="generic",a.prop11=r,a.prop19=r,a.prop28="virtual page",a.prop29=n.get("page.pageInfo.version"),a.prop54=r,a.eVar4=n.get("page.pageInfo.destinationUrl"),a.eVar135=n.get("page.pageInfo.devEnv"),s){case"Start":var o={TDA:"event5,event6",RFI:"event5,event6",RFC:"event5,event6",RFO:"event5,event6",ROI:"event5,event6","FS RFO":"event33,event34","not set":""};a.events=a.apl(a.events,o[r]),a.linkTrackEvents=a.apl(a.linkTrackEvents,o[r]);break;case"Impression":var i={TDA:"event3,event4,event85,event86",RFI:"event3,event4,event45,event46",RFC:"event3,event4,event33,event34",RFO:"event3,event4,event61,event62",ROI:"event3,event4","FS RFO":"event3,event4,event102,event103","not set":""};a.events=a.apl(a.events,i[r]),a.linkTrackEvents=a.apl(a.linkTrackEvents,i[r]);break;case"End":var c={TDA:"event15,event16,event87,event88",RFI:"event15,event16,event47,event48",RFC:"event15,event16,event35,event36",RFO:"event15,event16,event63,event64",ROI:"event15,event16","FS RFO":"event15,event16,event104,event105","not set":""};a.events=a.apl(a.events,c[r]),a.linkTrackEvents=a.apl(a.linkTrackEvents,c[r])}a.linkTrackVars+="prop1,prop2,prop3,prop5,prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop19,prop28,prop29,prop41,prop42,prop43,prop53,prop54,prop56,eVar4,eVar7,eVar8,eVar34,eVar135,prop33,eVar28,prop31,eVar14"}catch(e){var l={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,l)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Ignition One",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLfbbb25adcd8f4cd09244870714d4db63",name:"TPT - ZA - AEM - Twitter - Multiple - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe196c7781d4746e3b6cc6b0f14722de0-source.min.js",language:"html",isExternal:!0}}]},{id:"RL61429c8635e94cd28b8e9df4ec939edb",name:"TPT - UK - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC02e592815fac412ea15857db24020543-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL23c1d3863a1a4400a7fe78865e3352d9",name:"PLR - All - AA - Custom Code - Covid Banner display",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"index.html",valueIsRegex:!0},{value:"home.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC12e81587b8804f3081e2e26f581635e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfdc67ae0b8b1494d9bd68d420085873e",name:"TPT - MY - AEM - Zendesk Chat - All pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9f12578de3334143ab57dfc33cd98b70-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL556ae62899c14e9ab26bdd89cbc09b64",name:"DCR - All - NSC - AA - Adobe Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TDA"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"RFO"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.eventInfo.effect"),o=(s.get("event.-1.eventInfo.cause"),s.get("event.-1.eventInfo.eventPoints"),s.get("event.-1.eventInfo.type")),i=s.get("event.-1.category.subCategory1"),c=s.get("event.-1.category.subCategory2"),l=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));_satellite.getVar("flatMapping")(a),_satellite.getVar("setDefaultVariables",t)(a),a.prop1=a.pageName=-1==l.indexOf("nsc >")?"nsc > "+l:l,a.eVar34=-1==n.indexOf("nsc >")?"nsc > "+n:n;var d,u={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"]},m=u[o.toLowerCase()],b=u[i.toLowerCase()],p=u[c.toLowerCase()];"nsc > form started"==n?(d=a.apl(d,"event3,event4"),p!=undefined&&(d=a.apl(d,p[0])),m!=undefined&&(d=a.apl(d,m[0])),"RFI"!=o&&"ROI"!=o&&"FS RFO"!=o||b!=undefined&&(d=a.apl(d,b[0]))):"nsc > form finished"==n?(d=a.apl(d,"event15,event16"),p!=undefined&&(d=a.apl(d,p[1])),m!=undefined&&(d=a.apl(d,m[1])),"RFI"!=o&&"ROI"!=o&&"FS RFO"!=o||b!=undefined&&(d=a.apl(d,b[1]))):"nsc > form finish intention"==n||"form finish intension"==n?d=a.apl(d,"event917,event918,event13,event14"):"first form interaction"==n?d=a.apl(d,"event917,event918,event5,event6"):"form interaction"==n?d=a.apl(d,"event917,event918,event9,event10"):-1<n.indexOf("form step")?d=a.apl(d,"event7,event8"):"form impression"==n?d=a.apl(d,"event925,event926"):-1<n.indexOf("error")&&(d=a.apl(d,"event931,event932"));var g=s.get("event.-1.attributes.leadTime","0");d=a.apl(d,"event977="+g),a.events=a.apl(a.events,d),a.linkTrackEvents=a.apl(a.linkTrackEvents,d),a.eVar137=s.get("component.-1.category.application","aem6"),a.prop55=s.get("event.-1.category.subCategory1",s.get("event.-1.attributes.errorCode")),a.eVar23=s.get("page.attributes.marketingConsent"),a.prop6="adobe form",a.prop7=s.get("event.-1.category.subCategory1"),a.prop8=-1==n.indexOf("nsc >")?n:n.substring(6),a.prop9=s.get("page.category.subCategory1"),a.prop10=s.get("page.category.subCategory2"),a.prop11=o,a.prop16=s.get("page.pageInfo.pageName"),a.prop17=s.get("event.-1.attributes.form.rfxID"),a.prop18=s.get("event.-1.category.subCategory2",s.get("event.-1.category.subCategory02")),a.eVar41=s.get("product.-1.dealerGroupName",s.get("product.-1.dealerGroup")),a.eVar42=s.get("product.-1.dealerID",s.get("product.-1.dealerGroupID")),a.eVar39=s.get("product.-1.dealerOutletName",s.get("product.-1.dealerName")),a.eVar40=s.get("product.-1.outletID",s.get("product.-1.dealerOutletID")),a.prop42="nsc website",a.prop43="forms",((a.prop56="form")!=s.get("component.-1.category.subCategory01")&&"form"!=s.get("component.-1.category.subCategory1")||"aem6"!=s.get("component.-1.category.application"))&&"nsc > form finish intention"!=s.get("event.-1.eventInfo.effect")||"interaction"==r&&(a.prop6=a.prop53="adobe form"),"datalayer field missing"!=a.prop7&&"datalayer field empty"!=a.prop7||"form"==a.prop56&&(a.prop7="generic"),"datalayer field missing"!=a.prop55&&"datalayer field empty"!=a.prop55||"form"==a.prop56&&(a.prop55="generic"),"error"==r&&(a.prop56="error",a.prop6="",a.prop8="",a.prop55=s.get("event.-1.category.subCategory1"),a.prop53=s.get("event.-1.eventInfo.type"),a.eVar34=s.get("event.-1.eventInfo.effect"),a.prop52=s.get("event.-1.eventInfo.cause")),a.prop19="adobe form";var f=s.get("page.pageInfo.pageName");if(-1!=f.indexOf("PREDOC-G26-BEVE-E")||-1!=f.indexOf("predoc-g26-beve-e")){a.prop11="rfo",a.prop7=f;var v=s.get("product-1.attributes.motorization",s.get("product.-1.attributes.engine"));if(v){var h=/[0-9]{3}[a-z]{1}/i,P=/xdrive[0-9]{2}[a-z]{1}/i,C=/sdrive[0-9]{2}[a-z]{1}/i,j=v.match(h)||v.match(P)||v.match(C);-1<v.indexOf("i3 (120 ah)")||-1<v.indexOf("i3 (120ah)")||-1<v.indexOf("i3 120ah")?v="i3 (120 ah)":-1<v.indexOf("i3s (120 ah)")||-1<v.indexOf("i3s (120ah)")||-1<v.indexOf("i3s 120ah")?v="i3s (120 ah)":j&&j.length&&(v=j[0].toUpperCase())}var y=_satellite.getVar("setDefaultProductVariables");y.id="g26",y.category="vehicle",y.merchEvars.eVar10="G26",y.merchEvars.eVar56="e",y.merchEvars.eVar57="beve",y.merchEvars.eVar44=s.get("product.-1.attributes.productionYear"),y.merchEvars.eVar45=s.get("product.-1.attributes.yearOfRegistration"),y.merchEvars.eVar46=s.get("product.-1.attributes.vehicleStatus",s.get("product.-1.attributes.vehicleSelection")),y.merchEvars.eVar47=s.get("product.-1.productInfo.color",s.get("product.-1.attributes.color")),y.merchEvars.eVar48=s.get("product.-1.attributes.modelCode"),y.merchEvars.eVar49=s.get("product.-1.attributes.gearing"),y.merchEvars.eVar50=s.get("product.-1.attributes.series"),y.merchEvars.eVar52=s.get("product.-1.productInfo.productName",s.get("product.-1.attributes.modelName")),y.merchEvars.eVar53="model_navigation_hp"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||-1<s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")?"new car":s.get("product.-1.category.primaryCategory"),y.merchEvars.eVar54=-1<s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")||"need analyzer"==s.get("page.pageInfo.pageTitle").toLowerCase()?"build to order":s.get("product.-1.category.subCategory1"),y.merchEvars.eVar55=s.get("product.-1.category.subCategory2"),y.merchEvars.eVar58=v,y.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),a.products=y.toString(),"form started"==a.prop8?(d=a.apl(d,"event61,event62"),a.events=a.apl(a.events,d),a.linkTrackEvents=a.apl(a.linkTrackEvents,d)):"form finished"==a.prop8&&(d=a.apl(d,"event63,event64"),a.events=a.apl(a.events,d),a.linkTrackEvents=a.apl(a.linkTrackEvents,d))}a.linkTrackVars=a.apl(a.linkTrackVars,"products,eVar23,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56")}catch(e){var R={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,R)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Adobe Forms",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL6d41bf125e8e4df9bf07f1133fc827dd",name:"DCR - ALL - NSC - AA - UXN Navigation and Generic Click Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"email"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"call"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_image"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_tooltip"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tap_hover"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"salesbar"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.logger.log("Rule: ",t.$rule.name," fired identifier ",t.identifier);for(var s=_satellite.getVar("snapshotDL"),r=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.eventInfo.effect"),o=s.get("event.-1.attributes.videoLength"),i=r&&"object"!=typeof r?r.split("L").length:0,c="",l=s.get("event.-1.attributes.relatedComponent.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.category.primaryCatergory")),d=s.get("event.-1.category.primaryCategory"),u="nsc > ",m=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),b=s.get("component"),p=0;p<b.length;p++)if(b[p].componentInfo.componentID===s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"))return void(a.abort="true");if(-1<["line_component","multicontent","new_pre_configuration","offers","new_gallery","uxs-highlight","all-models-list"].indexOf(m))return void(a.abort="true");if(a.linkTrackVars="events,",a.linkTrackEvents="",a.events="",_satellite.getVar("setDefaultVariables",t)(a),("tap_and_hold"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&"datalayer field missing"!=s.get("product")&&"datalayer field empty"!=s.get("product")&&s.get("product")!=[]||"datalayer field empty"!=s.get("product.-1.productInfo.productName")&&"datalayer field missing"!=s.get("product.-1.productInfo.productName"))&&_satellite.getVar("setProductString")(a),a.prop42="nsc website",a.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),a.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,a.eVar175=s.get("component.-1.attributes.variant",s.get("event.-1.attributes.relatedComponent.attributes.variant")),a.prop2=s.get("page.category.pageType"),a.prop3=s.get("page.category.primaryCategory"),a.prop4=s.get("page.category.subCategory01"),a.prop5=s.get("page.category.subCategory02"),a.prop1=s.get("page.pageInfo.pageName"),"digital > new car stock locator"==s.get("component.-1.componentInfo.componentName")?a.prop1.indexOf("sl >")<0?a.prop1="stock > "+a.prop1:a.prop1=a.prop1.replace("sl >","stock > "):a.prop1.indexOf(u)<0&&(a.prop1=u+a.prop1),a.prop28=s.get("page.attributes.virtualPage"),a.prop29=s.get("page.pageInfo.version"),a.prop40=s.get("user.-1.segment.logged"),a.prop56="interaction",a.eVar34=r&&"object"!=typeof r?r:"datalayer field missing",a.eVar34.indexOf(u)<0&&(a.eVar34=u+a.eVar34),a.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(s.get("event.-1.eventInfo.eventPoints"))?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.prop12=s.get("event.-1.eventInfo.timeStamp"),a.prop54=s.get("event.-1.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),a.prop55=s.get("event.-1.category.subCategory01"),a.prop50=s.get("event.-1.eventInfo.element"),a.eVar71=s.get("event.-1.eventInfo.target"),l&&"Navigation"==l&&"Navigation"==d?(a.prop52=s.get("event.-1.eventInfo.cause"),a.eVar136="2020 - 06- 15 user_centric_navigation",a.eVar137="AEM6",a.prop53="ux",a.linkTrackVars+="prop74,prop42,prop43,prop56,prop19,eVar175,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,eVar136,eVar137,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"):(a.prop52=s.get("event.-1.eventInfo.eventType",s.get("event.-1.category.eventType")),a.prop53="open_content"==t.identifier||"open_image"==t.identifier||"open_tooltip"==t.identifier||"tap_hover"==t.identifier?"ux":"success",a.linkTrackVars+="prop74,prop42,prop43,prop56,prop19,eVar175,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"),"open_navigation"==t.identifier&&2==i&&"Navigation"==l)c="event917,event918,event919,event920";else if("internal_click"==t.identifier&&2==i&&"Navigation"==l&&"Navigation"==d)c="event917,event918,event919,event920";else switch(c="event917,event918",t.identifier){case"start_video":c+=",event351";break;case"email":c+=",event901,event902";break;case"call":c+=",event913,event914";break;case"tap_hover":if(n&&parseInt(n)&&o&&parseInt(o)){var g=parseInt(n)/parseInt(o);.1<=g&&(c+=",event352"),.25<=g&&(c+=",event353"),.5<=g&&(c+=",event354"),.75<=g&&(c+=",event355"),.95<=g&&(c+=",event356")}c+=",event351,event909,event910";break;case"open_image":if("tap_and_hold"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")){c+=",event909,event910";break}}if("user_centric_navigation"==a.prop19&&(c+=",event919,event920"),"close_layer"!=t.identifier&&"open_layer"!=t.identifier&&"open_navigation"!=t.identifier||("visualizer"==s.get("event.-1.attributes.relatedComponentName")?(a.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),a.prop19=a.prop54="visualizer",a.prop42="configuration",a.prop53="ux",a.prop51=s.get("event.-1.eventInfo.eventName"),a.prop52=s.get("event.-1.eventInfo.cause"),a.linkTrackVars+=",prop51",["inactivity","error","buildability conflict"].indexOf(r.toLowerCase())<0&&(c+=",event313,event314")):"model_navigation_hp"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(a.prop56="interaction",a.prop53="ux",a.prop43="navigation",a.eVar34=r+" clicked",a.prop51=s.get("event.-1.eventInfo.eventName"),a.prop52=s.get("event.-1.eventInfo.cause"),a.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),a.prop42="nsc website",a.prop13="bmw",a.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),a.eVar134="web",a.prop27=s.get("page.pageInfo.pageID"),"virtual"==a.prop28&&(a.prop28="virtual page"),a.prop3=s.get("component.-1.componentInfo.componentName"),a.eVar135=s.get("page.pageInfo.devEnv"),a.eVar71=s.get("event.-1.eventInfo.target"),a.eVar17=s.get("user.-1.profileInfo.visitorID"),a.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),a.eVar136="2020 - 06- 15 model_navigation_hp",a.linkTrackVars+=",prop51")),("Outbound click"!=s.get("event.-1.eventInfo.eventAction")&&"Internal click"!=s.get("event.-1.eventInfo.eventAction")||"salesbar"!=s.get("event.-1.attributes.relatedComponentName")&&"sticky_sales_bar"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))&&"salesbar"!=t.identifier||(c="event917,event918,event921,event922",a.prop43="navigation",a.prop56="interaction",a.eVar34=r+" clicked",a.prop52="default",a.prop53="ux",a.prop51=s.get("event.-1.eventInfo.eventName"),a.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),a.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),a.prop13="bmw",a.eVar134="web",a.prop27=s.get("page.pageInfo.pageID"),a.eVar71=s.get("event.-1.eventInfo.target"),a.prop3=s.get("component.-1.componentInfo.componentName"),a.prop2=s.get("page.category.pageType"),"virtual"==a.prop28&&(a.prop28="virtual page"),a.eVar135=s.get("page.pageInfo.devEnv"),"new car"==s.get("product.-1.category.primaryCategory")&&(a.eVar54="build to order"),a.eVar17=s.get("user.-1.profileInfo.visitorID"),"Outbound click"==s.get("event.-1.eventInfo.eventAction")&&-1<r.indexOf("test")&&-1<r.indexOf("drive")&&(a.prop11="tda",a.prop8="form start intention",a.linkTrackVars+=",prop11,prop8",c+=",event1,event2"),a.eVar136="2020 - 06- 15 salesbar",a.eVar175=s.get("event.-1.attributes.relatedComponent.attributes.variant"),a.linkTrackVars+=",prop51,prop2,prop3,prop52,prop19,prop44,prop13,eVar34,eVar134,prop27,eVar135,eVar54,eVar17,eVar136,prop53,eVar175"),"tap_and_hold"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&("tap_hover"==t.identifier||"open_image"==t.identifier)){a.eVar34=a.eVar34+" clicked",a.prop3=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),a.prop51=s.get("event.-1.eventInfo.eventName"),a.prop52="default",a.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),a.prop42="nsc website",a.prop43="content",a.prop13="bmw",a.eVar134="web",a.prop27=s.get("page.pageInfo.pageID"),"virtual"==a.prop28&&(a.prop28="virtual page"),a.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),a.eVar135=s.get("page.pageInfo.devEnv"),"new car"==s.get("product.-1.category.primaryCategory")&&(a.eVar54="build to order"),a.eVar17=s.get("user.-1.profileInfo.visitorID"),a.eVar136="2020 - 06- 15 tap_and_hold","tap_hover"==t.identifier&&(a.prop38="video",a.prop39=s.get("event.-1.attributes.videoLength"));var f=_satellite.getVar("setDefaultProductVariables");f.category="vehicle",f.id=s.get("product.-1.productInfo.productId",s.get("event.-1.category.mmdr"));var v=s.get("event.-1.category.mmdr");f.merchEvars.eVar10=v,f.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),f.merchEvars.eVar52=s.get("product.-1.productInfo.productName"),f.merchEvars.eVar53="new car",a.products=f.toString(),a.linkTrackVars+=",prop51,prop52,prop38,prop39,prop42,prop43,prop44,eVar135,eVar54,eVar55,eVar51,eVar48,eVar17,eVar136,products"}"visualizer"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(a.eVar34=s.get("event.-1.eventInfo.eventName.en")),"visualizer"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(a.eVar34=s.get("event.-1.eventInfo.eventName.en")),a.eVar34.indexOf("nsc >")<0&&(a.eVar34="nsc > "+a.eVar34),a.events=a.apl(a.events,c),a.linkTrackEvents=a.apl(a.linkTrackEvents,c),_satellite.getVar("smartPreviousValueManager").update("pageName",a.prop1),a.prop74="bmw .next - nsc|dcr - all - nsc - aa - uxn navigation and generic click tracking"}catch(e){var h={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,h)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL0cad56b0b3894327ab31caa9caabd4f8",name:"TPT - NO - AEM - Adobe Campaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC27276cad79dc449a909e5b687a9f68aa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa960f0c346f54739abe2fc6a0e81bcae",name:"TPT - CH - AEM - DoubleClick - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.successpagerfidownload__base > form > div > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1308e81e211c4e14847bd423b19c2106-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL73fc9ed6c3e04229862521cf824f27ef",name:"TPT - AT - AEM - Doubleclick - Test Drive Appoinment - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:".siloIntendedContent , h2"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(-1<window.location.pathname.indexOf("test-drive-appointment.html"))return!0}catch(e){_satellite.logger.error("TPT - AT Custom condition floodlight - retriggering",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4ffd6900f49e487d85ecb19490075ac8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbb02614d07704131a657eef3d49c37cb",name:"TPT - CH - AEM - GTagDC - RFO-SubmitContactDealerForm - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/requests/rfo-bmw"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcd7bfdb37e05462b8e890d77e65d81b9-source.min.js",
language:"javascript",isExternal:!0}}]},{id:"RLa4b230b09a824d4c95a5c33ca6061385",name:"TPT - CZ - AEM - Doubleclick - Configurator History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(a){_satellite.logger.error("TPT - CZ - DBM Tag Configurator Steps err \n",a)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2be69716463f4bdc891940fb5f82ee13-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL30ce20c1ba8749a4946f8ebfe399dd21",name:"TPT - HU - AEM - Daktela - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC16d4952f79d2416bb9149c0413c03876-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL89a4c106aed645bca62a56574a89e014",name:"TPT - DE - AEM - Criteo Pixel - Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6a080736e3944cfdaf707237eefae361-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa7d6ee2c00a94edda6575674c9f71c60",name:"TPT - AT - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd6f525195a5c4cacbf1f9ec0492a06e4-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC24639f736d63476187f027aa832865eb-source.min.js",language:"html",isExternal:!0}}]},{id:"RL01eeebe518ca4851aed0fc5cb85df571",name:"TPT - SG - AEM - Adform - Contact email - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon--email.ds2-icon.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/corporate-direct-sales/corporate-sales-overview.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc7c3e79933fb437f9a498c1f6864a3ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42a2a3d16a2d41bca4323fcc008ef158",name:"TPT - CH - AEM - Doubelclick - SubmitContactDealerForm - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/requests/rfo-bmw"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa39143906a694c77b8940303edb07209-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4e60001006fd45a7b74264cb180d6798-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc662293b1a5b4be49fd894d9a7ba981e",name:"TPT - GR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"GR"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCab91a4b6929e4cccbeb6f54fbcf1f445-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLba404e71b90649128e881666184d1623",name:"TPT - DK - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCabfc802361d84aa88e5ed219bc728080-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b6af56fc7b444a49662dedfc6bc22a5",name:"TPT - HU - AEM - GTagDC - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb9b261ed6f414dcfb460a865b9126792-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLda05a29a228f41ad925aba9e76b5e25e",name:"TPT - ES - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC08167283252a4db7b15c26aa96ba8c51-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8acc85dafbe246c7ac5af77f0376fdd8",name:"TPT - PT - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC931539699c6744b49fc293da92a6eadf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL660b07ed43af46ca816a870cc63ae263",name:"TPT - SK - AEM - RTB - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbfbb529f79e044208afa7f2cf9532647-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfd5b882e0d4b403c85554ba124635811-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc1a4cc7be61e4f069e403c421fd047ce",name:"TPT - ZA - AEM - GTagDC - Select Professional CD - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"bmw-form formstrap",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/forms/SelectProfessional-CD",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC87db89b6ebf149339e6c719426ced75d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf788c21b3ea3427aadeb6146cce688c6",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,o){function a(){function e(){t||(t=!0,window.CS_CONF&&(CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Adobe Analytics")))}var t=!1;window._uxa=window._uxa||[],_uxa.push(["afterPageView",e]);var a="_cs_mk",s=("; "+document.cookie).split("; "+a+"=");if(_satellite.logger.log("contentsquare installation1",s.length),1==s.length){var r=Math.random()+"_"+Date.now();o.eVar142=r,_satellite.logger.log("contentsquare installation",o.eVar131);var n=function(){for(var e=0,t=document.domain,a=t.split("."),s="_gd"+(new Date).getTime();e<a.length-1&&-1==document.cookie.indexOf(s+"="+s);)t=a.slice(-1-++e).join("."),document.cookie=s+"="+s+";domain="+t+";";return document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}();document.cookie=a+"="+r+"; expires=session ;path=/;domain="+n,_uxa.push(["trackDynamicVariable",{key:"csMatchingKey",value:r}])}}try{var s=_satellite.getVar("snapshotDL"),r=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")),n=s.get("event.-1.eventInfo.eventName"),i=_satellite.getVar("smartPreviousValueManager"),c=window.location.href;o.linkTrackVars="events,",o.linkTrackEvents="",o.events="",_satellite.getVar("setDefaultVariables",t)(o);try{"datalayer field missing"==r&&(r=dataLayer.pages[0].page.pageInfo.pageName||"datalayer field missing")}catch(e){var l={from:"AA",type:"PLR",name:t.$rule.name};_satellite.logger.error(e,l)}if(o.prop1=o.pageName=-1==r.indexOf("nsc >")?"nsc > "+r:r,-1<window.location.href.indexOf("/dcs/")||"nsc > stocklocator"==o.prop1)return void(o.abort=!0);if(o.eVar34=-1==n.indexOf("nsc >")?"nsc > "+n:n,o.prop42="nsc website",o.prop5=s.get("page.category.subCategory02"),-1<s.get("pageInstanceId").indexOf("error-pool/")&&(o.pageName="",o.pageType="errorPage"),"nsc > stocklocator"==o.pageName&&(o.prop19="central new car stock locator"),0!=s.get("product").length){var d=s.get("product.-1.attributes.mmdr"),u=_satellite.getVar("setDefaultProductVariables");u.id=d,u.category="vehicle",u.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),u.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),u.merchEvars.eVar10=d,u.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),o.products=u.toString()}if(void 0!==_satellite.cookie.get("bmwdtm_hq_perf")&&""!=_satellite.cookie.get("bmwdtm_hq_perf")&&null!=_satellite.cookie.get("bmwdtm_hq_perf")){var m=_satellite.cookie.get("bmwdtm_hq_perf");json_data=JSON.parse(m),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(o.events=o.apl(o.events,"event971="+json_data.timeServer,",",1),o.events=o.apl(o.events,"event972="+json_data.timeServerReact,",",1),"undefined"!=typeof json_data.lcp&&(o.events=o.apl(o.events,"event973="+json_data.lcp,",",1)),o.events=o.apl(o.events,"event974="+json_data.timeContent,",",1),o.events=o.apl(o.events,"event975="+json_data.timePageReady,",",1),"undefined"!=typeof json_data.fid&&(o.events=o.apl(o.events,"event968="+json_data.fid,",",1)),"undefined"!=typeof json_data.cls&&(o.events=o.apl(o.events,"event969="+json_data.cls,",",1)),o.eVar36=_satellite.getVar("perfTime_url"),o.eVar37=_satellite.getVar("perfTime_query"),o.eVar38=_satellite.getVar("perfTime_hash"),"undefined"!=typeof json_data.fidHTML&&(o.eVar67=json_data.fidHTML),"undefined"!=typeof json_data.lcpHTML&&(o.eVar68=json_data.lcpHTML)),_satellite.cookie.set("bmwdtm_hq_perf","")}if(o.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?6e4<parseInt(s.get("event.-1.eventInfo.eventPoints"))?o.events=o.apl(o.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?o.events=o.apl(o.events,"event970=0",",",1):o.events=o.apl(o.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1):o.prop58=s.get("event.-1.eventInfo.eventPoints"),o.prop12=s.get("event.-1.eventInfo.timeStamp"),o.prop52=s.get("event.-1.eventInfo.cause"),o.prop54=s.get("event.-1.category.primaryCategory"),o.prop55=s.get("event.-1.category.subCategory01"),o.prop50=s.get("event.-1.eventInfo.element"),o.eVar71=s.get("event.-1.eventInfo.target"),"user_centric_navigation"==o.prop19&&(o.events=o.apl(o.events,"event919,event920",",",1)),"delayed"==s.get("event.-1.category.eventType"))if(o.prop56="interaction",o.prop54=s.get("event.-1.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),"Navigation"==s.get("event.-1.category.primaryCategory")&&"user_centric_navigation"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")){var b=s.get("event.-1.attributes.relatedComponent.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.category.primaryCatergory")),p=(n=s.get("event.-1.eventInfo.eventName")).split("L").length;o.events=2==p&&"Navigation"==b?o.apl(o.events,"event917,event918,event919,event920",",",1):o.apl(o.events,"event917,event918",",",1),o.prop42="nsc website",o.eVar175=s.get("component.-1.attributes.variant"),o.prop2=s.get("page.category.pageType"),o.prop3=s.get("page.category.primaryCategory"),o.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),o.prop4=s.get("page.category.subCategory01"),o.prop5=s.get("page.category.subCategory02"),o.prop1=s.get("page.pageInfo.pageName"),o.prop1.indexOf("nsc >")<0&&(o.prop1="nsc > "+o.prop1),o.prop28=s.get("page.attributes.virtualPage"),o.prop29=s.get("page.pageInfo.version"),o.prop14=(new Date).toISOString().substr(11,8),o.prop15=(new Date).toString().substr(16,8),o.prop40=s.get("user.-1.segment.logged"),o.eVar136="2020 - 06- 15 user_centric_navigation",o.eVar137="AEM6",o.prop53="delayed"==s.get("event.-1.category.eventType")?"success":"ux",o.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),o.linkTrackVars+="prop42,prop43,prop44,prop19,eVar175,prop2,prop3,prop4,prop5,prop1,prop28,prop29,prop14,prop15,prop40,eVar136,eVar137,prop56,prop53,eVar34,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"}else if("Outbound click"!=s.get("event.-1.eventInfo.eventAction")&&"Internal click"!=s.get("event.-1.eventInfo.eventAction")||"salesbar"!=s.get("event.-1.attributes.relatedComponentName")&&"sticky_sales_bar"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))if("Open navigation"!=s.get("event.-1.eventInfo.eventAction")&&"Internal click"!=s.get("event.-1.eventInfo.eventAction")||"model_navigation_hp"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))if("accessory click"!=s.get("event.-1.eventInfo.eventAction")&&"cta click"!=s.get("event.-1.eventInfo.eventAction")||"ZSO_accessories"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))o.prop53="success",o.prop3=s.get("page.category.primaryCategory"),o.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),o.events=o.apl(o.events,"event917,event918",",",1),o.linkTrackVars+="prop43,prop56,prop53,eVar34,prop57,prop58,prop12,eVar71,prop50,prop54,prop52,eVar10,prop3,prop1,prop44,prop42,prop54";else{var g=s.get("event.-1.eventInfo.effect"),f=s.get("event.-1.eventInfo.eventAction");o.prop56="interaction",o.prop53="ZSO CTA click"==n?"success":"ux",o.eVar34=-1==g.indexOf("nsc >")?"nsc > "+g+" clicked":g+" clicked",o.prop19=o.prop3=o.prop54=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),o.prop55=s.get("event.-1.eventInfo.cause"),o.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),o.prop51=n,o.prop52="default",o.eVar17=s.get("user.-1.profileInfo.visitorID"),o.eVar136="2020 - 06- 15 ZSO_accessories",o.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),o.eVar55=s.get("product.-1.category.subCategory01"),o.eVar65=s.get("event.-1.attributes.productName"),o.prop42="nsc website",o.prop43="accessories",o.prop28=s.get("page.attributes.virtualPage"),"virtual"==o.prop28&&(o.prop28="virtual page");var v=_satellite.getVar("setDefaultProductVariables");if(d=s.get("event.-1.category.mmdr",s.get("product.-1.attributes.mmdr")),v.id=d,v.category="vehicle",v.merchEvars.eVar10=d,v.merchEvars.eVar53="new car",v.merchEvars.eVar54="build to order","ZSO recommended accessory click"==n||"ZSO CTA click"==n){var h=_satellite.getVar("setDefaultProductVariables");h.id=s.get("event.-1.attributes.wishlist.-1").split("~")[2],h.category="accessory",h.merchEvars.eVar53="accessory configurator",h.merchEvars.eVar52=s.get("event.-1.eventInfo.cause"),h.merchEvars.eVar54=s.get("event.-1.attributes.wishlist.-1").split("~")[0],v.append(h)}switch(o.products=v.toString(),o.linkTrackVars+=",prop56,prop53,eVar34,prop54,prop55,prop51,prop52,products,eVar136,eVar17,prop28,prop52,prop55,eVar60,eVar55,eVar65,prop19,prop3,prop44",n){case"ZSO Specific accessory click":case"ZSO recommended accessory click":"accessory click"==f&&(o.events=o.apl(o.events,"event917,event918,event253,event254",",",1));break;case"ZSO CTA click":"cta click"==f&&(o.events=o.apl(o.events,"event917,event918,event253,event254,event255,event256",",",1),"Request Offer now"!=g&&"Order Information"!=g&&"Request for Test drive"!=g||(o.events=o.apl(o.events,"event1,event2",",",1)))}}else o.prop56="interaction",o.prop53="ux",o.prop43="navigation",o.eVar34="nsc > "+n+" clicked",o.prop51=s.get("event.-1.eventInfo.eventName"),o.prop52=s.get("event.-1.eventInfo.cause"),o.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),o.prop42="nsc website",o.prop53="navigation",o.prop13="bmw",o.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),o.eVar134="web",o.prop27=s.get("page.pageInfo.pageID"),o.prop3=s.get("component.-1.componentInfo.componentName"),"virtual"==o.prop28&&(o.prop28="virtual page"),o.eVar135=s.get("page.pageInfo.devEnv"),o.eVar17=s.get("user.-1.profileInfo.visitorID"),o.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),o.eVar136="2020 - 06- 15 model_navigation_hp";else o.events=o.apl(o.events,"event917,event918,event921,event922"),o.prop43="navigation",o.eVar34="nsc > "+n+" clicked",o.prop52="default",o.prop53="ux",o.prop51=s.get("event.-1.eventInfo.eventName"),o.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),o.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),o.prop13="bmw",o.eVar134="web",o.prop27=s.get("page.pageInfo.pageID"),o.prop28=s.get("page.attributes.virtualPage"),o.prop3=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),o.prop2=s.get("page.category.pageType"),"virtual"==o.prop28&&(o.prop28="virtual page"),o.eVar135=s.get("page.pageInfo.devEnv"),"new car"==s.get("product.-1.category.primaryCategory")&&(o.eVar54="build to order"),o.eVar17=s.get("user.-1.profileInfo.visitorID"),"Outbound click"==s.get("event.-1.eventInfo.eventAction")&&-1<n.indexOf("test")&&-1<n.indexOf("drive")&&(o.prop11="tda",o.prop8="form start intention",o.linkTrackVars+=",prop11,prop8"),o.eVar136="2020 - 06- 15 salesbar",o.eVar175=s.get("event.-1.attributes.relatedComponent.attributes.variant"),o.linkTrackVars+=",prop51,prop3,prop2,prop52,prop44,prop19,prop28,eVar34,prop53,prop13,prop43,eVar134,prop27,eVar135,eVar54,eVar17,prop56,prop52,prop53,prop51,prop19,prop44,prop13,eVar134,prop27,prop3,prop28,eVar135,eVar136,eVar175";if(i.update("pageName",o.prop1),i.update("componentSubcategory1",o.prop43),_satellite.getVar("KIT-helpers").privacyManager.isCookieDrawerShown()){var P=s.get("event.-1.attributes.relatedComponentID");for(w=0;w<s.get("component").length;w++){var C=w.toString();s.get("component."+C+".componentInfo.componentID")!=P&&s.get("component."+C+".componentInfo.componentId")!=P||(_satellite.logger.log("related component - "+s.get("component."+C)),s.get("component."+C+".componentInfo.componentName",s.get("event.-1.attributes.relatedComponentName",s.get("product.-1.attributes.relatedComponentName"))),s.get("component."+C+".componentInfo.componentID",s.get("component."+C+".componentInfo.componentId")),s.get("component."+C+".category.primaryCategory"))}n=_satellite.getVar("eventName"),g=_satellite.getVar("eventEffect"),_satellite.getVar("eventCause"),_satellite.getVar("eventPrimaryCategory"),_satellite.getVar("eventSubCategory01"),o.events=o.apl(o.events,"event925,event926"),o.eVar34="nsc > "+s.get("event.-1.eventInfo.effect","cookie drawer is shown"),o.prop51=s.get("event.-1.eventInfo.eventName","Cookie drawer impression"),o.prop52=s.get("event.-1.eventInfo.cause","default"),o.prop55=s.get("event.-1.category.subCategory01","impression")}-1<c.indexOf("registration.html")&&(o.events=o.apl(o.events,"event93,event94,event3,event4"),o.prop11="Registration",o.prop8="form started",o.eVar34="nsc > form started",o.prop19="registration",o.prop6=o.prop53="central form",o.prop7=o.prop55="My BMW Registration",o.prop17=s.get("transaction.-1.transactionID"),o.prop54="registration",o.prop56="form",o.prop10="dedicated forms",0!=s.get("product").length)&&(d=s.get("event.-1.category.mmdr"),(v=_satellite.getVar("setDefaultProductVariables")).id=d,v.category="vehicle",v.merchEvars.eVar10=d,o.products=v.toString());try{var j=_satellite.getVar("topLevelDomain");"true"!=_satellite.getVar("isAdobeAnalyticsAllowed")||"bmw.de"!=j&&"bmw.fr"!=j&&"bmw.co.uk"!=j&&"bmw.it"!=j||a()}catch(_){l={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"},_satellite.logger.error(_,l)}try{var y=_satellite.getVar("AA-componentDefaultValues");y&&"configurator all models"==y.componentName&&(o.prop1="all-models-con-entry",o.pageName="all-models-con-entry",o.prop2=s.get("page.category.pageType","page"),o.prop4=s.get("page.category.subCategory01","con entry"),o.prop3="models",o.prop28=s.get("page.attributes.virtualPage"))}catch(_){l={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"},_satellite.logger.error(_,l)}for(var R=s.get("component"),w=0;w<R.length;w++)if(R[w].attributes&&R[w].attributes.onsiteSearch&&"General"===R[w].attributes.onsiteSearch){var I="true";break}if("true"==I){s.get("component.1.componentInfo.componentName"),s.get("component.-1.attributes.onsiteSearchResults"),o.prop56="search",o.prop53=o.prop21="content",o.eVar34="nsc > onsite search result clicked",o.prop51=R[w].componentInfo.componentName,o.prop55=o.prop24=R[w].attributes.onsiteSearchResults,o.prop22=R[w].attributes.onsiteSearchType,o.prop54="onsite search",o.prop44=R[w].componentInfo.componentID,o.prop19="onsite search",o.prop42="nsc website",o.prop43="search",o.eVar136="2021 - 02- 19 onsite search",o.eVar17=s.get("user.-1.profileInfo.visitorID"),o.prop13="bmw";var E=R[w].attributes.onsiteSearchTerm;o.events=o.apl(o.events,"event917,event918,event333,event334,event331,event332");var T=_satellite.getVar("searchDefaultProduct");(v=_satellite.getVar("setDefaultProductVariables")).merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),v.merchEvars.eVar53="new car",o.products=v.toString(),o.products+=",search;search;;;;"+T+"eVar30=datalayer field missing|eVar31=user selected|eVar32="+s.get("event.-1.attributes.onsiteSearch")+"|eVar33="+E}}catch(e){l={from:"AA",type:"PLR",name:t.$rule.name},_satellite.logger.error(e,l)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    var sid = _satellite.cookie.get("bmwdtm_hq_sid");\n    if (sid == undefined && _satellite.getVar(\'isAdobeAnalyticsAllowed\') == "true") {\n        setTimeout(function() {\n            _satellite.track("bounce_timer");\n        }, 20000);\n        _satellite.cookie.set("bmwdtm_hq_sid", Math.random());\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: "AA",\n        type: "Rule",\n        name: "PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon (Bounce DCR code)"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}',language:"javascript"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL9f96633d0c04488cb51c1114806ec86e",name:"TPT - NO - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC083455c795124bdfae14e31b9ef9c994-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL513dfc7f58ba43959c16dc2a77ff348d",name:"TPT - AU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC20285133c3dd4df7abb8311f57aa26f0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdbe17390dd17439d81d0a76ab8b29085",name:"TPT - NO - AEM - Adform - Dealership Selected - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC56d2abafafcb4862a5ba8016b08b2326-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3a0c542ca18426d95499047615c09f1",name:"TPT - GR - AEM - Doubleclick - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCff7e878cafc74cad8908a48613ad23be-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd52d8008872c4268a661753bcefbadab",name:"TPT - IT - AEM - GTagDC - Stock Locator Multiple Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCaeb3c939d9b54757ae581e90e4cc94f3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2953524eccb24ff09cf6ce88f8dec557",name:"TPT - IE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8884ad7440b340d3bcb44f478a20d644-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL24f880e024774c9e9d3de39e9d53250e",name:"TPT - RU - AEM - DoubleClick - Started Configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC73c2aa16b3a04a11ba48bf4a4b6073f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ebfb414b17a44ec9cf12c0b106f9c69",name:"TPT - PL - AEM - Facebook - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC23d44e87561e4580bb4bf350d4896a0b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a8cb72a27864a60980252a02e4bf7fc",name:"TPT - ES - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb13b19f83f594e52b92e428ee15ac600-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLed77c7e5a51546d69b376ee2013f97be",name:"TPT - AT - AEM - Facebook - 141g CTAs - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/fascination-bmw/corporate-direct-sales/modelle-141g.html",valueIsRegex:!0}]}}],actions:[{
modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3b448072ddc8456e9380ae05a628446b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa9fefae4776c4458bb9358fc500c0efd",name:"TPT - NL - AEM - Facebook - iFrame NSF Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc2af012340a644f086c1ce4fefe2e65f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL22040eb0f9ee4b39a42a618896ad8ac9",name:"TPT - NZ - AEM - ContentSquare - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC216abd9ce1c040aeabe7b60c3db00270-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL96923fd234ea48908e84a0cd67a0db31",name:"TPT - FI - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0ec8ad42b30d471ab1357c1bc8d1ab68-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2104b83031b4499aa7400516becc3dd5",name:"TPT - AT - AEM - Adform - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2e8889e74e604ae8a9c3bce1f9cb2a09-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa885d8656042414fa4e33c4e380f0c36",name:"TPT - NL - AEM - Bing - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc74c111df2044a7abff4b61082a3b488-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc9f3273ffd4f4aaea6877d534ce5b377",name:"TPT - AT - AEM - Facebook - Pricelist Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",elementProperties:[{name:"href",value:".*\\/pricelists\\/.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pricelist-brochure-download.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6a2f811c128a477eab765ac6d6d590b4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60a183d5a6b147ba8d24834a61967c86",name:"TPT - DK - AEM - Adform - Firmabil Other Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-accordion--list-item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Bestil pr\xf8vetur i den BMW du dr\xf8mmer om",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/firmabil.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC39602bfec41a4138a8111f10eb914a23-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5c12d8b942e540c98ca95914f4121559",name:"TPT - LU - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0a36d61574e4490aab59e6b3ba34682c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2803b55d113144f992062b8719e48819",name:"TPT - IT - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9061925817574d3ca46de9c145080acb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a4b6b36cacb469dbaa0a3ae361b9f11",name:"TPT - RU - AEM - Solowey - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC81aa88ddca6f4b1db0207c52bd27d9cc-source.min.js",language:"html",isExternal:!0}}]},{id:"RLa21c8bcfa7d943299fc1d13c6b61f817",name:"TPT - NL - AEM - IgnitionOne - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5a3accf9865d4e81998c1b04c3c07247-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL85526493a3bb4934884fa86cfc8da24d",name:"TPT - DE - AEM - Criteo Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC77e89ba72f204b45b21239128283e4cf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLea93e6e8c4fd4b7ea241ea02f8e1ba67",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Address - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_address"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCea2b134603854634878f3e565649c200-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7caceaf2688a44b0a25ae671d00a0e5e",name:"TPT - PT - AEM - Doubleclick - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7e884119e8c84d8394dc8379116d6795-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfb54fc78ece04c2a852b3b7d17a90cf8",name:"TPT - NO - AEM - Adform - Kampanjer offer click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".pagelink.basecomponent.ds2-linklist--item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NO"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0def157418ea442793b36bcc561ddfdb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa3822cf04534444bb8960a36c7019919",name:"TPT - ZA - AEM - Adform - X3 Inspire Test Drive - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#top-of-content > div.ds2-component.ds2-stage-presentation.ds2-disclaimer--asterix-on.ds2-contentnavigation > div.ds2-stage-presentation--keyvisual > div > div.ds2-stage-presentation--keyvisual-cta.show-for-large-up > div > div > div.show-for-large-up > ul > li:nth-child(1) > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/x-series/X3/2019/bmw-x3-inspire",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC00ae821909a94e9ca50af5029a07d1ed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2ef2cd63c94e427ca872f5dd15b2a73b",name:"TPT - CH - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5a38d2cd6e8c4e5899485a65378dbfec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a2d2b2a0d7b418cb77ee215bff9d472",name:"TPT - NL - AEM - LinkedIn - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC398dd5672e8040c28aa5f21e7b9bf1f4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc1fcc95af4124386a469627643471b7b",name:"TPT - NO - AEM - Adform - Used Car Search - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"BMW bruktbils\xf8k",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7c45a79b50f543bba22ff053279fb48a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc393d920f2ca4370a58b5b6260401d70",name:"TPT - UK - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk$",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6aa8bba98c904d5cbc03a1e3659486b1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5db20e245fb2469b9cd4fc3e04fb5dcb",name:"TPT - NL - AEM - GTag_DC - iFrame_NSF_Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8e24fbaba5cf47069dcf2829b3519b80-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe77eeaf8b6fc4d5e8fe5af35b173adf7",name:"TPT - DK - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC45c441c67b5642d0ab317a4570f1529a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1c6121ce10ac4ff4bbb575446a0b5e2f",name:"TPT - DE - AEM - Criteo Pixel - TDA Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC541e49cc81b44e579aa520bef4d189ed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3b28aa3fed3546999e58d80a311aa0d9",name:"TPT - DE - AEM - Dynatrace Cookie Transfer - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC463a1f0a4064484a8b14b379f0bd77ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4620539291ce4199b37b319d8e364597",name:"TPT - SG - AEM - Apex - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc1ff44a3602e4150871a03d67de6fe2d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC909d2dc583f848fbbc7e37b634c64998-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2890707948c64ac89dc207f88b33d8eb",name:"TPT - ID - AEM - LinkedIn - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC23acbfb4a97147a1b9b43dcc269b3c83-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaef0a2f84c6d43d7b094504834c997be",name:"TPT - UK - AEM - Xandr - Explore The Range - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/all-models/m-models.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3c31c5aa1b204ea3be60c6811919ad9e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe700de3f66b84addae70a53d76b06825",name:"TPT - ES - AEM - Yahoo - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd15cc68f6c454c24a4b744859bf833c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5df73da3b2284ab8b587fa0ab5f7104f",name:"TPT - ES - AEM - Inlab - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC846c616bdadd4d62a8f24ec74a46b276-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLad67d2ae62604c6a98a37b7c44ebc9b9",name:"TPT - BG - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC176c63fdadc443669fdd1ab7f4ba8965-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCaa67ebea12844c24bfa6d0a977e7bc11-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd3f695d0ebd94d3cbaea4d3015009bbf",name:"TPT - GR - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC33d0c22a27514632a3181dc8f4af3278-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2a70ded3d02a491882f512bf968ceb63",name:"TPT - SK - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfa95d8107c574dc3b3296af33dc8ddc1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL70d2cda62ab94e70bbb66040b76369b1",name:"TPT - CA - AEM - Adwords - All pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC11b0d9f0b6174863a7d4bbcd57d773e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b75a2f2780e44c8ad84e7253b0a1b1b",name:"TPT - RU - AEM - Doubleclick - Configurator Last Page - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div",elementProperties:[{name:"className",value:"h5vco-table-cell needsclick h5vco-nav-description h5vco-bold h5vco-clickable-text ng-binding"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC73fc2a4f63db4b60bc096c7b8d12bdd2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb9b266aa0de64e22872c5ebe5197e2bb",name:"TPT - CA - AEM - Facebook - Configure Now Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.button.standard.expand.ds2-tracking-js--event.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/topics/details/bmw-ukl.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4661ebfd39bc466e8b15aa6b38bcf3b8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd259d7dc8b8c4a4eb3616ba92fa47908",name:"TPT - RU - AEM - IgnitionOne - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC080d1007ce6649339591fa12971c090f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf15083c79b3245869b392dd4bd087595",name:"TPT - UK - AEM - GTagDC - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa1fe0f4bcd934841887c5e819b9fd54b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLad3b9574a7c54c07adadbcab0d634a4a",name:"TPT - IE - AEM - GTagDC - 2 Series View Offer Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfdf5c42f27aa4ec9b2b7c0b4a1440c0e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9d5c2cc57ed8403c9a2b3f5c8a5dc5c2",name:"TPT - PT - AEM - Doubleclick - iFrame Form TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa7e820b627d642559eef22d0953c3de1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL06e33ed173ba41e98b29d995df2c1a1c",name:"TPT - UK - AEM - GTagDC - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5b54b22aead743adbfce85c6b1704d37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc9136093f3d947a0a2efa74b49bdd0d9",name:"TPT - DK - AEM - Doubleclick - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"(/DK/da/BMWI|/DK/da/BMW_BMWM)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC96b0c42589bc44a5a2ac63ca429f59a1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0f54dad8cf9041eaa1d7eb31eb113394",name:"TPT - AT - AEM - Submit button - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1576e11cfcb5428085199b8c99fcedd6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd4f68ed32c54401ebdf362c6efcf9347",name:"TPT - SG - AEM - Lightning  Bolt - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC76ba68e63a1a48e8a013765d99c6d128-source.min.js",language:"html",isExternal:!0}}]},{id:"RL8bf8e165f0ac41b68c9762af8dc04fe3",name:"TPT - ZA - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdc24c40f6ede457093ef3824b187c428-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa3bfe0bfb5a478b888cc807a245dd7f",name:"TPT - UK - AEM - GtagDC - iFrame RFC Forms- DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb016533761f54547b51d2a46778ed4c5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a1fe07df5ed487fb7979939442933ba",name:"TPT - BR - AEM - Doubleclick - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(
".ds2-dlo-search--button-container button").text()}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd23265a7ecaf4465849cc739e2414021-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3f32cf3f418b403e9049be34416546a3",name:"TPT - SG - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8fdc02bfbb894e40be2b52c3d8047e60-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa8f8f30488d04ea39f36efe27e71cb09",name:"TPT - AT - AEM - IgnitionOne - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC525c6b82cd654a60b2ac6e1d9a75e29c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2f0ac878976a44a098806476187c5bff",name:"TPT - BG - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2798a1058cef4d36a15604abcaa4028f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0bd9c9f33d074742b796dcb367a5aeda",name:"TPT - NO - AEM - Adform - Salesbar Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NO"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/offers-and-services/bmw-tilbehor.html",valueIsRegex:!0},{value:"/no/topics/produkt-tilbud/firmabil.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa681507d1ef24c35ade89f2be2246fec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9027057ac71f49e58975d4ee01d68119",name:"TPT - DE - AEM - Facebook - Stock Locator Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6b42b66b6e034dda9d59849f75e30a5a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL72e734ee5c8b4da1a5058fe8bb88f26b",name:"TPT - FI - AEM - Adform - Vaihtoautot Buttons Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Premium Selection -vaihtoautohaku",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Lue lis\xe4\xe4",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"BMW Vakuutus",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Rakenna oma BMW",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Hinnastot ja esitteet",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Varaa huolto",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/premium-selection-vaihtoautot.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd895382846ed4130b77ad94bc648cd40-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL11f84e3e07234e718fd28eb882df3e90",name:"TPT - RU - AEM - VK Pixel - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe346cad458db46f8b9867e60269ee3e9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL118c804862574de1baaedb1e436b89bf",name:"TPT - RO - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCeef5793d253a4218aeef8c84d88a39cc-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfb6fcb3b49c7493aa9593e8413ec6296-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48c54fa33df946a4abebaf67f5c0b707",name:"TPT - NL - AEM - Gtag - iFrame ROI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0194b9052a9d4663917c85e165d34abf-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC021674b354fb479bb7e3fed64755d91e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3fbf5e0e56cb433eabe9a4286af7cd9c",name:"TPT - IE - AEM - Adwords - Book a Video Consultation - EBR  - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/ssl/book-a-video-consultation.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6df3cedf7de0475b83377538bfe499c0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5892cfd3ec17497ab736b0ef6d8e1a6b",name:"TPT - RU - AEM - DoubleClick - Started DLO - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0414\u0438\u043b\u0435\u0440\u0441\u043a\u0430\u044f \u0441\u0435\u0442\u044c"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe00b07a4149c48a89454fa3b08ecd8e0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8ad5d759db6c4d6985ddc12dd4ed781b",name:"TPT - CA - AEM - Facebook - All pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbc91985c484d4e4bb979f01b40f0b99a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL62f8c5630a714c639ecb58fa2ef424e4",name:"TPT - HU - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC14a1db74fcda491ab6f42b2be933ff5a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8f54d79d5e3a4798a8ee2f71af776e0a",name:"TPT - UK - AEM - GTagDC -iFrame Forms Oli FS Payment - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_payment"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9def8e0eed66427eb7199c832112ceca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL578f56ec7b2049eb9179defc12fe09a5",name:"DCR - All - AEM - AA - LCI",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"new_pre_configuration"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_image"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_image"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{a.linkTrackVars="events,",a.linkTrackEvents="",a.events="";var s=_satellite.getVar("snapshotDL"),r=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.eventInfo.eventAction"),o=(s.get("event.-1.eventInfo.cause"),s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),i=(s.get("component.-1.category.subCategory01"),s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"))),c=+new Date;if("small_teaser"!=o&&"multicontent"!=o&&"new_pre_configuration"!=o&&"offers"!=o&&"line_component"!=o&&"new_gallery"!=o&&"highlight"!=o&&"uxs-highlight"!=o)return void(a.abort="true");_satellite.getVar("setDefaultVariables",t)(a),"Close image"==n||"Open layer"==n||"Open navigation"==n||"Open showroom"==n||"Internal click"==n||"Open image"==n||"Open content"==n||"Outbound click"==n?(a.events=a.apl(a.events,"event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918")):"Download"==n?(a.events=a.apl(a.events,"event917,event918,event903,event904"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event903,event904")):"Contact Form"==r?(a.events=a.apl(a.events,"event1,event2"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event1,event2")):"Call Center"==r?(a.events=a.apl(a.events,"event913,event914"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event913,event914")):"Start video"==n&&(a.events=a.apl(a.events,"event917,event918,event351"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918,event351")),a.prop56="interaction",a.prop53="ux",a.eVar34="nsc > "+r+" clicked",a.prop52="default",a.prop19=_satellite.getVar("AA-componentDefaultValues").componentName,a.prop1=a.pageName=-1==i.indexOf("nsc >")?"nsc > "+i:i,a.prop5=s.get("page.category.subCategory02"),a.prop2=s.get("page.category.pageType"),a.prop28="virtual"==s.get("page.category.pageType")?"virtual page":"",a.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(s.get("event.-1.eventInfo.eventPoints"))?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.prop12=s.get("event.-1.eventInfo.timestamp",c),a.eVar71=s.get("event.-1.eventInfo.target"),a.prop50=s.get("event.-1.eventInfo.element"),a.prop54=s.get("event.-1.category.primaryCategory"),a.eVar17=s.get("user.-1.profileInfo.visitorID"),a.prop3=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),a.prop55=s.get("component.-1.category.subCategory01"),a.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),a.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID",s.get("component.-1.componentInfo.componentID")),"multicontent"==a.prop19?a.eVar136="2020 - 06- 15 multi_content":"new_pre_configuration"==a.prop19?a.eVar136="2020 - 06- 15 new_pre_configuration":"offers"==a.prop19?a.eVar136="2020 - 06- 15 showroom":"line_component"==a.prop19?a.eVar136="2020 - 06- 15 line_component":"highlight"==a.prop19||"uxs-highlight"==a.prop19?a.eVar136="2020 - 06- 15 uxs-highlight":"new_gallery"==a.prop19&&(a.eVar136="2020 - 06- 15 new_gallery");var l=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr",s.get("event.-1.category.mmdr"))),d=_satellite.getVar("setDefaultProductVariables");d.id=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr",s.get("product.-1.productInfo.productID"))),d.category="vehicle",d.merchEvars.eVar52=s.get("event.-1.attributes.productName",s.get("product.-1.attributes.modelName",s.get("product.-1.productInfo.productName"))),d.merchEvars.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),d.merchEvars.eVar10=l,d.merchEvars.eVar53="new car",a.prop51=s.get("event.-1.eventInfo.eventPoints"),a.products=d.toString(),a.prop74="bmw .next - nsc|dcr - all - aem - aa - lci","download"==t.identifier&&(a.events=a.apl(a.events,"event903,event904"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event903,event904")),a.linkTrackVars=a.apl(a.linkTrackVars,"products,prop19,prop44,prop56,prop51,prop53,eVar34,prop52,prop19,prop1,prop5,prop2,prop57,prop58,prop12,eVar71,prop50,prop54,eVar17,eVar136,prop55")}catch(e){var u={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,u)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"LCI",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL123f8c688a3542ae9ae48f8c449b8fa2",name:"TPT - RO - AEM - Doubleclick - Configurator Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ro",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"configurator"}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(a){_satellite.logger.log("TPT - RO - DBM Tag Configurator Steps err \n",a)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdb39fa7b653c4282b702f37791f0519e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL593408bcc2254093a259508c989c6b6d",name:"TPT - HU - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC41a55cb325534f60bfb5beed4999830d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa03ccdd415fc442c8c60c5d00584b5a3",name:"TPT - AR - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC573367ddc2394425affd0c114797abca-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC14b90ba7ffb4409496395f232ddd9de3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL20bdc9cb8a8845189ed043954c77621a",name:"EBR - DE - AEM - AA - Finance Calculator",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("tracking:fs showroom",function(e){e.detail&&(_satellite.setVar("financeEvent",e.detail),t())})}catch(e){_satellite.logger.error("EBR: Finance Calculator",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.getVar("setDefaultVariables",t)(a);var s=_satellite.getVar("financeEvent"),r=s.event[0].eventInfo.eventAction,n=s.event[0].eventInfo.eventName,o=s.event[0].eventInfo.type,i=s.event[0].eventInfo.timeStamp,c=s.event[0].eventInfo.cause,l=s.event[0].eventInfo.effect,d=s.event[0].eventInfo.eventPoints,u=s.component[0].componentInfo.componentName||"fs showroom",m=s.component[0].componentInfo.componentID||"fin > finance > fs showroom",b=s.component[0].componentInfo.componentType||"native in-page",p=s.component[0].componentInfo.primaryCategory||"finance",g=s.component[0].componentInfo.subCategory1||"offers",f=s.custom[0].product.productInfo.productName,v=_satellite.getVar("snapshotDL");a.prop1="nsc > "+v.get("page.pageInfo.pageName"),a.prop2=v.get("page.category.pageType"),a.prop19=u,a.prop41=b,a.prop42=p,a.prop43=g,a.prop44=m,a.prop56=n,a.prop57=r,(d="na"==d?"datalayer field empty":d)&&parseInt(d)&&!isNaN(parseInt(d))?(6e4<parseInt(d)?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(d)<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+d,",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=d,a.prop53=o,a.prop12=i,a.prop52=c,a.eVar34=l,a.eVar17=v.get("user.-1.profileInfo.visitorID"),a.prop74=_satellite.property.name+"|EBR - DE - AEM - AA - Finance Calculator";var h=v.get("product.-1.attributes.mmdr");if(h&&-1==h.indexOf("/")){var P=/[a-z]{1}[0-9]{2}/i,C=h.match(P);h=C&&C.length?C[0].toUpperCase():"datalayer field empty"}var j=_satellite.getVar("setDefaultProductVariables");j.id=v.get("product.-1.attributes.mmdr"),j.category="vehicle",j.merchEvars.eVar52=f,j.merchEvars.eVar60=v.get("product.-1.productInfo.manufacturer"),j.merchEvars.eVar10=h,j.merchEvars.eVar51=v.get("product.-1.attributes.bodyType"),j.merchEvars.eVar48=v.get("product.-1.attributes.modelCode"),j.merchEvars.eVar65=v.get("product.-1.attributes.modelName"),a.products=j.toString(),a.linkTrackVars+="prop1,prop2,prop41,prop42,prop43,prop44,prop19,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products,prop74,eVar17"}catch(e){_satellite.logger.error(e),a.abort=!0}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"finance_calculator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLe43c2857460a42098ed7ea7124621c2b",name:"TPT - LU - AEM - DoubleClick - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC893a3faed66c43c8a1bb447f209fc7e0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbdf70597172342ce96a4fa42a27eca88",name:"TPT - RO - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC375b7a8e2ebe43fa9845f403ef77ed10-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60ffaecd60d9425b878b506b3b03a34a",name:"TPT - BR - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC32ad15010fcd43aabd3a5f3d5f2f741d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL880aa4eb36aa4d5b8d1faaa7edd7bc15",name:"TPT - AT - AEM - Facebook - Alphabet Fleet Management CTA - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="//www.alphabet.at/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/finanzierung-versicherung/fuhrparkmanagement.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5557a2948c5d454ca4004acf297ea0bb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL87b78d20ee7e4ecb8eca2a767e20c908",name:"TPT - ZA - AEM - Adform - All Models Buy Now - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"//buy.bmw.co.za",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbd31533f14ca4e0589293c5a794a8a07-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLab3887e68f734fc99417076375a9b7c8",name:"DCR - All - AEM - AA - Central Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){function a(){s.prop1="nsc > "+d,s.prop42="nsc website",s.prop43="forms",s.prop19="central form",s.prop56="form",s.prop6="central form",s.eVar41=o.get("page.attributes.dealerName"),s.eVar42=o.get("page.attributes.dealerID"),s.eVar39=o.get("page.attributes.outletName"),s.eVar40=o.get("page.attributes.outletID"),s.eVar20=o.get("user.-1.segment.userSelectedCountry"),s.eVar23=o.get("user.-1.segment.userSelectedPreferredContactMethod"),s.eVar24=o.get("user.-1.segment.userSelectedGender"),s.eVar25=o.get("user.-1.segment.userSelectedYearofBirth"),s.eVar26=o.get("user.-1.segment.userSelectedCurrentVehicle"),"Form Start"==d?(s.eVar34="nsc > form started",s.prop8="form started"):"Form Success"==d?(s.eVar34="nsc > form finished",s.prop8="form finished"):(s.eVar34=-1!=d.indexOf("nsc >")?d:"nsc > "+d,s.prop8=d),s.prop53="central form",s.prop11=s.prop54=i.toUpperCase(),s.prop10="dedicated forms",s.prop16=d,s.prop17=g}function r(){var e=_satellite.getVar("setDefaultProductVariables").merchEvars;return-1<window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html")?e.eVar53="new car":e.eVar53=o.get("product.-1.category.primaryCategory"),e.eVar52=o.get("product.-1.productInfo.productName"),e.eVar60=o.get("product.-1.productInfo.manufacturer"),e.eVar10=h,e.eVar51=o.get("product.-1.attributes.bodyType"),e.eVar50=o.get("product.-1.attributes.serie"),e}function n(e){switch(e){case"Form Start":var t={RFA:"event3,event4,event29,event30",RFS:"event3,event4,event69,event70",RFC:"event3,event4,event33,event34",TDA:"event3,event4,event85,event86",RFO:"event3,event4,event61,event62",RFI:"event3,event4,event45,event46,event53,event54",CR:"event3,event4,event97,event98"};s.events=s.apl(s.events,t[i]),s.linkTrackEvents=s.apl(s.linkTrackEvents,t[i]);break;case"Form Step":s.events=s.apl(s.events,"event7,event8"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event7,event8");break;case"Form Success":var a={RFA:"event15,event16,event31,event32",RFS:"event15,event16,event71,event72",RFC:"event15,event16,event35,event36",TDA:"event15,event16,event87,event88",RFO:"event15,event16,event63,event64",RFI:"event15,event16,event47,event48,event55,event56",CR:"event15,event16,event99,event100"};s.events=s.apl(s.events,a[i]),s.linkTrackEvents=s.apl(s.linkTrackEvents,a[i]);break;default:"Request"!=o.get("page.category.primaryCategory")&&"Requests"!=o.get("page.category.primaryCategory")||"start page"!=o.get("page.category.pageType")||"Error"==o.get("event.-1.eventInfo.eventAction")?"Request"!=o.get("page.category.primaryCategory")&&"Requests"!=o.get("page.category.primaryCategory")||"end page"!=o.get("page.category.pageType")||(a={RFA:"event15,event16,event31,event32",RFS:"event15,event16,event71,event72",RFC:"event15,event16,event35,event36",TDA:"event15,event16,event87,event88",RFO:"event15,event16,event63,event64",RFI:"event15,event16,event47,event48,event55,event56",CR:"event15,event16,event99,event100"},s.prop8="form finished",s.events=s.apl(s.events,a[i]),s.linkTrackEvents=s.apl(s.linkTrackEvents,a[i])):(t={RFA:"event3,event4,event29,event30",RFS:"event3,event4,event69,event70",RFC:"event3,event4,event33,event34",TDA:"event3,event4,event85,event86",RFO:"event3,event4,event61,event62",RFI:"event3,event4,event45,event46,event53,event54",CR:"event3,event4,event97,event98"},s.prop8="form started",s.events=s.apl(s.events,t[i]),s.linkTrackEvents=s.apl(s.linkTrackEvents,t[i]))}}try{var o=_satellite.getVar("snapshotDL"),i=o.get("page.category.subCategory01"),c=o.get("page.category.subCategory02"),l=o.get("page.category.subCategory03"),d=o.get("page.pageInfo.pageName"),u=o.get("event.-1.eventInfo.eventName"),m=o.get("event.-1.eventInfo.eventAction"),b=o.get("page.attributes.accessoryID"),p=o.get("product.-1.productInfo.productID"),g=o.get("transaction.transactionID"),f=o.get("page.attributes.accessoryName","generic"),v=o.get("event.-1.attributes.relatedComponent.componentInfo.componentName");if("small_teaser"==v||"multicontent"==v||"new_pre_configuration"==v||"offers"==v||"line_component"==v||"new_gallery"==v||"highlight"==v||"uxs-highlight"==v)return void(s.abort="true");s.events="",_satellite.getVar("setDefaultVariables",t)(s);var h=o.get("product.-1.attributes.mmdr");if("Form validation error"==u||"Error fallback page is shown"==u||"Back"==u||"Error fallback page"==d){if(a(),s.prop56="error",s.prop52=o.get("event.-1.eventInfo.cause"),s.eVar34=-1!=u.indexOf("nsc >")?u:"nsc > "+u,s.prop53="",s.prop8="",s.prop6="",s.prop11="",s.prop10="",s.prop16="",s.events=s.apl(s.events,"event931,event932"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event931,event932"),"datalayer field missing"!=p){(
E=_satellite.getVar("setDefaultProductVariables")).id=p,E.category="vehicle";var P=r();E.merchEvars=P,s.products=E.toString()}"Error fallback page"==d?s.prop56=s.eVar34="":"Back"==u&&(s.prop56="interaction",s.prop53="ux",s.events=s.apl(s.events,"event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918"))}else switch(i){case"CR":case"RFO":case"TDA":case"RFC":a(),"datalayer field missing"!=p&&((E=_satellite.getVar("setDefaultProductVariables")).id=p,E.category="service",(P=r()).eVar84=o.get("product.-1.attributes.fin.downPayment"),P.eVar85=o.get("product.-1.attributes.fin.mileage"),P.eVar86=o.get("product.-1.attributes.fin.monthlyPayment"),P.eVar87=o.get("product.-1.attributes.fin.term"),E.merchEvars=P,s.products=E.toString()),s.prop7="generic",n(d);break;case"RFS":a(),"datalayer field missing"!=p&&((E=_satellite.getVar("setDefaultProductVariables")).id=p,E.category="service",(P=r()).eVar84=o.get("product.-1.attributes.fin.downPayment"),P.eVar85=o.get("product.-1.attributes.fin.mileage"),P.eVar86=o.get("product.-1.attributes.fin.monthlyPayment"),P.eVar87=o.get("product.-1.attributes.fin.term"),E.merchEvars=P,s.products=E.toString()),s.prop7=c+">"+l=="datalayer field missing>datalayer field missing"?"generic":c+">"+l,n(d);break;case"RFA":a(),"datalayer field missing"!=b&&((E=_satellite.getVar("setDefaultProductVariables")).id=b,E.category="accessory",P=r(),E.merchEvars=P,s.products=E.toString()),s.prop7=f,n(d);break;case"RFI":a(),"datalayer field missing"!=p&&((E=_satellite.getVar("setDefaultProductVariables")).id=p,E.category="vehicle",P=r(),E.merchEvars=P,s.products=E.toString()),s.prop7="generic",n(d),"Download your brochure"!=u&&"Download"!=m||(s.prop56="interaction",s.eVar34=-1!=u.indexOf("nsc >")?u:"nsc > "+u,s.prop53="ux",s.prop6="",s.prop11="",s.prop10="",s.prop8="",s.prop16="",s.prop7="",s.events=s.events.replace("event15,event16,event47,event48,event55,event56",""),s.events=s.apl(s.events,"event917,event918,event903,event904"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918,event903,event904"),s.prop74="bmw .next - nsc|DCR - All - AEM - AA - Download")}"cr"!=s.prop4&&"CR"!=s.prop4||(s.prop4="campaign"),"cr"!=s.prop11&&"CR"!=s.prop11||(s.prop11="campaign",s.prop54="campaign");try{var C=document.getElementById("formcontainercr").getAttribute("gcdm-lead-context");if(-1!=C.indexOf("PREDOC-G26-BEVE-E")||-1!=C.indexOf("predoc-g26-beve-e")){s.prop11="roi",s.prop7=C;var j=o.get("product.-1.attributes.motorization",o.get("product.-1.attributes.engine"));if(j){var y=/[0-9]{3}[a-z]{1}/i,R=/xdrive[0-9]{2}[a-z]{1}/i,w=/sdrive[0-9]{2}[a-z]{1}/i,I=j.match(y)||j.match(R)||j.match(w);-1<j.indexOf("i3 (120 ah)")||-1<j.indexOf("i3 (120ah)")||-1<j.indexOf("i3 120ah")?j="i3 (120 ah)":-1<j.indexOf("i3s (120 ah)")||-1<j.indexOf("i3s (120ah)")||-1<j.indexOf("i3s 120ah")?j="i3s (120 ah)":I&&I.length&&(j=I[0].toUpperCase())}(E=_satellite.getVar("setDefaultProductVariables")).id="g26",E.category="vehicle",E.merchEvars.eVar10="G26",E.merchEvars.eVar56="e",E.merchEvars.eVar57="beve",E.merchEvars.eVar44=o.get("product.-1.attributes.productionYear"),E.merchEvars.eVar45=o.get("product.-1.attributes.yearOfRegistration"),E.merchEvars.eVar46=o.get("product.-1.attributes.vehicleStatus",o.get("product.-1.attributes.vehicleSelection")),E.merchEvars.eVar47=o.get("product.-1.productInfo.color",o.get("product.-1.attributes.color")),E.merchEvars.eVar48=o.get("product.-1.attributes.modelCode"),E.merchEvars.eVar49=o.get("product.-1.attributes.gearing"),E.merchEvars.eVar50=o.get("product.-1.attributes.series"),E.merchEvars.eVar51=o.get("product.-1.attributes.bodyType"),E.merchEvars.eVar52=o.get("product.-1.productInfo.productName",o.get("product.-1.attributes.modelName")),E.merchEvars.eVar53="model_navigation_hp"==o.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||-1<o.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")?"new car":o.get("product.-1.category.primaryCategory"),E.merchEvars.eVar54=-1<o.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")||"need analyzer"==o.get("page.pageInfo.pageTitle").toLowerCase()?"build to order":o.get("product.-1.category.subCategory1"),E.merchEvars.eVar55=o.get("product.-1.category.subCategory2"),E.merchEvars.eVar58=j,E.merchEvars.eVar60=o.get("product.-1.productInfo.manufacturer"),E.merchEvars.eVar65=o.get("product.-1.attributes.modelName"),s.products=E.toString(),"form started"==s.prop8?(s.events=s.events.replace("event97,event98",""),s.events=s.apl(s.events,"event73,event74"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event73,event74")):"form finished"==s.prop8&&(s.events=s.events.replace("event99,event100",""),s.events=s.apl(s.events,"event75,event76"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event75,event76"))}}catch(e){_satellite.logger.error("css script error in Central Forms",e)}if(!s.products){var E=_satellite.getVar("setDefaultProductVariables");if(-1<window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html")){var T=_satellite.getVar("setDefaultProductVariables").merchEvars;T.eVar53="new car",E.merchEvars=T}s.products=E.toString()}s.linkTrackVars+="events,prop42,prop52,prop43,prop4,prop74,prop19,prop56,eVar34,prop8,prop53,prop11,prop10,prop16,products,prop17,prop7,prop6,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar41,eVar42,eVar39,eVar40,eVar20,eVar23,eVar24,eVar25,eVar26,prop1,"}catch(e){var _={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Central Forms"};_satellite.logger.error(e,_)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%pa_cat_subCategory01%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL4c4c2bddae714b62a5006391e0f1bb51",name:"TPT - HU - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf96e18d079d0417aa9c23f6c8391d76e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2a4c713732794127ae095fa7e25d8f6c",name:"TPT - CZ - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa7b6ce6d9b394a7ba015fc091d575f9b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC33de527118044abcbcf98f4175ff3550-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLae81044e0d09421ca48dcdb80d8fc00d",name:"TPT - RU - AEM - Campaign String to Cookie - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6a27cd2c3f7d451aa545d193baf757a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL61f2cc16aff84c4db71ee173b60776f6",name:"TPT - AT - AEM - Facebook - Catalog Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",elementProperties:[{name:"href",value:".*\\/brochures\\/.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pricelist-brochure-download.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC813fd9841d6f413587dd6d5f1132e18a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6df60059cf164060b1c9c793cff52fbc",name:"TPT - JP - AEM - Facebook - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC657fa0d2eef24570ad6a823100a4dcdc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc607cca755f843c68325d9db945c3fe4",name:"TPT - SE - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe2b4e0543c1f4895ac108374d0a4a6e7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1c9badaac20442afbbf82300d0a1c558",name:"TPT - MX - AEM - GoogleSearch - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC858057d0e9f04c5993025e0eaa68d555-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLec5d12f289764ba9913ee558e7576979",name:"TPT - NL - AEM - Gtag AW - iFrame - RFS Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb03837d9ac254bb0948f6c9a2f950ef7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLec6b528fc39d493f8d70994ec71531ea",name:"TPT - SE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0075d1ca35404622a82202e4acadf04e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e960c65a38f4737a9945cd8414017f5",name:"TPT - SG - AEM - LinkedIn - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb99b9f3745b843b99d905765ece9040a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL36405456f4344702a5991ed23b05c569",name:"TPT - PL - AEM - Adform - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa21e7a860a4b44438c313c57e5e4660f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL23aa8b39b06248d98e68147bb20c2686",name:"TPT - FI - AEM - Doubleclick - Open Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC83c1e2f542f5423eb2514920c4c897b7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb1b4d8beef0247b8b51055051de5c5d2",name:"TPT - RU - AEM - Avito - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return-1<document.referrer.indexOf("/ru/general/premium-selection/at-a-glance.html")}catch(e){return _satellite.logger.log("TPT RU Avito"+e),!1}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC24b5da5e3806479dae7507a86c6ae973-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf699b21fd3f94fe39912aba774a255c6",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Finance Copy - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_finance_copy"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0f38295eb8ba46669f1a0d93af235de7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9334ebf908e241d5a1fefa2de8b9b45e",name:"TPT - FI - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC954377bc150b43e8a2ddef49b44ae39b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL970b9f446f944bd9ab827c53df4f18b2",name:"TPT - CZ - AEM - Daktela - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9821fe7468f8423199c2c2b70aa2267a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b239e4b05cb4da09766373e461ebbf4",name:"TPT - MY - AEM - Sizmek - History Change - EBR",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2fffd0abfe1144349d9fc98d1ae948da-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc3128f65504a48d781f54c7c43b69b65",name:"TPT - IT - AEM  - Bing - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7213499a0b874b9c9c4520534acdc122-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60c84bd2add249a3a32f0997c012cd90",name:"TPT - CA - AEM - IgnitionOne - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Usabilla_vs_IgnitionOne%",rightOperand:"IgnitionOne"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC12b08231568f4714a01f0f2771d7edb6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9de8146a20374302b9077dfb0ce9865f",name:"TPT - NZ - AEM - Facebook - 2 Series Register Interest - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Register your interest']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7227318616ea4418878579df6a9919c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL21b03bc5e48c4867aa46770dbeb29118",name:"TPT - SG - AEM - Adform - Multiple - Save configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#disclaimer > div.h5vco-clearfix.ng-scope > div > ul > li:nth-child(2)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SG"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/configurator.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC839ad859a5fb495783320c7388972ef6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca9ccedfd5d3481184b207cb9db1dd5c",name:"TPT - CH - AEM - GTagDC - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7bee80945d994d0d91a143266fcaeec7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb128332c816345858076b49cbe755718",name:"TPT - HU - AEM - TradeDesk - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC36cf6f5a979d4de5bca6f2f392d768d1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9f10e8d1a97f47b2839f56aaadbcb843",name:"TPT - MY - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc0c7c636ccaa4b51a13f07f3aadaf652-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8bda1637bdf94cc18d9860e0bdf9388f",name:"PLR - All - AEM - AA - 3rd Party Event Listener",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(a){try{document.addEventListener("tracking: fs offer widget",function(e){e.detail&&(_satellite.setVar("StockLocatorEvent",e.detail),a())}),window.addEventListener("message",function(e){if("undefined"!=typeof e.data&&-1<e.data.toString().indexOf("tracking:recall-search")){var t=JSON.parse(e.data);"tracking:recall-search"==t.methodName&&(_satellite.setVar("StockLocatorEvent",t.detail),a())}})}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.getVar("flatMapping")(a),_satellite.getVar("setDefaultVariables",t)(a);var s=_satellite.getVar("StockLocatorEvent");a.prop44=s.component[0].componentInfo.componentID,a.prop19=s.component[0].componentInfo.componentName,a.prop41=s.component[0].category.componentType,a.prop42=s.component[0].category.primaryCategory,a.prop43=s.component[0].category.subCategory1,a.prop56=s.event[0].eventInfo.eventName,a.prop57=s.event[0].eventInfo.eventAction,a.prop58=s.event[0].eventInfo.eventPoints,a.prop53=s.event[0].eventInfo.type,a.prop12=s.event[0].eventInfo.timeStamp,a.prop52=s.event[0].eventInfo.cause,a.eVar34=s.event[0].eventInfo.effect;var r=_satellite.getVar("setDefaultProductVariables");"undefined"!=typeof s.custom.product&&(r.id=s.custom.product[0].productInfo.productID,r.category=s.custom.product[0].category.productType,r.merchEvars.eVar53=s.custom.product[0].category.primaryCategory,r.merchEvars.eVar54=s.custom.product[0].category.subCategory1,r.merchEvars.eVar52=s.custom.product[0].productInfo.productName,a.products+=","+r.toString()),a.linkTrackVars+="prop41,prop42,prop43,prop19,prop44,prop56,prop57,prop58,prop12,prop52,eVar34,products"}catch(e){var n={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,n)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"3rd party component (3CT)",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLa65f91f839294cbe977fdf65de423a26",name:"TPT - UK - AEM - Content Square - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc1a2b27140b6409db8e23a0e3336fb3e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf1cb0cb92fe94c41b65bc9ebd95ea798",name:"TPT - IT - AEM - GTagDC - Stock Locator Checkout Steps - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.it",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/it_IT/home/shop/dcs/nuovi-veicoli/checkout/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcb5dd5f81ba04c4ebdac0032b6df6b54-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3381f95866cd4e748c620f3188c8f4dc",name:"TPT - JP - AEM - WebChat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8424983180cc479fb62173eada34d5f9-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC51c570cd97934c5e9953b19ac10b145c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL89192a06b54c4bdea0f83dd2855b8eb9",name:"TPT - CH - AEM - DoubleClick - ROI-SubmitForm - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'form[gcdm-lead-context="BMW_digital_ROI"] #brochure-submit[gcdm-form-submit]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfe0a94850a504628bde2bd855e73a509-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa5627adcf6d34a569ae1ee5a02d8bf29",name:"TPT - MX - AEM - GoogleSearch - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa0e63596d5564c0cb117cab8a6221b8d-source.min.js",language:"html",isExternal:!0}}]},{id:"RLb4aa22f0f16447928052ca7f66f823ec",name:"TPT - AU - AEM - GTagDC - BMW Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.com/en-au/offers-and-services/corporate.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2fe60d382cc74b1588620b58ff8fe7ab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0e616f6a8765479c8017d16ec1b1f004",name:" TPT - IE - AEM - Gtag_DC - PHEV Build now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://configure.bmw.ie/en_IE/configure/G20/3SBO",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9405d60a73ad420d8f0d5042c0686418-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d965191e0884f23afdce62b0066e06d",name:"TPT - SG - AEM - Tradedesk - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/online-service-booking.html",valueIsRegex:!0},{value:"/en/ssl/auto-service-booking.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/service-maintenance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/latestpromo.html",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/contact-BIS.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-services.html",valueIsRegex:!0},{value:"/en/ssl/find-a-retailer.html",valueIsRegex:!0},{value:"/en/ssl/contact-pml.html",valueIsRegex:!0},{
value:"/en/topics/offers-and-services/special-offers/ubi-service-centre.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/bmw-care-packages.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC877d49f3932d4855b006815154c5ceb8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf58071a4aa54445f846b65e21fecc26a",name:"TPT - DE - AEM - Facebook - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa05f06c39320480cb19f826313186060-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6e9cb86a6407471580b4403d81593875",name:"TPT - All - AEM - Usabilla CES - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"CES"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4ff6a8f2b4da42ed866698ce049ec382-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b369401cfe946819a068bade9d53934",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Collect - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_collect"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0a3a7aacb7e8400cbededf5f9648105a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLae6dc391509341bfb38e3f29a300ce52",name:"TPT - SI - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC32922c5410ef48638548e9bf49a92ca5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e221909281441f6bde937ea47963d2f",name:"PLR - All - AEM - Custom Code - Page Speed Tracking 3.1 Pollyfill",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC981e03169f5945cda6a211eabfb510bd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe0324e4d8e7f46838eba4beac8737ef0",name:"TPT - IT - AEM - Facebook - Stock Locator Checkout Steps - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfe34d44b139141138e316fe836837983-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2f40d41a8e5a4a518e17832fb05ec992",name:"TPT - IE - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC60963cf50a024a73b0348b37192f2276-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL057f42b7af42441c99c6d12e5095433a",name:"TPT - AU - AEM - Doubleclick - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5b80712aa50c4657af84141e3e8b77d9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL170199b5d4f6476e82fd5710a8f74c9a",name:"TPT - SG - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/online-service-booking.html",valueIsRegex:!0},{value:"/en/ssl/auto-service-booking.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/service-maintenance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/latestpromo.html",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/contact-BIS.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-services.html",valueIsRegex:!0},{value:"/en/ssl/find-a-retailer.html",valueIsRegex:!0},{value:"/en/ssl/contact-pml.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/ubi-service-centre.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/bmw-care-packages.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC95e57cc544ec4d38a0d523ed2841051c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL30f5f2efcecf4bc099bd3589a9a12805",name:"TPT - ES - AEM - Inlab - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0714648c867b4968a317a80054865cdc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3c8969d3499c43afbcefa68aceb220e8",name:"TPT - SI - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCac949debafbf49b2ab224168706db871-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL343b7e3920a94bcd9a72e4a15c8be4a3",name:"TPT - SK - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC341b3b7552d44a02a1416ee68d0d31ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b5eaf57c27d4056b5857b80e5ef3fc8",name:"TPT - RO - AEM - Doubleclick - iFrame RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC52d0bbd263524cc4a99bac6a09c19345-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL806e4fb66e7c4ec9bb15c727125cc9f1",name:"TPT - IE - AEM - Adwords - Enquire Now Submit Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".btn-primary",elementProperties:[{name:"id",value:"bmw_send_form"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IE"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ssl/discover-enquire-now.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcb4b69598e8a4180af02d8f21370acc6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8899662112d145208351e1b523bc5ff5",name:"TPT - CZ - AEM - Sklik - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC21435046181947138ad84c933b1cbcda-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdbeba25cdc0547ca859583e55a307280",name:"PLR - All - AEM - Custom Code - Page Speed Tracking 3.1",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC81031357eae94e22b0787b64823a35d8-source.min.js",language:"html",isExternal:!0}}]},{id:"RL4cd9cdc3b583443b852f06dfa478aef1",name:"TPT - ZA - AEM - GTagDC - Multiple - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8f0def4b82c24cd28c1ed5d82723da5b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b1bd897de094d1993d1dbc14ec91011",name:"TPT - RO - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9abdd58b65fb4e1f922d5b2c11c8d9b4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3e973109ad0f4b05bceaa9cb8936bcd4",name:"TPT - BR - AEM - Facebook - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC69f295cc419d48879516470e0247f6af-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf4d49b278cd6419eb25f1336094f30a0",name:"TPT - SG - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfd9d3bf4d5dc4c12bac8e90ac5652b82-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6163114286c0456fa5600ef2b4c60a31",name:"TPT - DE - AEM - Adwords - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7d84fd6224ea4f9388812620f912a31e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL96ca28134c194f2fa933cf428c1e4208",name:"TPT - IE - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%pa_cat_subCategory01%",rightOperand:"TDA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2ed33164f79542fc92ed9590bf609f63-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48166926fa1b410c9318d2bb923cc3cb",name:"TPT - BR - AEM - Doubleclick - Packages and Services - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Veja mais informa\xe7\xf5es"===this.innerHTML}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCaf4daf4cb5274f588954822e6cb5a047-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf1ef907554d4e4cabd0cc37c30b77c3",name:"TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC20d93dd7f5b84f1db1d15a84a5d75555-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41dc8d02ce05480f805f4e5187484a5f",name:"TPT - ES - AEM - Global chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/prueba",valueIsRegex:!1},{value:"/es/ssl/oferta",valueIsRegex:!1},{value:"/es/coches-bmw/serie-1/5-puertas/2019/F40-KMI.html",valueIsRegex:!1},{value:"/es/coches-bmw/serie-1/5-puertas/2019/RFC.html",valueIsRegex:!1},{value:"/es/informacion/promociones/ofertas",valueIsRegex:!1},{value:"/es/ssl/formulario",valueIsRegex:!1},{value:"/es/topics/mundo-bmw/bmw-empresas/",valueIsRegex:!1},{value:"/es/informacion/financia/financia"},{value:"/es/informacion/financia/faqs"},{value:"/es/informacion/financia/bmwfinancialservices.html"},{value:"/es/informacion/promociones/ofertas/",valueIsRegex:!0},{value:"/es/topics/mundo-bmw/bmw-empresas/",valueIsRegex:!0},{value:"/es/ssl/",valueIsRegex:!0},{value:"/es/informacion/financia/calculadora-financiera.html",valueIsRegex:!0},{value:"/es/coches-bmw/serie-2/gran-coupe/2019/",valueIsRegex:!0},{value:"/es/campanas/",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb4c6f1b5cc8e41c9943771e4e85aac76-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6ff09a59b05241e48623c5b6075b9ac6",name:"TPT - AT - AEM - Doubleclick - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC76713200b329421999e8b75ab4df7e94-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9fa251355e4a4b5e951446279a980334",name:"TPT - HU - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC028f9da7aa764daeaeaa9d04bcfe9cb4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL91f7dcb8f9154032b7616028900f154f",name:"TPT - SG - AEM - Adform - PML Online Shop - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.tw-flex.tw-relative.tab-bar-content > div > div:nth-child(2) > div > div > div:nth-child(5) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7968877759c646cebe8884b1604fd2c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1d51cefaccdb4d9998943699c0d5e709",name:"TPT - DE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf8b1600c6dbe44088fb24bc95d3d24f9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6814de313bbb4cb186dc39e4625a8482",name:"TPT - IE - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/requests/brand-switch-tda/tda-bmw.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC782800d582d64c9796462c6cd8b7b850-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL64336847821d4500b10e295e97dd7f83",name:"TPT - BR - AEM - Inbenta Chatbox - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc47f17c98b1642b5a5a1dc1211524f7b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL119326db71bc441d9a9d368bc70bca7a",name:"TPT - MY - AEM - Amobee - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd225ecb782494a0b8aa9355a3e613d29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3af1b8ac9c84f74b1460a3de6eac953",name:"TPT - DE - AEM - LinkedIn - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5c8787b0ac894df2b2d8c8b2a6a9ceee-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0622a78c78164426973e45a36e000b11",name:"TPT - UK - AEM - Xandr - iFrame DC Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_dc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6d1943c7c3374d0aacb058638fb71e5e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6cc15d114c0f4de995ccad5864519958",name:"TPT - NL - AEM - Dotaki - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.nl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc22cbbf4de6f4d3cba61ef657cbd57cc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7487505bb4d4d8d990028def9df9607",name:"TPT - FR - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa511d8074ae24929b9af095491221136-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0365b1dc8fc44f73851398c681069cd1",name:"TPT - PT - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb08781473e0348b8b9c654c04133684b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6c7eae9344484be698ab3291f7eec309",name:"TPT - IT - AEM - Facebook - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC12b6d3ba15e148dc80c34406cf574058-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL74a6464d93f74bb5808c35b5b21f446d",name:"TPT - NO - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc93947e822d442c5b03f5e99cbb9ad55-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL49f8f7c7312e40f380216a7dd6291012",name:"PLR - FR - AEM - Custom Code - Campaign String to Cookie",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfdc50e5c5df04289a4554b2741612cca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL135c9f55516e4c80b8928f10f5a257c4",name:"TPT - SI - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc13643dff1cf42869f52354f42f7b47a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ddf1787d6c14fcb81c125269da8862b",name:"TPT - JP - AEM - SmartNew - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC21ab0c2463de4d889a955e3167384424-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd0fc5b617a644ab5a614bb5c89644f5d",name:"TPT - DE - AEM - Linkedin - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC68baf1fb5b2043baaf4d15e7668e0d64-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL319cf05d4a0c4346b806ce8e3ab48f99",name:"TPT - DE - AEM - Criteo Pixel - TDA Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbf7cffd746c94f088c107df082d24fba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41df7cdeeb754f97b9cdee5722db115d",name:"PLR - IT - hashedemailid - AAM",events:[{modulePath:"core/src/lib/events/change.js",settings:{elementSelector:"#email",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(""!=_satellite.getVar("AAM-emailid")&&_satellite.getVar("AAM-emailid")!=undefined&&null!=_satellite.getVar("AAM-emailid"))return!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8bd97d51ec9e4c90a91c896093fb986b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL71e7d8e05ebf45569ceda53b2702248b",name:"TPT - NL - AEM - IgnitionOne - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC505b16910d5a4d98b8b6c7e9cd5800ff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLab36f71968984c35ae2a67b36b50ac35",name:"TPT - UK - AEM - GTagDC - Download App Button Click - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"//b.mw/mybmwapp",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/owners/bmw-apps/my-bmw-app-overview.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf2fa1e6907f14326be36b4859172bd06-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaeac7dc8566e475fb998f3364bb942db",name:"TPT - IE - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{
identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC889168a51b124b3c87292154464a4089-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL05987d251424451d874760520e2c66c4",name:"TPT - RU - AEM - Doubleclick - Testdrive form sent - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"form",elementProperties:[{name:"id",value:"test-drive-second-form",valueIsRegex:!1}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9dd926dda1fa4b30b1fcbfda79418c15-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcad1ac4ba6c1450990b11ff24feab2fb",name:"TPT - NL - AEM - GTag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC13bfc810ac0240a4bd5c83ebaac19472-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3ac8eebd98344a27bfdae9f90717b3ce",name:"TPT - TH - AEM - GtagAW - Link to Used Cars - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"usedcar.bmw.co.th",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7200f018e293407b9292d16528905802-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc042368c0a164f889886d4bf8a6709d2",name:"TPT - NO - AEM - Adwords - Accessories - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/no/topics/offers-and-services/bmw-tilbehor.html"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/autumn-winter-accessories.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC496c4ce5cdc049acb886ae9ee431345c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbd660dde1e964082920e3a4f368c6aac",name:"DCR - All - AEM - AA - New All Models",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.getVar("flatMapping")(a),_satellite.getVar("setDefaultVariables",t)(a);var s=_satellite.getVar("snapshotDL");if(a.prop1=a.pageName=s.get("page.pageInfo.pageName"),a.prop1.indexOf("nsc >")<0&&(a.prop1="nsc > "+a.prop1),a.eVar34=s.get("event.-1.eventInfo.effect"),a.eVar34.indexOf("nsc >")<0&&(a.eVar34="nsc > "+a.eVar34),a.products)-1<a.products.indexOf("search")&&(r=_satellite.getVar("setDefaultProductVariables"),a.products+=r.toString());else{var r=_satellite.getVar("setDefaultProductVariables");a.products=r.toString()}a.linkTrackVars+="prop1,eVar34,products"}catch(e){var n={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - New All Models"};_satellite.logger.error(e,n)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all models",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLce0691d80e6040b48dbe7fda6da57abb",name:"TPT - PL - AEM - Facebook - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0c5fde2c3bfe4ad48fce76479a4ffdfe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLad63aec8377c408f9b4fe027d708d1fd",name:"TPT - MX - AEM - Adwords - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC454f06e0935f4332a32dc1e019554c46-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC11c2d494549b4117be0d595d4772decb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc0017f94f1d466799ffb6b8e673af92",name:"TPT - AT - AEM - Facebook - Zum ConnectedDrive Store - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.ds2-accessibility > a[href="https://www.bmw-connecteddrive.at/app/index.html#/portal/store"].button.standard.expand.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb60042d1e1314290a607fd10d5cc0298-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdafe7d15d0964f43850df37ed7edf88f",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_invoice"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6139eb4906874319a63fc3d8a48441f9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2a741e0e83b147a7b505fe02aa061e58",name:"TPT - TH - AEM - GtagAW - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC741b6a153efd44bf9bc53b531e5f0a9e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5348b163bc004f5693023f210e0fe462",name:"TPT - BG - AEM - Doubleclick - Configurator Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(t==undefined||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(a){_satellite.logger.log("TPT - BG - DBM Tag Configurator Steps err \n",a)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd627c599831542749b394ffd885ae057-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL76720053673e4087b8171e59427844d3",name:"TPT - AU - AEM - GTagDC - Motorrad Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw-motorrad.com.au/en/offers/bmw-motorrad-corporate.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc91a5295eb0743aeb6c0ad993ea36bca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL212be179ab394d91b1169fed635c0517",name:"TPT - IE - AEM - Gtag_DC - PHEV View Offer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/bmwoffers/bmw-3-phev/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1b95e9eb22af4266b75c8e73606fc650-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60403172d21b41dd9f21b751c0cfb52b",name:"TPT - JP - AEM - Twitter - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0f12896890174c9ba3d0979f5dbc201a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4308b43f799045bf85f2ca8287195609",name:"TPT - ZA - AEM - LinkedIn - All Pages - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC733171eeac5842f3bf97322191289eab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9059f94695b1454a8040a39d729dfed6",name:"TPT - SG - AEM - Adform - E- Offers and services - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.ds2-detail--interactive.large-6 > div > ul > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger-third-party",function(e){e.detail&&t()})}catch(e){_satellite.logger.error("TPT: Finance Offer ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SG"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/original-bmw-accessories/ace2.0.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9ff2a8789d414083930d655b92e05b62-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3570051983d74c3fb3434797e1c487fa",name:"DCR - ALL - NSC - AA - Need Analyzer Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"need_analyzer_step"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"need_analyzer_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.logger.log("Rule: ",t.$rule.name," fired identifier ",t.identifier);var s,r,n,o,c,l=_satellite.getVar("snapshotDL"),d=l.get("event.-1.eventInfo.eventName"),u=(l.get("event.-1.eventInfo.effect"),l.get("event.-1.eventInfo.eventAction")),m=(l.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),""),b="nsc > ";a.linkTrackVars="events,",a.linkTrackEvents="",a.events="",_satellite.getVar("setDefaultVariables",t)(a),_satellite.getVar("setProductString")(a);var p=l.get("event.-1.attributes.relatedComponentID");if(1<l.get("event").length)for(i=0;i<l.get("component").length;i++){var g=i.toString();(l.get("component."+g+".componentInfo.componentID")==p||"datalayer field missing"==p&&"need_analyzer"==l.get("component."+g+".componentInfo.componentName"))&&(r=l.get("component."+g+".componentInfo.componentName",l.get("event.-1.attributes.relatedComponentName",l.get("product.-1.attributes.relatedComponentName"))),s=l.get("component."+g+".componentInfo.componentID",l.get("component."+g+".componentInfo.componentId")),n=l.get("component."+g+".category.subCategory01"),l.get("component."+g+".category.componentType",l.get("component."+g+".componentInfo.componentType")),o=l.get("component."+g+".category.primaryCategory"),c=l.get("component."+g+".componentInfo.componentHeadline"))}else{var f=l.get("page.attributes.relatedComponentID");for(i=0;i<l.get("component").length;i++)g=i.toString(),(l.get("component."+g+".componentInfo.componentID")==f||"datalayer field missing"==f&&"need_analyzer"==l.get("component."+g+".componentInfo.componentName"))&&(r=l.get("component."+g+".componentInfo.componentName",l.get("event.-1.attributes.relatedComponentName",l.get("product.-1.attributes.relatedComponentName"))),s=l.get("component."+g+".componentInfo.componentID",l.get("component."+g+".componentInfo.componentId")),n=l.get("component."+g+".category.subCategory01"),l.get("component."+g+".category.componentType",l.get("component."+g+".componentInfo.componentType")),o=l.get("component."+g+".category.primaryCategory"),c=l.get("component."+g+".componentInfo.componentHeadline"))}a.eVar34=d&&"object"!=typeof d?d:"datalayer field missing",a.eVar34.indexOf(b)<0&&(a.eVar34=b+a.eVar34),"error"==u.toLowerCase()?(a.prop56="error",a.prop53=d,a.eVar34=l.get("event.-1.category.primaryCategory"),a.prop52=l.get("event.-1.eventInfo.cause")):"datalayer field missing"!=u.toLowerCase()&&"datalayer field empty"!=u.toLowerCase()&&(a.prop56="interaction",a.prop53="ux",a.eVar34=a.eVar34+" clicked",a.prop52="default"),"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()?(a.prop55=c||"datalayer field empty",a.prop51=l.get("event.-1.eventInfo.cause")):("error"!=d.toLowerCase()&&(a.prop55=d),-1<["share","error"].indexOf(u.toLowerCase())&&"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()&&(a.prop51=l.get("event.-1.eventInfo.effect"))),-1<["call to action","more information"].indexOf(u.toLowerCase())?a.prop57="internal click":a.prop57=u,a.eVar71=l.get("event.-1.eventInfo.target"),a.eVar151=l.get("page.attributes.pageHeadline"),a.eVar152=l.get("page.attributes.currentQuestion"),a.eVar153=l.get("page.attributes.previousQuestion"),a.eVar154=l.get("page.attributes.previousAnswer"),a.eVar155=l.get("page.attributes.previousWildcards"),a.eVar156=l.get("page.attributes.entryType"),a.eVar157=l.get("page.attributes.matchType"),a.prop19=a.prop3=a.prop54=r||"datalayer field empty",a.prop42="nsc website","internal click"==u.toLowerCase()?a.prop43=o||"datalayer field empty":"need_analyzer_step"==t.identifier?a.prop43=n||"datalayer field empty":a.prop43="teaser",a.prop13="bmw",a.prop1=l.get("page.pageInfo.pageName"),a.prop1.indexOf(b)<0&&(a.prop1=b+a.prop1),a.prop4=l.get("page.category.subCategory01",l.get("event.-1.attributes.relatedPageCategory.primaryCategory")),a.prop44=s||"datalayer field empty",a.eVar134="web",a.prop27=l.get("page.pageInfo.pageID"),a.prop5=l.get("page.category.subCategory02",l.get("event.-1.attributes.relatedPageCategory.primaryPurpose")),a.prop2=l.get("page.category.pageType",l.get("event.-1.attributes.relatedPageCategory.pageType")),a.prop28=l.get("page.attributes.virtualPage"),"virtual"==a.prop28&&(a.prop28="virtual page"),a.eVar135=l.get("page.pageInfo.devEnv"),l.get("event.-1.eventInfo.eventPoints")&&parseInt(l.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(l.get("event.-1.eventInfo.eventPoints")))?(6e4<parseInt(l.get("event.-1.eventInfo.eventPoints"))?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(l.get("event.-1.eventInfo.eventPoints"))<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+l.get("event.-1.eventInfo.eventPoints"),",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=l.get("event.-1.eventInfo.eventPoints"),a.prop12=l.get("event.-1.eventInfo.timeStamp",l.get("event.-1.eventInfo.timestamp")),a.prop50=l.get("event.-1.eventInfo.element"),a.eVar65=l.get("product.-1.attributes.modelName"),a.eVar17=l.get("user.-1.profileInfo.visitorID"),a.eVar136="2020 - 06- 15 need analyzer",a.linkTrackVars+="prop56,prop53,prop52,prop55,prop51,prop57,eVar71,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136",m="event917,event918";var v=l.get("page.pageInfo.pageName"),h=l.get("page.pageInfo.pageTitle");"Need Analyzer: Start Page"==v||h+": "+v=="Need Analyzer: Start Page"?(m+=",event321,event322",a.linkTrackVars+="eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"):"Need Analyzer: My Perfect Match"!=v&&h+": "+v!="Need Analyzer: My Perfect Match"||(m+=",event323",a.linkTrackVars+="eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"),"start again"==d.toLowerCase()&&"start again"==u.toLowerCase()&&(m+=",event321,event322"),"share"==u.toLowerCase()&&(m+=",event905,event906"),"error"==u.toLowerCase()&&(m="event931,event932"),"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()&&(a.eVar34.indexOf("nsc >")<0&&(a.eVar34="nsc > "+a.eVar34),a.linkTrackVars+=",eVar34"),a.events=a.apl(a.events,m),a.linkTrackEvents=a.apl(a.linkTrackEvents,m),_satellite.getVar("smartPreviousValueManager").update("pageName",a.prop1)}catch(e){var P={from:"AA",type:"DCR",name:t.$rule.name};_satellite.logger.error(e,P)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL3f30382e8d1a4e65905a6e6a5c848422",name:"DCR - All - AEM - AA - Electric Range",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"electric_range_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"electric-range"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.eventInfo.effect"),o=s.get("event.-1.attributes.relatedPageName",s.get("page.pageInfo.pageName")),i=(s.get("event.-1.category.subCategory01"),s.get("product.-1.attributes.fuelType")),c=_satellite.getVar("AA-componentDefaultValues"),l=_satellite.getVar("smartPreviousValueManager");if(-1!=i.indexOf("|")&&(i=i.replace(/\|/g,"~")),_satellite.getVar("flatMapping")(a),_satellite.getVar("setDefaultVariables",t)(a),a.prop1=-1==o.indexOf("nsc >")?"nsc > "+o:o,a.prop41=s.get("component.-1.category.componentType"),a.prop45=s.get("component.-1.category.componentVersion"),a.prop56=r,a.prop57=s.get("event.-1.eventInfo.eventAction"),a.prop12=s.get("event.-1.eventInfo.timeStamp"),a.prop13="bmw",a.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),a.eVar34=-1==n.indexOf("nsc >")?"nsc > "+n:n,a.prop52=s.get("event.-1.eventInfo.cause"),a.prop54=s.get("event.-1.category.primaryCategory"),a.prop55=s.get("event.-1.category.subCategory01",s.get("event.-1.category.subCategory1")),a.eVar71=s.get("event.-1.attributes.requestedURL"),a.prop42=c.primaryCat||"datalayer field empty",a.prop43=c.subCat||"datalayer field empty",a.prop44=s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID",s.get("event.-1.attributes.relatedComponent.componentInfo.componentID")),a.prop27=s.get("event.-1.attributes.linkedPage.pageInfo.pageID"),a.prop53=s.get("event.-1.eventInfo.type"),a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.prop59=s.get("product.-1.attributes.configID"),a.eVar59=s.get("product.-1.attributes.configLink"),"interaction"==r?(a.events=a.apl(a.events,"event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918")):"error"==r&&(a.events=a.apl(a.events,"event931,event932"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event931,event932")),a.products)-1<a.products.indexOf("search")&&(d=_satellite.getVar("setDefaultProductVariables"),a.products+=d.toString());else{var d=_satellite.getVar("setDefaultProductVariables");a.products=d.toString()}"tr > errors"!=a.prop56&&"error"!=a.prop56&&"error"!=a.prop53||(a.events=a.apl(a.events,"event931,event932"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event931,event932")),a.linkTrackVars+="prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19",l.update("pageName",a.prop1)}catch(e){var u={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Electric Range"};_satellite.logger.error(e,u)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"electric range",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL3b37278741d847668d129163bc8f959f",name:"TPT - NL - AEM - GtagAW - Service Inclusive Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8b64f417fc6e4271ae33e3d2d92c7e03-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc5decb3d19d04b6bb8df72c45788850e",name:"TPT - NZ - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC93b0f931bb784339830e627904431903-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL655fcb2093db4fc18b222c885d7a80e0",name:"TPT - DE - AEM - Facebook - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC09ae4c56a0c84290a9de77be5310b633-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL088f3c5de793450a8562a23df695f391",name:"TPT - DE - AEM - Facebook - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfe336081607b4d178a1ea0fcc1b75948-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL30338932b4b44d37bb635f712b032991",name:"TPT - AU - AEM - Facebook - Finance Offer - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC93ff9194fe404e4aaab2d0693327e234-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc1feca601f747ff9c17c4d6dbcf892c",name:"TPT - DE - AEM - Facebook - Dealer Call Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".phone>.tw-font-bmw-light.tw-text-grey-900",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/neuwagensuche.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5b784c0d4f2343778064c71ef8db101e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL20bba61da86d4ba880d4a23b679fef3f",name:"TPT - TH - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC23287a3f2754445da32a626978a5f3db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL61beffc29dd54f59882c46d8dd0a0be2",name:"TPT - NL - AEM - Bing - iFrame Forms FS RFO - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0af9e54faa594420b4833f96d154edc1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5701419677674b12a874e58d0ee99e77",name:"TPT - SE - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa48bdd14b5034064af5d3d789c00cda8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa7ba84b64be0493380d9ab8f9005ad85",name:"TPT - UK - AEM - Xandr - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1bacb7200cd344a793bf4fd26518494a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b94f9f166ac40e39a8680d06f2440af",name:"TPT - DE - AEM - Criteo Pixel - Adobe Form - DCR - p15r[c] copy",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb448ae503bec4af29b8b8b57b7c85d69-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b41854f5e7a45a0943209a70f28ca2d",name:"TPT - CH - AEM - GtagDC - OnlineBeratungFormularStart - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-main-wrapper.ds2-page--row-expanded > div:nth-child(8) > div:nth-child(2) > div",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC35769ffa7e3b4e6eb27d26699c245448-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL92dec669917a41069bfc1a35dd6906c8",name:"TPT - IE - AEM - Adwords - Build and Price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Build and Price"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCbcafe127fe9b4158a4c94196b18fbf4f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc349dcbd32544649e369069885c84c9",name:"TPT - JP - AEM - EBiS - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa74e99ccc4ec44fab74e5a5f7bc0b91b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8fca03a8a6f246988068d325a9594b2e",name:"TPT - All - AEM - Usabilla NPS 3.0 version - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NPS"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",a=_satellite.getVar("topLevelDomain").split("."),s=a[a.length-1].toUpperCase();if("UK"==s&&(s="GB"),"COM"==s&&-1<window.location.href.indexOf("bmw.com/en-au/")&&(s="AU"),-1==["DE","GB","JP","IT","FR","ES","RU","KR","AU","NL","AT","CN","ZA"].indexOf(s))return _satellite.logger.log("Returning false as it is not a NPS 3.0 market"),!1;var r={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:5,Psyma:25,Other:58}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:25,CES:10,Psyma:20,Other:45}},JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:13,CES:5,Psyma:0,Other:82}},IT:{buttonCode:{DESKTOP:"88ab5d53da60",MOBILE:"8e1a4fcc286b"},NPS:{DESKTOP:"c4a8ccbec600",MOBILE:"73fa346d403b"},CES:{DESKTOP:"0aae4c00330a",MOBILE:"ace839b972fd"},random:{NPS:10,CES:10,Psyma:20,Other:60}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:10,CES:5,Psyma:0,Other:85}},ES:{buttonCode:{DESKTOP:"8445c5a2cf12",MOBILE:"3008841f7269"},NPS:{DESKTOP:"7e88e6163a4c",MOBILE:"cd793f80bda6"},CES:{DESKTOP:"879b46cf88f5",MOBILE:"4ac2bb513106"},random:{NPS:13,CES:5,Psyma:0,Other:82}},RU:{buttonCode:{DESKTOP:"92772dbeabd8",MOBILE:"dbbd8c96c68a"},NPS:{DESKTOP:"3cda55b4e6d0",MOBILE:"a0870a2972f6"},CES:{DESKTOP:"1db9cb311c93",MOBILE:"a003194dfdc8"},random:{NPS:15,CES:10,Psyma:0,Other:75}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:10,Psyma:0,Other:65}},AU:{buttonCode:{DESKTOP:"c8476b2d62dd",MOBILE:"d4b7a77bec58"},NPS:{DESKTOP:"e77a23160463",MOBILE:"882cd879928f"},CES:{DESKTOP:"343b84a4e928",MOBILE:"fd25e25af4f3"},random:{NPS:20,CES:10,Psyma:0,Other:70}},NL:{buttonCode:{DESKTOP:"44b55d42df13",MOBILE:"08982312381f"},NPS:{DESKTOP:"2979a4502fba",MOBILE:"363c153bc496"},CES:{DESKTOP:"d29bcee79e5e",MOBILE:"fa3ac53564d7"},random:{NPS:25,CES:10,Psyma:0,Other:65}},AT:{buttonCode:{DESKTOP:"fd1b75fa05a4",MOBILE:"3d1326b2e2da"},NPS:{DESKTOP:"63dc33967e95",MOBILE:"d9969ae1bed5"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:30,CES:0,Psyma:0,Other:70}},CN:{buttonCode:{DESKTOP:"cd813f067481",MOBILE:"19b6fbe6d646"},NPS:{DESKTOP:"ac90b5319d03",MOBILE:"28642a3ff0e4"},CES:{DESKTOP:"71255a3f180f",MOBILE:"b67d3528c7ad"},random:{NPS:85,CES:15,Psyma:0,Other:0}},ZA:{buttonCode:{DESKTOP:"e76b03c4d193",MOBILE:"25da3549cea1"},NPS:{DESKTOP:"82d8573d931c",MOBILE:"e9ae4da2cac2"},CES:{DESKTOP:"c68833e0a2d2",MOBILE:"7c9b7e333fe0"},random:{NPS:50,CES:10,Psyma:0,Other:40}},CA:{buttonCode:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},NPS:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},MX:{buttonCode:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},NPS:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},TR:{buttonCode:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},NPS:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},PL:{buttonCode:{DESKTOP:"d3bfaa402165",MOBILE:"bf451d583c95"},NPS:{DESKTOP:"",MOBILE:""},CES:{DESKTOP:"",MOBILE:""},random:{NPS:0,CES:0,Psyma:0,Other:100}}};return"NPS"==_satellite.getVar("usabilla_randomizer")&&(null!=localStorage.getItem("usbl."+r[s].buttonCode[t]+".c."+r[s].NPS[t])?(npsValue=localStorage.getItem("usbl."+r[s].buttonCode[t]+".c."+r[s].NPS[t]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,noNPS)}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc2e493314bd34efaada3d758f4289627-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL20d6de940ea8400285a2bcd1e8779724",name:"TPT - AT - AEM - Doubleclick - iFrame TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8d48332d7d0c49ee9cfd02783069dc5b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5251db4276fa496293880fe67146e397",name:"TPT - TH - AEM - GtagAW - TDA Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4f4472c21c9a446a823fb875642e8008-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL035ffcceed644199ba8149582e65f574",name:"TPT - IE - AEM - Gtag_DC - PHEV Get a Quote Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8d3a0af97ef14358978baf4a111a91bf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8d91cc176c5c4b10b2d0657004a3352c",name:"TPT - CA - AEM - Doubleclick - Lifestyle Find a Retailer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".tw-no-underline tw-m-0 tw-text-grey-900 tw-px-200 tw-text-400 tw-whitespace-no-wrap",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){return"Find a Retailer"===this.innerHTML}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bmw-lifestyle.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCcd3154b8870444e39241380e11a7f66e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa3921318e6ec4cf08369ca966e4ddb82",name:"TPT - DK - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC90c6284c24424442b8fc04875cd2bd27-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa3294c56eb4a4a60a840e111e2b18585",name:"TPT - IE - AEM - Gtag_DC - 5 Series Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/brochure-download.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC5c227891c961434f91026589047dec10-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL678cd3d9964243148cb2da221ea062d2",name:"TPT - FI - AEM - Doubleclick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2aebda941ba84599a31e6e49318350b8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL606e6adc00aa49e39544a8eb80a0862e",name:"TPT - NO - AEM - Doubleclick - Histrory Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC4e030a61ad6d46a2b83d8d7297882755-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c8c35505b3549f6834adf16d970446d",name:"TPT - AT - AEM - Adwords - Submit Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC54ce05683a284536bf9be40d489f246f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4544ff0aae834bc4b034cef7595e8de5",name:"TPT - NO - AEM - Adwords - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.no/no/ssl/finn-bmw-forhandler.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/autumn-winter-accessories.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa1d40b7ddb0f4da887429843e9f6f6fd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL24f9b2ddbba24ff6b162bfe03ee1d213",name:"TPT - JP - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC17fd1c0908a84ca1b6ad538f0e6735cb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6b3fd07b93794949b22d30f8596523d9",name:"TPT - TH - AEM - GtagAW - Download Brochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc4b8c14f7e54424c9f74d7455c34614e-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL24ddf5a55a2c43d5b50ecfca18745166",name:"TPT - NO - AEM - Adform - DLO State Standalone - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7cca20f7a7c94790866f0eb6b6ffdae2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b7dca3e3dcb43818364e3398729dad9",name:"TPT - TH - AEM - GtagAW - Link to Shop - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"href",value:"shop.bmw.co.th",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd3ec4239a9ac4c57a35975ee9369f4cb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL38a125735659417f9469b60236019bda",name:"TPT - GR - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3158e3bfb2394d9490f76c869fd7eb84-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9ce8bf3607ee4cc4a9c80931cdac7ee0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9414b9f79112475c8298ecfceae74359",name:"TPT - IE - AEM - Gtag_DC - PHEV Book Virtual Appointment Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/book-a-video-consultation.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC884c2d29bcd3485db202ad8b74622770-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL18bc9d4a3cc843a5b834d3615b33b23e",name:"TPT - PL - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6fa0ea9308224a3abd3d5b0eec279f96-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3737369a19554cd3b3f53787f6f476d0",name:"TPT - NL - AEM - GtagAW - Service Inclusive Form Completed - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2a604ec36c084a8e8dd2884a71707eb1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc7ebe7a07d640a7a2970527387c506f",name:"TPT - HU - AEM - Facebook - forms_simulated_page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0b3b2a184b81478f8d9515851f7f7936-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe5cf668b1f324b1797fba4a750e238eb",name:"TPT - IE - AEM - Gtag_DC - 5 Series Dealer Locator Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfa03df8746604ec7bba9486e92812371-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb51bc1f786e4d879a5aad4f3327871a",name:"TPT - PL - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC391786b19fc442afa574c6f90bb14cd7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9580193f33984394875746980c30bf17",name:"TPT - ZA - AEM - virtualPageOpenForThirdPartyRules - iFrame Forms TDA - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd7ef1132fee34d5fbb8968e9094c50a9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL46865514419841fdac330a55fe42916b",name:"TPT - AU - AEM - DoubleClick - Build and Price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Build and Price"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6ea85993a9d044e1baf58b003ca625c5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL40a85c2a60e848da9816ff9f2934fc01",name:"TPT - IE - AEM - TradeDesk - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"testdrive.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9683477b27c346e6a62c2e5cefe104d4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL72b0361c3e08449383efcec79fe14261",name:"TPT - TH - AEM - GtagAW - Price List Visit - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/th/topics/price-list.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCe426b3f5152f4b23805216517e98a09d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7aa759b17a6545fa8783352b743f6def",name:"DCR - All - AEM - AA - My CE",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"my_ce_interaction"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"my_ce_error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=_satellite.getVar("smartPreviousValueManager"),n=s.get("page.pageInfo.pageName");_satellite.getVar("setDefaultVariables",t)(a);var o=_satellite.getVar("setDefaultProductVariables");o.category="vehicle",o.merchEvars.eVar53="new car",o.merchEvars.eVar54="build to order",a.products=o.toString(),a.prop59=s.get("product.-1.attributes.configID"),a.eVar59=s.get("product.-1.attributes.configLink"),a.eVar135=s.get("page.pageInfo.devEnv"),a.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,r.update("pageName",a.prop1);var i=_satellite.getVar("AA-componentDefaultValues");a.prop2=s.get("page.category.pageType"),a.prop3=s.get("page.category.primaryCategory"),a.prop5=s.get("page.category.subCategory02"),a.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),a.prop42=i.primaryCat||"datalayer field empty",a.prop43=i.subCat||"datalayer field empty",a.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID");var c=s.get("event.-1.eventInfo.eventName"),l=s.get("event.-1.eventInfo.effect"),d=s.get("event.-1.eventInfo.cause"),u=s.get("event.-1.eventInfo.eventAction");a.eVar18="",a.prop12=s.get("event.-1.eventInfo.timeStamp"),a.prop13="bmw",a.prop50=s.get("event.-1.eventInfo.element"),a.prop54=s.get("event.-1.category.primaryCategory"),a.prop57=u.replace("phone","p h o n e"),a.prop58=s.get("event.-1.eventInfo.eventPoints"),a.eVar17=s.get("user.-1.profileInfo.visitorID"),a.eVar71=s.get("event.-1.attributes.requestedURL"),a.eVar136="2020 - 06- 15 MyCE","MyCE Error"==c?(a.eVar34="nsc > "+l.replace("phone","p h o n e"),a.prop51=c.replace("phone","p h o n e"),a.prop52="datalayer field missing",a.prop53="backend 3rd party",a.prop55=d.replace("phone","p h o n e"),a.prop56="error",a.events=a.apl(a.events,"event931,event932"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event931,event932")):(c=-1<c.indexOf("click")?c:c+" clicked",a.eVar34="nsc > "+c.replace("phone","p h o n e"),a.prop51=l.replace("phone","p h o n e"),a.prop52="default",a.prop53="ux",a.prop55=d.replace("phone","p h o n e"),a.prop56="interaction",a.events=a.apl(a.events,"event917,event918"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event917,event918")),a.linkTrackVars=a.apl(a.linkTrackVars,"products,eVar17,eVar34,eVar59,eVar71,eVar136,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59")}catch(b){var m={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,m)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%ev_eve_eventName%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLbae12974973549e7845daa81802ecda4",name:"TPT - DK - AEM - Doubleclick - Find BMW Accessories - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://bmwtilbehorsportal.bmw.dk/s/r?id=151"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"bmw-efterar-vinter-tilbehor.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC469b64614d6848e0aba8647b32339f2a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdda90dbb511c4da4a5dd75116c5813e2",name:"TPT - NL - AEM - GtagDC - Service Inclusive Form Completed - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCaa5b5920069040bc8deefdae1e9c6fb7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL704cc7c4be294b65a3b1196102633f69",name:"TPT - NL - AEM - IgnitionOne - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC48db3ac78c104bcea3e43f83a2ab99b1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL504417e5760d4b93a431de2c6c3957f4",name:"TPT - AU - AEM - Verizon - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC31111e10a756455b9f1a820815d2c4f6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd42765f7d10e4c969f5ad9924ac76a51",name:"TPT - UK - AEM - Adwords - Form Submit - PLR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0e0dbf325f4345b6a9654ab191b149c4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL51af6780835e42889ada95d841d873b8",name:"TPT - IT - AEM - Facebook - Stock Locator Multiple Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],
actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2ec4c092fed74ee6835ffe662e718fb6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1bd37e15617441beba0a4a9780c7d277",name:"TPT - DE - AEM - Adwords - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3844ffa5971142269ad5428902ca493b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL37fde9c6a00d4ddaa3b072d160688ffd",name:"TPT - IN - AEM - Lotame - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa09d65aa7ae849939453489769e9ed7d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCdf851d4fd6dc4ea4b0f05c50d61e3413-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL72ed3394e53f4ff29f5c5465784fbcf2",name:"TPT - TH - AEM - GtagAW - Multiple - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf1d48a0dd25b4d94a8553928f8bc4865-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLc2544936577e4c138dde4bbc662c4d8f",name:"TPT - CH - AEM - Adwords - SaveConfig - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[data-bm-safe-click="saveVehicleToGarage()"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/configurator"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd609ad0a45b448e0b0c4c9580a233be5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9bcebaa6496a4cd0a70877887cc1f91c",name:"DCR - All - AEM - AA - Compare",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"compare_technical_data_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.getVar("flatMapping")(a),_satellite.getVar("setDefaultVariables",t)(a);var s,r,n,o,c,l=_satellite.getVar("snapshotDL"),d=l.get("event.-1.attributes.linkedComponent.componentInfo");for(i=0;i<l.get("component").length;i++){var u=i.toString();l.get("component."+u+".componentInfo.componentID")==d&&(_satellite.logger.log("related component - "+u),r=l.get("component."+u+".componentInfo.componentName",l.get("event.-1.attributes.relatedComponentName",l.get("product.-1.attributes.relatedComponentName"))),s=l.get("component."+u+".componentInfo.componentID",l.get("component."+u+".componentInfo.componentId")),n=l.get("component."+u+".category.primaryCategory"),o=l.get("component."+u+".category.subCategory01"),c=l.get("component."+u+".category.componentType",l.get("component."+u+".componentInfo.componentType")))}a.prop55=l.get("event.-1.attributes.errorCode"),a.eVar151=l.get("event.-1.attributes.totalVehicleCount"),a.eVar34=l.get("event.-1.eventInfo.effect"),a.eVar34.indexOf("nsc >")<0&&(a.eVar34="nsc > "+a.eVar34),a.prop41=c,a.prop42=n,a.prop43=o,a.prop44=s,a.prop19=r,a.prop1=l.get("page.pageInfo.pageName"),a.prop1.indexOf("nsc >")<0&&(a.prop1="nsc > "+a.prop1),a.pageName=a.prop1,a.linkTrackVars+="prop1,pageName,prop19,prop41,prop42,prop43,prop44,prop55,eVar34,eVar151"}catch(e){var m={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - Compare"};_satellite.logger.error(e,m)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"compare",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLbb8c8251ad2147dabdcb8ca66e4ed369",name:"TPT - DE - AEM - Adobe Campaign Pixel - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCff3029fb37e04fee9570902b69586595-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2f531f374dc649339f7265b7d5447baa",name:"TPT - RU - AEM - Rambler - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6f46064336d64e7ab7f9b0f3c58b5f20-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL05f0e11859f543029760a4eacfafb673",name:"TPT - RU - AEM - RuTarget - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC0f1099d9d4004965a3c31d78b5b25d78-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb4b4bc6dc2954a1d9bd1a97b8546992e",name:"TPT - IE - AEM - Adwords - View Offer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href^="https://discover.bmw.ie/bmwoffers/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb4dde701ea254bb58c2cb3fbebd397f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2f2dbee2f2e246ef8cbbe21fed42fcac",name:"TPT - IE - AEM - Gtag_DC - 1 Series Book a Video Consultation - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/book-a-video-consultation.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/1-series/5-door/2019/bmw-1-series-inspire.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC561215306d00439aa5fdfd674afa0ada-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL715f83938376438280d456166931f707",name:"TPT - DE - AEM - GTagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd014b8713b4a44e3b215daa43aed2c23-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL935eaf4917db4f6ea50f982d9a1d9ca8",name:"TPT - HU - AEM - TradeDesk - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC1c534fc15aef4f9db8946899e0d6a6dd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc3a6152adf16423198fc8f378846a7cb",name:"TPT - RO - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCc76ee1692a504266acbcb72800b9801b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL366b772fc5ec42d291dba197b4534b83",name:" TPT - IE - AEM - Gtag_DC - PHEV Build and Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.ie/en/configurator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC095d1ba3622349058ac89b8d78950975-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe93d1a91372a4283b4a8f5c19636fd03",name:"TPT - NL - AEM - Bing - iFrame NSF Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfad2097fbd68488ba13e3ef27c5f6401-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5f63a1f5842549718f68e213cb0829e9",name:"TPT - PL - AEM - LiveChat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC098b86e7defa47ec9f3c31a8def2ded7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL483a0b0b1f5e4d8799ec3f0489674844",name:"TPT - DE - AEM - Psyma User Survey - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m156.bmw-int1.com"},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int\\d+.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC59bf06fe695844c78750a056805ab50c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a9ceecbf52b4a80944872ca50d0abba",name:"TPT - TH - AEM - GtagAW - RFO Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7a6c4938e3c34dd4991888d4e0329f6d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL7460ea955fe34c798dc5d1803e246e6b",name:"TPT - NZ - AEM - Facebook - CON Test Drive - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".h5vco-model-serie-range.h5vco-animate-range.ng-scope.normal",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"input",elementProperties:[{name:"name",value:"c-submit",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC02556eda80a042b98c236d4c710fa487-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3956ab9e0ba34fd5b3b32e716b63129b",name:"TPT - KR - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.kr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC58c200eb447a4b2ea1fec7b995acf0e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLacead1d2f5ec4ffba4a8511220b60f47",name:"TPT - CZ - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCce729010e05d471c937a3d763b387650-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48c2166ea5d6461da4a150cff28caeb9",name:"TPT - RU - AEM - Submit Button Pixel - iFrame TDA Forms - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC7fa38b82807947fcb83bd04fa46b5ad3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL97a1434179fe4e68be85d4981eec6780",name:"TPT - AU - AEM - Floodlight - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCa425ca9615a94de6ac15dafc42088b78-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaebb25bf2d2342ee86e2d73be95ea638",name:"TPT - IT - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC733576504a0a40e98f7a315d0fb472c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL14cff9a0f1fe4b1595ec2c1280a183de",name:"TPT - IE - AEM - Gtag_DC - PHEV Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/requests/brand-switch-tda/tda-bmw.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC45999e9491e145339a68146f15089f08-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbad68833b44f41f79d5fc4637a7231f0",name:"EBR - CA - iFrame - AA - ACS Click Tracking",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(s){try{window.addEventListener("message",function(t){if(-1!=["https://sf-acs.bmw.ca","https://sf-acs-i.bmw.ca"].indexOf(t.origin))if(t.data)try{_satellite.logger.log(JSON.parse(t.data));var a=JSON.parse(t.data);a.detail&&a.detail.custom&&Object.keys(a.detail.custom)&&Object.keys(a.detail.custom).length&&(_satellite.setVar("acs_event_data",a),s())}catch(e){_satellite.logger.error("EBR: ACS Component click tracking",e)}else _satellite.logger.log("no data in event object",t)})}catch(e){_satellite.logger.error("EBR: ACS Component click tracking",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.ca"}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.getVar("setDefaultVariables",t)(a);var s=_satellite.getVar("acs_event_data").detail,r=s.event.length?s.event[s.event.length-1].eventInfo.eventAction:"datalayer field empty",n=s.event.length?s.event[s.event.length-1].eventInfo.eventName:"datalayer field empty",o=s.event.length?s.event[s.event.length-1].eventInfo.type:"datalayer field empty",i=s.event.length?s.event[s.event.length-1].eventInfo.timeStamp:"datalayer field empty",c=s.event.length?s.event[s.event.length-1].eventInfo.cause:"datalayer field empty",l=s.event.length?s.event[s.event.length-1].eventInfo.effect:"datalayer field empty",d=s.event.length?s.event[s.event.length-1].eventInfo.eventPoints:"datalayer field empty",u=s.component.length?s.component[s.component.length-1].componentInfo.componentID:"datalayer field empty",m=s.component.length?s.component[s.component.length-1].componentInfo.componentName:"datalayer field empty",b=s.component.length?s.component[s.component.length-1].category.componentType:"datalayer field empty",p=s.component.length?s.component[s.component.length-1].category.primaryCategory:"datalayer field empty",g=s.component.length?s.component[s.component.length-1].category.subCategory1:"datalayer field empty",f=(s.component.length&&s.component[s.component.length-1].category.subCategory2,_satellite.getVar("productBuilder")),v=_satellite.getVar("productBuilder");if(s.custom&&s.custom.event&&s.custom.event.length&&s.custom.event[s.custom.event.length-1].attributes!=undefined&&s.custom.event[s.custom.event.length-1].attributes.search!=undefined){var h=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].label:"datalayer field empty",P=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].term:"datalayer field empty",C=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].state:"datalayer field empty",j=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].unit:"datalayer field empty";f.category="vehicle",f.id="datalayer field missing",f.merchEvars={eVar31:C,eVar30:j,eVar32:h,eVar33:P?P.toString():P}}if(s.custom&&s.custom.product&&s.custom.product.length)for(var y=0;y<s.custom.product.length;y++){if(s.custom.product[y].category&&"service"===s.custom.product[y].category.productType){var R=s.custom.product[y].category.productType||"datalayer field empty",w=(s.custom.product[y].category.primaryCategory,s.custom.product[y].category.subCategory1,s.custom.product[y].productInfo.productName,s.custom.product[y].productInfo.productID||"datalayer field empty"),I=s.custom.product[y].attributes.fin.downPayment||"datalayer field empty",E=s.custom.product[y].attributes.fin.monthlyPayment||"datalayer field empty",T=s.custom.product[y].attributes.fin.term||"datalayer field empty",_=s.custom.product[y].attributes.fin.annualMileage||"datalayer field empty";f.category=R,f.id=w,f.merchEvars={eVar84:I?I.toString():I,eVar85:_?_.toString():_,eVar86:E?E.toString():E,eVar87:T?T.toString():T}}if(s.custom.product[y].category&&"vehicle"===s.custom.product[y].category.productType){var k=s.custom.product[y].category.productType||"datalayer field empty",A=s.custom.product[y].category.primaryCategory||"datalayer field empty",x=s.custom.product[y].category.subCategory1||"datalayer field empty",O=s.custom.product[y].productInfo.productName||"datalayer field empty",S=s.custom.product[y].productInfo.productID||"datalayer field empty",V=s.custom.product[y].productInfo.manufacturer||"datalayer field empty",L=s.custom.product[y].attributes.modelCode||"datalayer field empty",D=s.custom.product[y].attributes.hybridVersion||"datalayer field empty",M=s.custom.product[y].attributes.series||"datalayer field empty",F=s.custom.product[y].attributes.motorization||"datalayer field empty";if(F){var N=/[0-9]{3}[a-z]{1}/i,B=/xdrive[0-9]{2}[a-z]{1}/i,U=/sdrive[0-9]{2}[a-z]{1}/i,q=F.match(N)||F.match(B)||F.match(U);-1<F.indexOf("i3 (120 ah)")||-1<F.indexOf("i3 (120ah)")||-1<F.indexOf("i3 120ah")?F="i3 (120 ah)":-1<F.indexOf("i3s (120 ah)")||-1<F.indexOf("i3s (120ah)")||-1<F.indexOf("i3s 120ah")?F="i3s (120 ah)":q&&q.length&&(F=q[0].toUpperCase())}v.category=k,v.id=S,v.merchEvars={eVar10:"datalayer field missing",eVar53:A,eVar54:x,eVar52:O,eVar60:V,eVar48:L,eVar57:D,eVar50:M,eVar58:F}}}a.prop44=u,a.prop19=m,a.prop41=b,a.prop42=p,a.prop43=g,a.prop56=n,a.prop57=r,(d="na"==d?"datalayer field empty":d)&&parseInt(d)&&!isNaN(parseInt(d))?(6e4<parseInt(d)?a.events=a.apl(a.events,"event970=60001",",",1):parseInt(d)<=0?a.events=a.apl(a.events,"event970=0",",",1):a.events=a.apl(a.events,"event970="+d,",",1),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event970")):a.prop58=d,a.prop53=o,a.prop12=i,a.prop52=c,a.eVar34=l,f.append(v),a.products=f.toString(),a.linkTrackVars+="prop44,prop19,prop41,prop42,prop43,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products"}catch(e){_satellite.logger.error("Error in EBR - CA - iFrame - AA - ACS Click Tracking: ",e)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL8bedbed9138247c481c7ee125ea8d662",name:" TPT - IE - AEM - Gtag_DC - PHEV Enquire Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/redirect/retailer-enquiry.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC2724bb8f656d4e99928e7355eb426258-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d88b1dec64e4e289b484869abdc3010",name:"TPT - ID - AEM - Facebook - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfbcafae85d1d46f3bc0948fbe6e3e27d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb7c83a90ae444b69b0e319b0938b4c33",name:"TPT - RU - Multiple - Chatbot ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(t){try{window.addEventListener("re-trigger-third-party",function(e){e.detail&&t()})}catch(e){_satellite.logger.error("re-trigger : TPT - RU - Multiple - Chatbot",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"RU"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ru/test/bot-test-1.html",valueIsRegex:!0},{value:"/ru/test/bot-test-2.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC6238b3706d1544be8f0c4088e43761e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8ef12bc1b8c44493bf15c621622f1eeb",name:"TPT - DE - AEM - Linkedin - Adobe Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC3b1edaa388694148b152b28607dead17-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL39235fe8e5d34d01b585468d16aafdd6",name:"TPT - UK - AEM - GTagDC - Register for Updates Form Submit - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i2963_dc.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCd45e639debf24c488df05188887e8bd4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL054f09cc24c64976b3c6c457309efbdc",name:"TPT - ES - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/informacion/promociones/ofertas/",valueIsRegex:!0},{value:"/es/ssl/landing-renting/",valueIsRegex:!0},{value:"/es/topics/mundo-bmw/",valueIsRegex:!0},{value:"/es/topics/presentacion/",valueIsRegex:!0},{value:"/es/informacion/promociones/ofertas/select/",valueIsRegex:!0},{value:"black-shadow.bmw.es/es/bmw-serie-2-grand-coupe",valueIsRegex:!0},{value:"/es/informacion/financia/",valueIsRegex:!0},{value:"/es/ssl/catalogos.html",valueIsRegex:!0},{value:"/promocion/heroes",valueIsRegex:!0},{value:"/es/coches-bmw/",valueIsRegex:!0},{value:"/es_ES/configurator.html",valueIsRegex:!0},{value:"/es/ssl/formulario-showroom.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCda92059a953e4d88b610b3d44bbfdce4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf7bedaf837694d03b629475c1d5a8ec1",name:"TPT - AT - AEM - Doubleclick - Configure History Change - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCda6d10851e254b2ab251d225369086b9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL749fda8c66264ad4af3c8f844aa262c9",name:" TPT - CA - AEM - Invoca - Dealer Locator - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",
settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb8cdc79229614e80b7e26d0be32aba52-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41f0665af09c4d6faf79d6c2dd0b72b9",name:"PLR - DE - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/neufahrzeuge/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCb876f165cd474f6db783bab38bc698e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL52789f720ae142caa1ccf6ec12d36b9d",name:"DCR - All - AA - Custom Code - JS error tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_js_error"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=["bmw.ch"],a=_satellite.getVar("topLevelDomain");return-1<t.indexOf(a)}catch(e){var s={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,s)}}}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{_satellite.getVar("setDefaultVariables",t)(a);var s=t.detail;a.prop56="error",a.prop53="component",a.prop57="call",a.eVar34=s.message,a.prop52=s.filename,a.prop54="js error",a.prop58=s.lineno,a.eVar71=s.filename,a.linkTrackVars=a.apl(a.linkTrackVars,"prop12,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,eVar34,eVar71"),a.events=a.apl(a.events,"event933"),a.linkTrackEvents=a.apl(a.linkTrackEvents,"event933")}catch(e){var r={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,r)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Error Tracking",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL7a1cd75c25ae49f2acce6a8b81883a3f",name:"TPT - CH - AEM - Adwords - SummaryDownloadPDF - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[bm-safe-click="downloadPDFPrint($event)"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/configurator"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC119f321196934c0cbd34190f432f8e1a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1a7bec3d389c4330b687848eed53bb3d",name:"PLR - ALL - NSC - AA - localform2.0 eventlistener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    //DEEP Merge Code Start\n    function isMergeableObject(val) {\n    var nonNullObject = val && typeof val === 'object'\n    return nonNullObject\n        && Object.prototype.toString.call(val) !== '[object RegExp]'\n        && Object.prototype.toString.call(val) !== '[object Date]'\n    }\n    function emptyTarget(val) {\n        return Array.isArray(val) ? [] : {}\n    }\n    function cloneIfNecessary(value, optionsArgument) {\n        var clone = optionsArgument && optionsArgument.clone === true\n        return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n    }\n    function defaultArrayMerge(target, source, optionsArgument) {\n        var destination = target.slice()\n        source.forEach(function(e, i) {\n            if (typeof destination[i] === 'undefined') {\n                destination[i] = cloneIfNecessary(e, optionsArgument)\n            } else if (isMergeableObject(e)) {\n                destination[i] = deepmerge(target[i], e, optionsArgument)\n            } else if (target.indexOf(e) === -1) {\n                destination.push(cloneIfNecessary(e, optionsArgument))\n            }\n        })\n        return destination\n    }\n    function mergeObject(target, source, optionsArgument) {\n        var destination = {}\n        if (isMergeableObject(target)) {\n            Object.keys(target).forEach(function (key) {\n                destination[key] = cloneIfNecessary(target[key], optionsArgument)\n            })\n        }\n        Object.keys(source).forEach(function (key) {\n            if (!isMergeableObject(source[key]) || !target[key]) {\n                destination[key] = cloneIfNecessary(source[key], optionsArgument)\n            } else {\n                destination[key] = deepmerge(target[key], source[key], optionsArgument)\n            }\n        })\n        return destination\n    }\n    function deepmerge(target, source, optionsArgument) {\n        var array = Array.isArray(source);\n        var options = optionsArgument || { arrayMerge: defaultArrayMerge }\n        var arrayMerge = options.arrayMerge || defaultArrayMerge\n        if (array) {\n            return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n        } else {\n            return mergeObject(target, source, optionsArgument)\n        }\n    }\n    //DEEP Merge Code Ends\n  \n  \n    window.addEventListener('message', function (e) {\n      if(e && e.data && typeof e.data == \"string\" && e.data.indexOf('tracking-localform') > -1){\n        _satellite.logger.log(\"Localform: message received\");\n        try {\n            //Avoid JS error\n            if (e.data.charAt(0) == \"{\") {\n                var dlParam = e.data;\n                dlParam = JSON.parse(e.data) || {};\n                if (dlParam && dlParam.methodName && dlParam.methodName == \"tracking-localform\") {\n                    dlParam = dlParam.args[1];\n                    \n                    var oldDL = _satellite.getVar('finalDataLayer');\n                    var newDL = dlParam;\n                    dlParam = deepmerge(oldDL,newDL);\n                    \n                    dlParam['component'] = JSON.parse(JSON.stringify(newDL['component']));\n                    dlParam['event'] = JSON.parse(JSON.stringify(newDL['event']));\n                    \n                    _satellite.track('localform', {\n                        'webDL': dlParam\n                    });\n                }\n            }\n        } catch (err) {\n            var errorOrigin = {\n                from: \"AA\",\n                type: \"PLR\",\n                name: \"localform2.0 eventlistener\"\n            }\n            _satellite.logger.error(e, errorOrigin);\n        }\n      }\n    });\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: \"localform2.0 eventlistener\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RL445e7af5739740339703af70ab8cdd83",name:"TPT - ES - AEM - Doubleclick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCf3605f2225bc473abf0b7fe10994ec27-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe6dc5e97c8b0449e9fd8b703e1ee42c5",name:"DCR - All - IFrame - AA - Local Forms 3CT",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,a){try{var s=_satellite.getVar("snapshotDL"),r=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.eventInfo.effect"),o=(s.get("event.-1.eventInfo.cause"),s.get("event.-1.eventInfo.eventPoints"),s.get("event.-1.eventInfo.type")),i=s.get("event.-1.category.subCategory1"),c=s.get("event.-1.category.subCategory2"),l=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));_satellite.getVar("flatMapping")(a),_satellite.getVar("setDefaultVariables",t)(a),a.prop1=a.pageName=-1==l.indexOf("nsc >")?"nsc > "+l:l,a.eVar34=-1==n.indexOf("nsc >")?"nsc > "+n:n;var d,u={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"]},m=u[o.toLowerCase()],b=u[i.toLowerCase()],p=u[c.toLowerCase()];"nsc > form started"==n||"local > form started"==n?(d=a.apl(d,"event3,event4"),p!=undefined&&(d=a.apl(d,p[0])),m!=undefined&&(d=a.apl(d,m[0])),"RFI"!=o&&"ROI"!=o&&"FS RFO"!=o&&"fs rfo"!=o&&"roi"!=o&&"rfi"!=o||b!=undefined&&(d=a.apl(d,b[0]))):"nsc > form finished"==n||"local > form finished"==n?(d=a.apl(d,"event15,event16"),p!=undefined&&(d=a.apl(d,p[1])),m!=undefined&&(d=a.apl(d,m[1])),"RFI"!=o&&"ROI"!=o&&"FS RFO"!=o&&"fs rfo"!=o&&"rfi"!=o&&"roi"!=o||b!=undefined&&(d=a.apl(d,b[1]))):"nsc > form finish intention"==n||"form finish intension"==n||"local > form finish intention"==n?d=a.apl(d,"event917,event918,event13,event14"):"first form interaction"==n||"local > first form interaction"==n?d=a.apl(d,"event917,event918,event5,event6"):"form interaction"==n||"local > form interaction"==n?d=a.apl(d,"event917,event918,event9,event10"):-1<n.indexOf("form step")?d=a.apl(d,"event7,event8"):"form impression"==n?d=a.apl(d,"event925,event926"):-1<n.indexOf("error")&&(d=a.apl(d,"event931,event932"));var g=s.get("event.-1.attributes.leadTime","0");d=a.apl(d,"event977="+g),a.events=a.apl(a.events,d),a.linkTrackEvents=a.apl(a.linkTrackEvents,d),a.eVar137=s.get("component.-1.category.application","aem6"),a.prop55=s.get("event.-1.category.subCategory1",s.get("event.-1.attributes.errorCode")),a.eVar23=s.get("page.attributes.marketingConsent"),a.prop6=a.prop53="local form",a.prop7=s.get("event.-1.category.subCategory1"),a.prop8=-1==n.indexOf("nsc >")?n:n.substring(6),a.prop9=s.get("page.category.subCategory1"),a.prop10=s.get("page.category.subCategory2"),a.prop11=o,a.prop16=s.get("page.pageInfo.pageName"),a.prop17=s.get("event.-1.attributes.form.rfxID"),a.prop18=s.get("event.-1.category.subCategory2",s.get("event.-1.category.subCategory02")),a.eVar41=s.get("dealer.-1.dealerInfo.dealerGroupName"),a.eVar42=s.get("dealer.-1.dealerInfo.dealerGroupID"),a.eVar39=s.get("dealer.-1.dealerInfo.dealerOutletName"),a.eVar40=s.get("dealer.-1.dealerInfo.dealerOutletID"),a.prop42="locally developed",a.prop43="forms",((a.prop56="form")!=s.get("component.-1.category.subCategory01")&&"form"!=s.get("component.-1.category.subCategory1")||"aem6"!=s.get("component.-1.category.application"))&&"nsc > form finish intention"!=s.get("event.-1.eventInfo.effect")||"interaction"==r&&(a.prop6=a.prop53="adobe form"),"datalayer field missing"!=a.prop7&&"datalayer field empty"!=a.prop7||"form"==a.prop56&&(a.prop7="generic"),"datalayer field missing"!=a.prop55&&"datalayer field empty"!=a.prop55||"form"==a.prop56&&(a.prop55="generic"),"error"==r&&(a.prop56="error",a.prop6="",a.prop8="",a.prop55=s.get("event.-1.category.subCategory1"),a.prop53=s.get("event.-1.eventInfo.type"),a.eVar34=s.get("event.-1.eventInfo.effect"),a.prop52=s.get("event.-1.eventInfo.cause")),a.prop19="local form",a.linkTrackVars=a.apl(a.linkTrackVars,"products,eVar23,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56")}catch(e){var f={from:"AA",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,f)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%AA-eventType%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLd385264a6d5348e19c289d6c0a34dfed",name:"TPT - TH - AEM - GtagAW - Dealer Select- DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RCfac336f9effb4e87acde2f76a1e2f95b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL1619309e079e417e8e176a5489ebe501",name:"TPT - SE - AEM - AdForm - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8a14eb52585147baae6cd8adddf23717-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL21ef1597846040bba1b869dc83a5ba69",name:"TPT - DE - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC8cc6567ab69d4cd1a0cab950d23e9895-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf7ea3f3affa448fac34171eb6d11f37",name:"TPT - DE - AEM - Facebook - Outbound Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/13db8c50a256/RC9936b49246d04054ae174151c9656f71-source.min.js",language:"javascript",isExternal:!0}}]}]};var _satellite=function(){"use strict";function t(a){if(a.__esModule)return a;var s=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(a).forEach(function(e){var t=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(s,e,t.get?t:{enumerable:!0,get:function(){return a[e]}})}),s}function a(e){var t={exports:{}};return e(t,t.exports),t.exports}function s(t){var a=this.constructor;return this.then(function(e){return a.resolve(t()).then(function(){return e})},function(e){return a.resolve(t()).then(function(){return a.reject(e)})})}function l(e){return Boolean(e&&"undefined"!=typeof e.length)}function r(){}function n(e,t){return function(){e.apply(t,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],b(e,this)}function i(s,r){for(;3===s._state;)s=s._value;0!==s._state?(s._handled=!0,o._immediateFn(function(){var t=1===s._state?r.onFulfilled:r.onRejected;if(null!==t){var a;try{a=t(s._value)}catch(e){return void d(r.promise,e)}c(r.promise,a)}else(1===s._state?c:d)(r.promise,s._value)})):s._deferreds.push(r)}function c(t,a){try{if(a===t)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if(a instanceof o)return t._state=3,t._value=a,void u(t);if("function"==typeof s)return void b(n(s,a),t)}t._state=1,t._value=a,u(t)}catch(e){d(t,e)}}function d(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,a=e._deferreds.length;t<a;t++)i(e,e._deferreds[t]);e._deferreds=null}function m(e,t,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=a}function b(e,t){var a=!1;try{e(function(e){a||(a=!0,c(t,e))},function(e){a||(a=!0,d(t,e))})}catch(s){if(a)return;a=!0,d(t,s)}}function p(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function g(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(e){s[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(r){return!1}}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}if(window.atob){var v=function(e){var a=[];return e.forEach(function(t){t.events&&t.events.forEach(function(e){a.push({rule:t,event:e})})}),a.sort(function(e,t){return e.event.ruleOrder-t.event.ruleOrder})},h="debug",P=function(t,e){var a=function(){return"true"===t.getItem(h)},s=function(e){t.setItem(h,e)},r=[],n=function(e){r.push(e)};return e.outputEnabled=a(),{onDebugChanged:n,getDebugEnabled:a,setDebugEnabled:function(t){a()!==t&&(s(t),e.outputEnabled=t,r.forEach(function(e){e(t)}))}}},C="Module did not export a function.",j=function(n,o){return function(e,t,a){a=a||[];var s=n.getModuleExports(e.modulePath);if("function"!=typeof s)throw new Error(C);var r=o(e.settings||{},t);return s.bind(null,r).apply(null,a)}},y=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},R={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},w="\ud83d\ude80",I=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":w,E=!1,T=function(e){if(E&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(I),e!==R.DEBUG||window.console[e]||(e=R.INFO),window.console[e].apply(window.console,t)}},_=T.bind(null,R.LOG),k=T.bind(null,R.INFO),A=T.bind(null,R.DEBUG),x=T.bind(null,R.WARN),O=T.bind(null,R.ERROR),S={log:_,info:k,debug:A,warn:x,error:O,deprecation:function(){var e=E;E=!0,T.apply(null,Array.prototype.concat(R.WARN,Array.prototype.slice.call(arguments))),e||(E=!1)},get outputEnabled(){return E},set outputEnabled(e){E=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:_.bind(null,t),info:k.bind(null,t),debug:A.bind(null,t),warn:x.bind(null,t),error:O.bind(null,t)}}},V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},L=a(function(s){!function(e){if(s.exports=e(),!!0){var t=window.Cookies,a=window.Cookies=e();a.noConflict=function(){return window.Cookies=t,a}}}(function(){function c(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var s in a)t[s]=a[s]}return t}function d(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function s(l){function i(){}function a(t,a,s){if("undefined"!=typeof document){"number"==typeof(s=c({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var r=JSON.stringify(a);/^[\{\[]/.test(r)&&(a=r)}catch(e){}a=l.write?l.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var n="";for(var o in s)s[o]&&(n+="; "+o,!0!==s[o]&&(n+="="+s[o].split(";")[0]));return document.cookie=t+"="+a+n}}function t(t,a){if("undefined"!=typeof document){for(var s={},r=document.cookie?document.cookie.split("; "):[],n=0;n<r.length;n++){var o=r[n].split("="),i=o.slice(1).join("=");a||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var c=d(o[0]);if(i=(l.read||l)(i,c)||d(i),a)try{i=JSON.parse(i)}catch(e){}if(s[c]=i,t===c)break}catch(e){}}return t?s[t]:s}}return i.set=a,i.get=function(e){return t(e,!1)},i.getJSON=function(e){return t(e,!0)},i.remove=function(e,t){a(e,"",c(t,{expires:-1}))},i.defaults={},i.withConverter=s,i}return s(function(){})})}),D={get:L.get,set:L.set,remove:L.remove},M=window,F="com.adobe.reactor.",N=function(s,t){var r=F+(t||"");return{getItem:function(t){try{return M[s].getItem(r+t)}catch(e){return null}},setItem:function(t,a){try{return M[s].setItem(r+t,a),!0}catch(e){return!1}}}},B="_sdsat_",U="dataElements.",q="dataElementCookiesMigrated",G=N("localStorage"),H=N("sessionStorage",U),K=N("localStorage",U),z={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},W={},Y=function(t){var a;try{a=JSON.stringify(t)}catch(e){}return a},Z=function(e,t,a){var s;switch(t){case z.PAGEVIEW:return void(W[e]=a);case z.SESSION:return void((s=Y(a))&&H.setItem(e,s));case z.VISITOR:return void((s=Y(a))&&K.setItem(e,s))}},$=function(e,t){var a=D.get(B+e);a!==undefined&&Z(e,t,a)},J={setValue:Z,getValue:function(e,t){var a;switch(t){case z.PAGEVIEW:return W.hasOwnProperty(e)?W[e]:null;case z.SESSION:return null===(a=H.getItem(e))?a:JSON.parse(a);case z.VISITOR:return null===(a=K.getItem(e))?a:JSON.parse(a)}},migrateCookieData:function(t){G.getItem(q)||(Object.keys(t).forEach(function(e){$(e,t[e].storageDuration)}),G.setItem(q,!0))}},X=function(e,t,a,s){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(s?"\n"+s:"")},Q=function(i,c,l,d){return function(t,a){var s=c(t);if(!s)return d?"":undefined;var r,n=s.storageDuration;try{r=i.getModuleExports(s.modulePath)}catch(e){return void S.error(X(s,t,e.message,e.stack))}if("function"==typeof r){var o;try{o=r(l(s.settings,a),a)}catch(e){return void S.error(X(s,t,e.message,e.stack))}return n&&(null!=o?J.setValue(t,n,o):o=J.getValue(t,n)),null==o&&null!=s.defaultValue&&(o=s.defaultValue),"string"==typeof o&&(s.cleanText&&(o=y(o)),s.forceLowerCase&&(o=o.toLowerCase())),o}S.error(X(s,t,"Module did not export a function."))}},ee={text:function(e){return e.textContent},cleanText:function(e){return y(e.textContent)}},te=function(e,t,a){for(var s,r=e,n=0,o=t.length;n<o;n++){if(null==r)return undefined;var i=t[n];if(a&&"@"===i.charAt(0)){var c=i.slice(1);r=ee[c](r)}else if(r.getAttribute&&(s=i.match(/^getAttribute\((.+)\)$/))){var l=s[1];r=r.getAttribute(l)}else r=r[i]}return r},ae=function(n,o,i){return function(e,t){var a;if(o(e))a=i(e,t);else{var s=e.split("."),r=s.shift();"this"===r?t&&(a=te(t.element,s,!0)):"event"===r?t&&(a=te(t,s)):"target"===r?t&&(a=te(t.target,s)):a=te(n[r],s)}return a}},se=function(a,s){return function(e){var t=e.split(".")[0];return Boolean(s(e)||"this"===t||"event"===t||"target"===t||a.hasOwnProperty(t))}},re=function(e,t,a){var s={exports:{}};return e.call(s.exports,s,s.exports,t,a),s.exports},ne=function(){var o={},a=function(e){var t=o[e];if(!t)throw new Error("Module "+e+" not found.");return t},t=function(){Object.keys(o).forEach(function(t){try{s(t)}catch(e){var a="Error initializing module "+t+". "+e.message+(e.stack?"\n"+e.stack:"");S.error(a)}})},s=function(e){var t=a(e);return t.hasOwnProperty("exports")||(t.exports=re(t.definition.script,t.require,t.turbine)),t.exports};return{registerModule:function(e,t,a,s,r){var n={definition:t,extensionName:a,require:s,turbine:r};n.require=s,o[e]=n},hydrateCache:t,getModuleExports:s,getModuleDefinition:function(e){return a(e).definition},getModuleExtensionName:function(e){return a(e).extensionName}}},oe=!1,ie=function(s){return function(t,a){var e=s._monitors;e&&(oe||(S.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),oe=!0),e.forEach(function(e){e[t]&&e[t](a)}))}},ce=function(r,n,o){var a,s,i,c,l=[],d=function(e,t,a){if(!r(t))return e;l.push(t);var s=n(t,a);return l.pop(),null==s&&o?"":s};return a=function(e,a){var t=/^%([^%]+)%$/.exec(e);return t?d(e,t[1],a):e.replace(/%(.+?)%/g,function(e,t){return d(e,t,a)})},s=function(e,t){for(var a={},s=Object.keys(e),r=0;r<s.length;r++){var n=s[r],o=e[n];a[n]=c(o,t)}return a},i=function(e,t){for(var a=[],s=0,r=e.length;s<r;s++)a.push(c(e[s],t));return a},c=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?i(e,t):"object"==typeof e&&null!==e?s(e,t):e},function(e,t){return 10<l.length?(S.error("Data element circular reference detected: "+l.join(" -> ")),e):c(e,t)}},le=function(r){return function(e,t){if("string"==typeof e)r[arguments[0]]=t;else if(arguments[0]){var a=arguments[0];for(var s in a)r[s]=a[s]}}},de=setTimeout;o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var a=new this.constructor(r);return i(this,new m(e,t,a)),a},o.prototype["finally"]=s,o.all=function(t){return new o(function(r,n){function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var a=e.then;if("function"==typeof a)return void a.call(e,function(e){o(t,e)},n)}i[t]=e,0==--c&&r(i)}catch(s){n(s)}}if(!l(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return r([]);for(var c=i.length,e=0;e<i.length;e++)o(e,i[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(a){return new o(function(e,t){t(a)})},o.race=function(r){return new o(function(e,t){if(!l(r))return t(new TypeError("Promise.race accepts an array"));for(var a=0,s=r.length;a<s;a++)o.resolve(r[a]).then(e,t)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){de(e,0)},o._unhandledRejectionFn=function _t(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var ue=t(Object.freeze({__proto__:null,"default":o})),me="undefined"!=typeof window&&window.Promise||void 0!==V&&V.Promise||ue["default"]||ue,be=function(l,a,s){return function(i,t,c,e){return e.then(function(){var n,o=i.delayNext;return new me(function(e,t){var a=l(i,c,[c]);if(!o)return e();var s=i.timeout,r=new me(function(e,t){n=setTimeout(function(){t(new Error("A timeout occurred because the action took longer than "+s/1e3+" seconds to complete. "))},s)});me.race([a,r]).then(e,t)})["catch"](function(e){return clearTimeout(n),e=a(e),s(i,t,e),me.reject(e)}).then(function(){clearTimeout(n)})})}},pe=function(c,a,s,r,l){return function(o,t,i,e){return e.then(function(){var n;return new me(function(e,t){var a=c(o,i,[i]),s=o.timeout,r=new me(function(e,t){n=setTimeout(function(){t(new Error("A timeout occurred because the condition took longer than "+s/1e3+" seconds to complete. "))},s)});me.race([a,r]).then(e,t)})["catch"](function(e){return clearTimeout(n),e=a(e),r(o,t,e),me.reject(e)}).then(function(e){if(clearTimeout(n),!s(o,e))return l(o,t),me.reject()})})}},ge=me.resolve(),fe=function(s,r,e){return function(t,a){return t.conditions&&t.conditions.forEach(function(e){ge=s(e,t,a,ge)}),t.actions&&t.actions.forEach(function(e){ge=r(e,t,a,ge)}),ge=(ge=ge.then(function(){e(t)}))["catch"](function(){})}},ve=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},he=function(o,i,c,l){return function(t,a){var s;if(t.conditions)for(var r=0;r<t.conditions.length;r++){s=t.conditions[r];try{var n=o(s,a,[a]);if(ve(n))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!i(s,n))return c(s,t),!1}catch(e){return l(s,t,e),!1}}return!0}},Pe=function(a,s){return function(e,t){a(e,t)&&s(e,t)}},Ce=function(a){return function(e){var t=a.getModuleDefinition(e.modulePath);return t&&t.displayName||e.modulePath}},je=function(r){return function(e){var t=e.rule,a=e.event,s=r.getModuleDefinition(a.modulePath).name;return{$type:r.getModuleExtensionName(a.modulePath)+"."+s,$rule:{id:t.id,name:t.name}}}},ye=function(i,c,l,d,u,m){return function(a,t){var s=t.rule,r=t.event;r.settings=r.settings||{};try{var n=u(t);c(r,null,[function o(e){var t=l(n,e);a(function(){i(t,s)})}])}catch(e){m.error(d(r,s,e))}}},Re=function(r,n,o,i){return function(e,t,a){var s=n(e);o.error(r(s,t.name,a)),i("ruleActionFailed",{rule:t,action:e})}},we=function(r,n,o,i){return function(e,t,a){var s=n(e);o.error(r(s,t.name,a)),i("ruleConditionFailed",{rule:t,condition:e})}},Ie=function(s,r,n){return function(e,t){var a=s(e);r.log('Condition "'+a+'" for rule "'+t.name+'" was not met.'),n("ruleConditionFailed",{rule:t,condition:e})}},Ee=function(t,a){return function(e){t.log('Rule "'+e.name+'" fired.'),a("ruleCompleted",{rule:e})}},Te=function(n,o,i){return function(t,a){var s;if(t.actions)for(var r=0;r<t.actions.length;r++){s=t.actions[r];try{n(s,a,[a])}catch(e){return void o(s,t,e)}}i(t)}},_e=function(a,s,r,n){return function(e,t){n("ruleTriggered",{rule:t}),a?r(t,e):s(t,e)}},ke=function(e,t,a){return'Failed to execute "'+e+'" for "'+t+'" rule. '+a.message+(a.stack?"\n"+a.stack:"")},Ae=function(e,t){return t&&!e.negate||!t&&e.negate},xe=[],Oe=!1,Se=function(e){Oe?e():xe.push(e)},Ve=function(e,t,a){e(t).forEach(function(e){a(Se,e)}),Oe=!0,xe.forEach(function(e){e()}),xe=[]},Le=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},De=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,Ne=g()?Object.assign:function(e){for(var t,a,s=p(e),r=1;r<arguments.length;r++){for(var n in t=Object(arguments[r]))Me.call(t,n)&&(s[n]=t[n]);if(De){a=De(t);for(var o=0;o<a.length;o++)Fe.call(t,a[o])&&(s[a[o]]=t[a[o]])}}return s},Be=function(e,t){return Ne(t=t||{},e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return S.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ue=function(c,l){return function(e,t){var a=c[e];if(a){var s=a.modules;if(s)for(var r=Object.keys(s),n=0;n<r.length;n++){var o=r[n],i=s[o];if(i.shared&&i.name===t)return l.getModuleExports(o)}}}},qe=function(e,t){return function(){return t?e(t):{}}},Ge=function(a,s){return function(e){if(s){var t=e.split(".");t.splice(t.length-1||1,0,"min"),e=t.join(".")}
return a+e}},He=".js",Ke=function(e){return e.substr(0,e.lastIndexOf("/"))},ze=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},We=function(e,t){ze(t,He)||(t+=He);var a=t.split("/"),s=Ke(e).split("/");return a.forEach(function(e){e&&"."!==e&&(".."===e?s.length&&s.pop():s.push(e))}),s.join("/")},Ye=document,Ze=function(a,s){return new me(function(e,t){s.onload=function(){e(s)},s.onerror=function(){t(new Error("Failed to load script "+a))}})},$e=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=Ze(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},Je=function(e,t,a,s){t=t||"&",a=a||"=";var r={};if("string"!=typeof e||0===e.length)return r;var n=/\+/g;e=e.split(t);var o=1e3;s&&"number"==typeof s.maxKeys&&(o=s.maxKeys);var i=e.length;0<o&&o<i&&(i=o);for(var c=0;c<i;++c){var l,d,u,m,b=e[c].replace(n,"%20"),p=b.indexOf(a);0<=p?(l=b.substr(0,p),d=b.substr(p+1)):(l=b,d=""),u=decodeURIComponent(l),m=decodeURIComponent(d),f(r,u)?Array.isArray(r[u])?r[u].push(m):r[u]=[r[u],m]:r[u]=m}return r},Xe=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Qe=function(a,s,r,e){return s=s||"&",r=r||"=",null===a&&(a=undefined),"object"==typeof a?Object.keys(a).map(function(e){var t=encodeURIComponent(Xe(e))+r;return Array.isArray(a[e])?a[e].map(function(e){return t+encodeURIComponent(Xe(e))}).join(s):t+encodeURIComponent(Xe(a[e]))}).join(s):e?encodeURIComponent(Xe(e))+r+encodeURIComponent(Xe(a)):""},et=a(function(e,t){t.decode=t.parse=Je,t.encode=t.stringify=Qe}),tt="@adobe/reactor-",at={cookie:D,document:Ye,"load-script":$e,"object-assign":Ne,promise:me,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),et.parse(e)},stringify:function(e){return et.stringify(e)}},window:M},st=function(s){return function(e){if(0===e.indexOf(tt)){var t=e.substr(tt.length),a=at[t];if(a)return a}if(0===e.indexOf("./")||0===e.indexOf("../"))return s(e);throw new Error('Cannot resolve module "'+e+'".')}},rt=function(e,o,i,c,l){var d=e.extensions,u=e.buildInfo,m=e.property.settings;if(d){var b=Ue(d,o);Object.keys(d).forEach(function(s){var r=d[s],e=qe(c,r.settings);if(r.modules){var t=S.createPrefixedLogger(r.displayName),a=Ge(r.hostedLibFilesBaseUrl,u.minified),n={buildInfo:u,getDataElementValue:l,getExtensionSettings:e,getHostedLibFileUrl:a,getSharedModule:b,logger:t,propertySettings:m,replaceTokens:c,onDebugChanged:i.onDebugChanged,get debugEnabled(){return i.getDebugEnabled()}};Object.keys(r.modules).forEach(function(a){var e=r.modules[a],t=st(function(e){var t=We(a,e);return o.getModuleExports(t)});o.registerModule(a,e,s,t,n)})}}),o.hydrateCache()}return o},nt=function(e,t,a,s,r){var n=S.createPrefixedLogger("Custom Script");e.track=function(e){S.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name},e.company=t.company,e.buildInfo=t.buildInfo,e.logger=n,e.notify=function(e,t){switch(S.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:n.info(e);break;case 4:n.warn(e);break;case 5:n.error(e);break;default:n.log(e)}},e.getVar=s,e.setVar=r,e.setCookie=function(e,t,a){var s="",r={};a&&(s=", { expires: "+a+" }",r.expires=a);var n='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+s+").";S.deprecation(n),D.set(e,t,r)},e.readCookie=function(e){return S.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),D.get(e)},e.removeCookie=function(e){S.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),D.remove(e)},e.cookie=D,e.pageBottom=function(){},e.setDebug=a;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(S.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},ot=window._satellite;if(ot&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var it=ot.container;delete ot.container;var ct=it.property.settings.undefinedVarsReturnEmpty,lt=it.property.settings.ruleComponentSequencingEnabled,dt=it.dataElements||{};J.migrateCookieData(dt);var ut,mt=function(e){return dt[e]},bt=ne(),pt=Q(bt,mt,function(){return ut.apply(null,arguments)},ct),gt={},ft=le(gt),vt=se(gt,mt),ht=ae(gt,mt,pt);ut=ce(vt,ht,ct);var Pt=P(N("localStorage"),S);nt(ot,it,Pt.setDebugEnabled,ht,ft),rt(it,bt,Pt,ut,pt);var Ct=ie(ot),jt=j(bt,ut),yt=Ce(bt),Rt=Ie(yt,S,Ct),wt=we(ke,yt,S,Ct),It=Re(ke,yt,S,Ct),Et=Ee(S,Ct),Tt=ye(_e(lt,Pe(he(jt,Ae,Rt,wt),Te(jt,It,Et)),fe(pe(jt,Le,Ae,wt,Rt),be(jt,Le,It),Et),Ct),jt,Be,ke,je(bt),S);Ve(v,it.rules||[],Tt)}return ot}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();