define("ds2-uxn-content-bar",["jquery","ds2-uxn-content-bar-accessibility","ds2-touch-detection"],function(a,Q,c){return function(n){function y(){R="rtl"==a("html").attr("dir");q=da.outerWidth();m=h.outerWidth();S=parseInt(F.css("font-size"))+52;T=G.outerWidth()+52;U();z();F.on("click",H);G.on("click",k);I.on("click",ea);J.on("click",V);v.on("click",V);a(window).on("resize",K);W();fa.each(function(){d.height();a(this).css("top",-(d.height()+(window.innerWidth<MOBILE_BREAK_POINT?ANCHOR_EXTRA_SCROLL_MOBILE:
ANCHOR_EXTRA_SCROLL_DESKTOP)))});if(w.length)a(window).on("scroll",X(Y,300));L();c.any&&(h.addClass("touchDevice"),m=h[0]?h[0].scrollWidth:0,h.scroll(function(){A(1)}));oa.children().length||B.addClass("noCTA");ha()}function r(b){var e;m=h.outerWidth();c.any&&(m=h[0]?h[0].scrollWidth:0);l=[];for(e=0;e<p.length;e++)l.push(a(p[e]).outerWidth());b()}function L(){if("undefined"!==typeof ResizeObserver){var b=new ResizeObserver(function(){r(function(){K()})});M.slider&&b.observe(M.slider)}}function z(){m<=
q?N():Z()}function X(b,a){var e,c;return function(){var f=(new Date).getTime();e&&f<e+a?(clearTimeout(c),c=setTimeout(function(){e=f;b.call()},a-(f-e))):(e=f,b.call())}}function Y(){var b=a(window).scrollTop();w.each(function(e){e=a(this);var f=Math.floor(e.offset().top);if(b>=f)return f=e.attr("id"),e=ia[f],f=ja[f],e.hasClass(CSS_CLASS_SLIDER_ITEM_SELECTED)||(p.removeClass(CSS_CLASS_SLIDER_ITEM_SELECTED),e.addClass(CSS_CLASS_SLIDER_ITEM_SELECTED),O(e)),f.hasClass(CSS_CLASS_DRAWER_MOBILE_ITEM_SELECTED)||
(ka.removeClass(CSS_CLASS_DRAWER_MOBILE_ITEM_SELECTED),f.addClass(CSS_CLASS_DRAWER_MOBILE_ITEM_SELECTED),la.text(f.text())),!1;p.removeClass(CSS_CLASS_SLIDER_ITEM_SELECTED);ka.removeClass(CSS_CLASS_DRAWER_MOBILE_ITEM_SELECTED);la.text(pa)});aa=x.find(CSS_CLASS_DRAWER_MOBILE_SELECTED_ITEM_LINK);M.drawerMobileSelectedItemLink=aa[0]}function O(b){b=p.index(b);var a=g(),f=C();b>=f?k(b):b<=a&&H(b)}function U(){var b;for(b=0;b<p.length;b++)l.push(a(p[b]).outerWidth());p.on("click",function(){a(this).hasClass(CSS_CLASS_SLIDER_ITEM_SELECTED)||
(p.removeClass(CSS_CLASS_SLIDER_ITEM_SELECTED),a(this).addClass(CSS_CLASS_SLIDER_ITEM_SELECTED))})}function W(){function b(){a(window).scrollTop()>e?(d.addClass("ds2-uxn-navigation-content-bar_fixed"),ma.show()):(d.removeClass("ds2-uxn-navigation-content-bar_fixed"),ma.hide())}var e=d.offset().top;b();a(window).on("scroll",function(){b()})}function A(b){b=0>=b?b:t();b+m<=q+1?N():Z();-1<=b?D():na()}function K(){var b=da.outerWidth();m<=b+1?(D(),N(),u(0)):b>q?-t()+b>m&&(na(),N(),u(b-m)):Z();q=b;ha()}
function H(b){b="object"===typeof b?g():b;var e,f=0,d=a(".categoryText").width();d=!(0<b)||c.any&&d?0:1;for(e=0;e<b-d;e++)f+=l[e];f=-f;0<b-d&&(f+=S);b=f;u(b);A(b)}function g(){for(var b=t(),a=l.length-1,f=m;0<=Math.round(f-l[a]+b-S)&&0<=a;)f-=l[a],a--;return a}function k(b){b="object"===typeof b?C():b;var e,f=0,d=a(".categoryText").width();d=!(b<l.length-1)||c.any&&d?0:1;for(e=0;e<=b+d;e++)f+=l[e];f=q-f;b+d<l.length-1&&(f-=T);b=f;u(b);A(b)}function C(){for(var b=t(),a=0;1>=Math.round(b+l[a]-q+T)&&
a<l.length;)b+=l[a],a++;return a}function u(b){var a=b+"px";c.any?h.animate({scrollLeft:-1*b}):R?h.animate({right:a}):h.animate({left:a})}function t(){return c.any?-1*h.scrollLeft():R?parseFloat(h.css("right")):parseFloat(h.css("left"))}function D(b){F.css("visibility","hidden");B.removeClass("arrow-left-active")}function na(b){F.css("visibility","visible");B.addClass("arrow-left-active")}function N(b){G.css("visibility","hidden");B.removeClass("arrow-right-active")}function Z(b){G.css("visibility",
"visible");B.addClass("arrow-right-active")}function ea(){a(n).trigger(E.beforeDrawerOpen);a("body").css("overflow","hidden");a("html, body").animate({scrollTop:d.offset().top},500,function(){I.addClass(CSS_CLASS_DRAWER_LINK_HIDDEN);J.removeClass(CSS_CLASS_DRAWER_LINK_HIDDEN);v.css("display","block");P.slideDown(250);d.addClass(CSS_CLASS_DRAWER_LAYER_OPEN);a(n).trigger(E.drawerOpen)})}function V(){a(n).trigger(E.beforeDrawerClosed);a("body").css("overflow","auto");P.slideUp(250,function(){I.removeClass(CSS_CLASS_DRAWER_LINK_HIDDEN);
J.addClass(CSS_CLASS_DRAWER_LINK_HIDDEN);v.css("display","none");d.removeClass(CSS_CLASS_DRAWER_LAYER_OPEN);a(n).trigger(E.drawerClosed)})}function ha(){function b(b){d=b.text();b.html("\x3cspan\x3e"+d+"\x3c/span\x3e");c=b.find("span").outerWidth();b.width(c+1)}var a=window.innerWidth,d="",c=0;768<=a&&1200>a?(ba.length&&b(ba),ca.length&&b(ca)):(ba.width(""),ca.width(""))}CSS_CLASS_SLIDER_LINK=".slider-item a";CSS_CLASS_ANCHOR=".ds2-anchor";CSS_CLASS_SLIDER_ITEM_SELECTED="slider-item-selected";CSS_CLASS_CATEGORY_LINK_MOBILE=
".categoryLinkMobile";CSS_CLASS_CATEGORY_LINK=".categoryLink a";CSS_CLASS_CATEGORY_LINK_TEXT=".categoryLink .categoryText";CSS_CLASS_DRAWER_LAYER=".drawerLayer";CSS_CLASS_DRAWER_LAYER_OPEN="drawer-layer--open";CSS_CLASS_DRAWER_LINKS=".drawerLinks";CSS_CLASS_DRAWER_MOBILE_LINKS=".mobileLinks";CSS_CLASS_DRAWER_MOBILE_ITEMS=".item";CSS_CLASS_DRAWER_MOBILE_ITEM_SELECTED="item-selected";CSS_CLASS_DRAWER_MOBILE_ITEM_LINKS=".item a";CSS_CLASS_DRAWER_MOBILE_SELECTED_ITEM_LINK=" .item-selected a";CSS_CLASS_DRAWER_OPENER=
".drawerOpener";CSS_CLASS_DRAWER_OPENER_OPEN=".drawerLinkOpen";CSS_CLASS_DRAWER_OPENER_CLOSE=".drawerLinkClose";CSS_CLASS_DRAWER_LINK_HIDDEN="drawerLink--hidden";CSS_CLASS_DRAWER_LABEL=".ds2-label";CSS_CLASS_PAGE_LINKS=".pageLinks";CSS_CLASS_CTA=".cta";ANCHOR_EXTRA_SCROLL_DESKTOP=32;ANCHOR_EXTRA_SCROLL_MOBILE=12;MOBILE_BREAK_POINT=768;var d=a(n),ma=d.parent().find(".ds2-uxn-navigation-content-bar-placeholder"),da=a(d).find(".linksContainer"),h=a(d).find(".slider"),qa=a(h).find(".slider-item"),ra=
a(h).find(CSS_CLASS_SLIDER_LINK),F=a(d).find(".arrowLeft"),G=a(d).find(".arrowRight"),sa=a(d).find(CSS_CLASS_CATEGORY_LINK_MOBILE),ba=a(d).find(CSS_CLASS_CATEGORY_LINK),ca=a(d).find(CSS_CLASS_CATEGORY_LINK_TEXT),v=a(d).find(CSS_CLASS_DRAWER_LAYER),P=v.find(CSS_CLASS_DRAWER_LINKS),x=P.find(CSS_CLASS_DRAWER_MOBILE_LINKS),ta=x.find(CSS_CLASS_DRAWER_MOBILE_ITEMS),ua=x.find(CSS_CLASS_DRAWER_MOBILE_ITEM_LINKS),aa=x.find(CSS_CLASS_DRAWER_MOBILE_SELECTED_ITEM_LINK),I=a(d).find(CSS_CLASS_DRAWER_OPENER).find(CSS_CLASS_DRAWER_OPENER_OPEN),
J=a(d).find(CSS_CLASS_DRAWER_OPENER).find(CSS_CLASS_DRAWER_OPENER_CLOSE),la=a(d).find(CSS_CLASS_DRAWER_OPENER).find(CSS_CLASS_DRAWER_LABEL),pa=a(d).find(CSS_CLASS_DRAWER_OPENER).find(CSS_CLASS_DRAWER_LABEL).first().text(),oa=a(d).find(CSS_CLASS_CTA),B=a(d).find(CSS_CLASS_PAGE_LINKS),M={contentBar:d[0],slider:h[0],sliderItems:qa.toArray(),sliderLinks:ra.toArray(),categoryLinkMobile:sa[0],drawerLayer:v[0],drawerLinks:P[0],drawerMobileLinks:x[0],drawerMobileItems:ta.toArray(),drawerMobileItemLinks:ua.toArray(),
drawerMobileSelectedItemLink:aa[0],drawerLinkOpen:I[0],drawerLinkClose:J[0]},E={beforeDrawerOpen:"beforeDrawerOpen",drawerOpen:"drawerOpen",beforeDrawerClosed:"beforeDrawerClosed",drawerClosed:"drawerClosed"};(new Q(M,{DRAWER_LAYER_OPEN:"."+CSS_CLASS_DRAWER_LAYER_OPEN},{openDrawer:ea,closeDrawer:V,slideIfNeeded:O,showHideRightArrowButton:z},E)).init();var q,m,l=[],S,T,R,p=h.find(".slider-item"),ka=x.find(CSS_CLASS_DRAWER_MOBILE_ITEMS),fa=a(CSS_CLASS_ANCHOR),w=[];fa.each(function(){var b=a(this).attr("id").replace(/\./g,
"\\.");h.find(".slider-item \x3e a[href\x3d\\#"+b+"]").length&&w.push(this)});w=a(w.reverse());var ia={},ja={};w.each(function(){var b=a(this).attr("id").replace(/\./g,"\\.");ia[b]=h.find(".slider-item \x3e a[href\x3d\\#"+b+"]").parent();ja[b]=v.find(".item \x3e a[href\x3d\\#"+b+"]").parent()});h.length?y():d.css("display","none")}});
define("ds2-uxn-content-bar-accessibility",["jquery","ds2-accessibility"],function(a,Q){return function(c,n,y,r){function L(a){var c=a.container,g=a.links||[];c&&0!==g.length&&(k.addKeyListener("down",{element:c,keyCodes:[k.keyCodes.ARROW_DOWN,k.keyCodes.ARROW_RIGHT],cancel:!0,fn:function(){z({links:g})}}),k.addKeyListener("down",{element:c,keyCodes:[k.keyCodes.ARROW_UP,k.keyCodes.ARROW_LEFT],cancel:!0,fn:function(){z({links:g,direction:-1})}}))}function z(a){var c=a.links||[],g=c.indexOf(document.activeElement);
if(-1!==g){var n=c.length-1;a=g+(1===a.direction||-1===a.direction?a.direction:1);0>a||a>n||k.focusElement(c[a])}}function X(){c.sliderItems.forEach(function(c){c.querySelector("a").addEventListener("focus",function(){y.slideIfNeeded(a(c))})})}function Y(){a(g).on(r.drawerOpen,function(){c.drawerMobileSelectedItemLink&&k.focusElement(c.drawerMobileSelectedItemLink)})}function O(){a(g).on(r.drawerOpen,function(){k.activateKeyboardTrap({container:g,includeContainer:!1,requiredAncestor:n.DRAWER_LAYER_OPEN})})}
function U(){k.addKeyListener("up",{element:g,keyCodes:[k.keyCodes.ESC],fn:function(){y.closeDrawer()}})}function W(){a(g).on(r.drawerClosed,function(){setTimeout(function(){k.focusElement(c.drawerLinkOpen)},0)})}function A(){a(g).on(r.beforeDrawerOpen,function(){k.makeElementReadable(c.drawerCloseButtonScreenReader);c.main&&(D=c.main.getAttribute("role"),k.setAriaRole(c.main,"none"));setTimeout(function(){t=k.activateScreenReaderTrap(g)},500)})}function K(){a(g).on(r.beforeDrawerClosed,function(){k.makeElementUnreadable(c.drawerCloseButtonScreenReader);
c.main&&k.setAriaRole(c.main,D);setTimeout(function(){k.deactivateScreenReaderTrap(t)},500)})}function H(){c.drawerCloseButtonScreenReader.addEventListener("click",function(){y.closeDrawer()})}var g=c.contentBar,k=new Q(g),C=!1,u=!1,t={container:g,unreadables:[]},D="main";return{init:function(){c.drawerCloseButtonScreenReader=g.querySelector(".uxn-content-bar__close--screen-reader");c.main=g.closest("main");C||(C=!0,X(),L({container:c.slider,links:c.sliderLinks}),Y(),O(),L({container:c.drawerMobileLinks,
links:c.drawerMobileItemLinks}),U(),W());u||(u=!0,A(),K(),H())}}}});